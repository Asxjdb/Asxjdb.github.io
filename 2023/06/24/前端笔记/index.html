

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/violin-sqr.png">
  <link rel="icon" href="/img/violin-sqr.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Asxjdb">
  <meta name="keywords" content="">
  
    <meta name="description" content="前端笔记综合，还有蓝桥杯web组的题解">
<meta property="og:type" content="article">
<meta property="og:title" content="前端笔记">
<meta property="og:url" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/index.html">
<meta property="og:site_name" content="Asxjdb">
<meta property="og:description" content="前端笔记综合，还有蓝桥杯web组的题解">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230118210722069.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230118211327562.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230820155225250.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230820175921316.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230820175935711.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230118214125735.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230118215437795.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230820181151738.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230820181426172.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230820181459682.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230122152458566.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230122160227566.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230122160302425.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/value-16743747236631.svg">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230125201231629.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230125201548832.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230125202017909.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/flex.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230125203342344.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230125203610377.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230125210843783.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/bg2019032508.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/bg2019032514.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/bg2019032528.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230122162636439.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230123165652610.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230123173430541.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230122143456074.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230401164305032.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230825155202320.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230825155100224.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230825155124812.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230825155320575.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831145609880.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831195224515.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831204903411.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20240219195652706.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20240219200315765.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20240219200823047.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230307140257332.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230307151030851.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230829105517225.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831220810615.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831183236989.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831183253211.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831183303120.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831183311357.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831183320826.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831183328638.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831183336920.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831183344145.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831183352555.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831183359786.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831183407122.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831183415117.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831183425045.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230923160822252.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/6166336bf2d9cde9377a48e254cb9099-0.gif">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/23828431d3d026838a875127d37f4ca2-0.gif">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230325165358147.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230325170321186.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230327210304577.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20231004162939423.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20231004165105155.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/c60ce628cc702cc13e22bfb688fbf9e0-0.gif">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230902171945781.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230902210547501.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230903113559397.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230903113814077.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230903115658432.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230911151041239.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230912201155664.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230912201356552.png">
<meta property="og:image" content="https://echarts.apache.org/zh/documents/asset/img/basic-concepts-overview/series-all-b.jpg">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230317132119171.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230317141239890.png">
<meta property="og:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230317143127481.png">
<meta property="og:image" content="https://asxjdb.github.io/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20240218155800174.png">
<meta property="article:published_time" content="2023-06-24T08:50:24.000Z">
<meta property="article:modified_time" content="2024-03-28T07:59:21.516Z">
<meta property="article:author" content="Asxjdb">
<meta property="article:tag" content="前端">
<meta property="article:tag" content="蓝桥杯">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://asxjdb.github.io/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230118210722069.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>前端笔记 - Asxjdb</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"asxjdb.github.io","root":"/","version":"1.9.7","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"follow_dnt":true,"baidu":null,"google":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false},"gtag":null},"search_path":"/local-search.xml","include_content_in_search":true};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  

  

  

  

  

  

  



  
<meta name="generator" content="Hexo 6.3.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Asxjdb</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/" target="_self">
                <i class="iconfont icon-home-fill"></i>
                <span>首页</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/my-front-end/" target="_self">
                <i class="iconfont icon-book"></i>
                <span>我的前端笔记</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/" target="_self">
                <i class="iconfont icon-archive-fill"></i>
                <span>归档</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/" target="_self">
                <i class="iconfont icon-tags-fill"></i>
                <span>标签</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/" target="_self">
                <i class="iconfont icon-user-fill"></i>
                <span>关于</span>
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/" target="_self">
                <i class="iconfont icon-link-fill"></i>
                <span>友链</span>
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              <i class="iconfont icon-search"></i>
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">
              <i class="iconfont icon-dark" id="color-toggle-icon"></i>
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="前端笔记"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-06-24 16:50" pubdate>
          2023年6月24日 下午
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          73k 字
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          610 分钟
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> 次
        </span>
        
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <h1 id="seo-header">前端笔记</h1>
            
              <p id="updated-time" class="note note-info" style="display: none">
                
                  
                    本文最后更新于 2024-03-28T15:59:21+08:00
                  
                  

                
              </p>
            
            
              <div class="markdown-body">
                
                <p>学习记录：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1MN411y7pw">黑马程序员前端AJAX入门到实战全套教程，包含学前端框架必会的（ajax+node.js+webpack+git），一套全覆盖</a> 跳过webpack和git</li>
<li></li>
</ul>
<p>前端技术栈</p>
<ul>
<li>HTML：结构</li>
<li>CSS：样式</li>
<li>JavaScript：交互</li>
<li>http协议：传输</li>
</ul>
<p>快捷</p>
<ul>
<li><p><code>!</code>  快速生成html框架</p>
</li>
<li><p><code>ul&gt;li*6</code>   生成含有6个元素的无序列表</p>
</li>
<li><p>div.box 交集选择器<br>  div,p,span 并集选择器</p>
</li>
<li><p><code>div</code>占一行</p>
</li>
</ul>
<h2 id="HTML"><a href="#HTML" class="headerlink" title="HTML"></a>HTML</h2><p>自闭合：input, img</p>
<p>遇到的小标签</p>
<ul>
<li><code>&lt;hr&gt;</code>  分割线</li>
<li></li>
</ul>
<h3 id="基础"><a href="#基础" class="headerlink" title="基础"></a>基础</h3><h4 id="保留字-x2F-HTML-实体"><a href="#保留字-x2F-HTML-实体" class="headerlink" title="保留字 &#x2F; HTML 实体"></a>保留字 &#x2F; HTML 实体</h4><table>
<thead>
<tr>
<th align="left">字符</th>
<th align="left">实体</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&amp;</td>
<td align="left"><code>&amp;amp;</code></td>
<td align="left">解析为实体或字符引用的开头</td>
</tr>
<tr>
<td align="left">&lt;</td>
<td align="left"><code>&amp;lt;</code></td>
<td align="left">解析为 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Tag">tag</a> 的开头</td>
</tr>
<tr>
<td align="left">&gt;</td>
<td align="left"><code>&amp;gt</code></td>
<td align="left">解析为 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Tag">tag</a> 的结尾</td>
</tr>
<tr>
<td align="left">“</td>
<td align="left"><code>&amp;quot;</code></td>
<td align="left">解析为 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Attribute">attribute</a> 的值的开头和结尾</td>
</tr>
<tr>
<td align="left">空格</td>
<td align="left"><code>&amp;nbsp;</code></td>
<td align="left"></td>
</tr>
</tbody></table>
<h4 id="浏览器前缀"><a href="#浏览器前缀" class="headerlink" title="浏览器前缀"></a>浏览器前缀</h4><ul>
<li>-moz-：代表 firefox 浏览器私有属性</li>
<li>-ms-：代表 ie 浏览器私有属性</li>
<li>-webkit-：代表 safari、chrome 私有属性</li>
<li>-o-：代表 Opera 私有属性</li>
</ul>
<h3 id="列表"><a href="#列表" class="headerlink" title="列表"></a>列表</h3><p>三种列表</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>世界电影票房排行榜<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">ol</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>阿凡达<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>泰坦尼克号<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>复仇者联盟<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">ol</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>购物清单<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>aaa<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>bbb<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>ccc<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br><span class="hljs-comment">&lt;!-- key-value形式 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>霸王别姬<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">dl</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dt</span>&gt;</span>导演：<span class="hljs-tag">&lt;/<span class="hljs-name">dt</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dd</span>&gt;</span>陈凯歌<span class="hljs-tag">&lt;/<span class="hljs-name">dd</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dt</span>&gt;</span>主演：<span class="hljs-tag">&lt;/<span class="hljs-name">dt</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dd</span>&gt;</span>张国荣<span class="hljs-tag">&lt;/<span class="hljs-name">dd</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dd</span>&gt;</span>张丰毅<span class="hljs-tag">&lt;/<span class="hljs-name">dd</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dd</span>&gt;</span>巩俐<span class="hljs-tag">&lt;/<span class="hljs-name">dd</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dt</span>&gt;</span>上映日期：<span class="hljs-tag">&lt;/<span class="hljs-name">dt</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">dd</span>&gt;</span>1993-01-01<span class="hljs-tag">&lt;/<span class="hljs-name">dd</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">dl</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="链接"><a href="#链接" class="headerlink" title="链接"></a>链接</h3><h4 id="超链接"><a href="#超链接" class="headerlink" title="超链接"></a>超链接</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;https://www.baidu.com&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span>百度<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br></code></pre></td></tr></table></figure>

<ul>
<li><code>target = &quot;_blank&quot;</code>表示在新标签页打开</li>
</ul>
<h4 id="图片"><a href="#图片" class="headerlink" title="图片"></a>图片</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://upload.wikimedia.org/wikipedia/zh/thumb/1/13/Baidu_baike_logo.svg/1200px-Baidu_baike_logo.svg.png&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;能看到吧&quot;</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;400&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h4 id="音频"><a href="#音频" class="headerlink" title="音频"></a>音频</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">audio</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/...&quot;</span> <span class="hljs-attr">controls</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">audio</span>&gt;</span><br></code></pre></td></tr></table></figure>

<ul>
<li><code>controls</code>显示控制音频的按钮</li>
</ul>
<h4 id="视频"><a href="#视频" class="headerlink" title="视频"></a>视频</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">video</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;/...&quot;</span> <span class="hljs-attr">cintrols</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">video</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="输入"><a href="#输入" class="headerlink" title="输入"></a>输入</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;请输入用户名&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;range&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;number&quot;</span> <span class="hljs-attr">min</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">max</span>=<span class="hljs-string">&quot;10&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;input a number&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;date&quot;</span> <span class="hljs-attr">min</span>=<span class="hljs-string">&quot;2018-02-10&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">textarea</span>&gt;</span>Hey<span class="hljs-tag">&lt;/<span class="hljs-name">textarea</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>input使用：</p>
<ul>
<li><code>placeholder</code>用于提示人们在输入框中输入什么信息</li>
<li>为了防止用户在缺少所需信息时提交你的表单，你需要将 <code>required</code> 属性添加到 <code>input</code> 元素。 无需为 <code>required</code> 属性设置值。 只需将单词 <code>required</code> 添加到 <code>input</code> 元素，确保它和其他属性之间有空格。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span>/&gt;</span> 苹果<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">checked</span>/&gt;</span>梨<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;sport&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;sport&quot;</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">select</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>草莓<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>香蕉<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>橘子<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">select</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">list</span>=<span class="hljs-string">&quot;countries&quot;</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">datalist</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;countries&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>Greece<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>US<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">option</span>&gt;</span>UK<span class="hljs-tag">&lt;/<span class="hljs-name">option</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">datalist</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;/url&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--action中为表单的接收地址--&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h4 id="事件"><a href="#事件" class="headerlink" title="事件"></a>事件</h4><ul>
<li><code>change</code>：当元素的值改变并且失去焦点时触发。</li>
<li><code>input</code>：元素的值改变时立即触发，无需等待元素失去焦点。</li>
<li><code>focus</code>：元素获得焦点时触发。</li>
<li><code>blur</code>：元素失去焦点时触发。</li>
</ul>
<h3 id="引用"><a href="#引用" class="headerlink" title="引用"></a>引用</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">blockquote</span> <span class="hljs-attr">cite</span>=<span class="hljs-string">&quot;https://&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><br>        天才<br>    <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">blockquote</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>我最喜欢的一本书是<span class="hljs-tag">&lt;<span class="hljs-name">cite</span>&gt;</span>小王子<span class="hljs-tag">&lt;/<span class="hljs-name">cite</span>&gt;</span>。<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>在<span class="hljs-tag">&lt;<span class="hljs-name">cite</span>&gt;</span>第一章<span class="hljs-tag">&lt;/<span class="hljs-name">cite</span>&gt;</span>，我们讲过<span class="hljs-tag">&lt;<span class="hljs-name">q</span>&gt;</span>字符串是不可变量<span class="hljs-tag">&lt;/<span class="hljs-name">q</span>&gt;</span>。<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span>const<span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span>声明创建一个只读的常量。<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">pre</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">code</span>&gt;</span><br>const add=(a,b)=&gt;a+b;<br><span class="hljs-tag">&lt;/<span class="hljs-name">code</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">pre</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>在投资之前，<span class="hljs-tag">&lt;<span class="hljs-name">strong</span>&gt;</span>一定要做风险评估<span class="hljs-tag">&lt;/<span class="hljs-name">strong</span>&gt;</span>。<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Cats <span class="hljs-tag">&lt;<span class="hljs-name">em</span>&gt;</span>are<span class="hljs-tag">&lt;/<span class="hljs-name">em</span>&gt;</span> cute animals.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="语义化"><a href="#语义化" class="headerlink" title="语义化"></a>语义化</h3><img src="image-20230118210722069.png" srcset="/img/loading.gif" lazyload width=750>

<ul>
<li>HTML的语义化</li>
<li><img src="/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230118211327562.png" srcset="/img/loading.gif" lazyload alt="image-20230118211327562"></li>
</ul>
<p>语义化的好处</p>
<ul>
<li>代码可读性</li>
<li>可维护性</li>
<li>搜索引擎优化</li>
<li>提升无障碍性</li>
</ul>
<p><strong>HTML：传达内容，而不是样式</strong></p>
<p>如何做到可视化</p>
<ul>
<li>了解每个标签和属性的含义</li>
<li>思考什么标签最适合描述这个内容</li>
<li>不适用可视化工具生成代码</li>
</ul>
<h3 id="HTML5"><a href="#HTML5" class="headerlink" title="HTML5"></a>HTML5</h3><p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230820155225250.png" srcset="/img/loading.gif" lazyload alt="image-20230820155225250"></p>
<h5 id="表单"><a href="#表单" class="headerlink" title="表单"></a>表单</h5><p>新增类别：</p>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230820175921316.png" srcset="/img/loading.gif" lazyload alt="image-20230820175921316"></p>
<p>新增属性：</p>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230820175935711.png" srcset="/img/loading.gif" lazyload alt="image-20230820175935711"></p>
<ul>
<li><p>选择器</p>
<p><code>input::placegolder&#123;&#125;</code></p>
</li>
</ul>
<h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><h3 id="基础知识"><a href="#基础知识" class="headerlink" title="基础知识"></a>基础知识</h3><h4 id="Tips"><a href="#Tips" class="headerlink" title="Tips"></a>Tips</h4><p><img src="/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230118214125735.png" srcset="/img/loading.gif" lazyload alt="image-20230118214125735"></p>
<ul>
<li><p><code>h1&#123;   &#125;</code>：一条规则</p>
</li>
<li><p>起手式</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs css">*&#123;<br>    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">box-sizing</span>: border-box;  //<span class="hljs-attribute">width</span>包含<span class="hljs-attribute">padding</span>和<span class="hljs-attribute">border</span><br>                <span class="hljs-attribute">content</span>-box; //<span class="hljs-attribute">width</span>只包含<span class="hljs-attribute">content</span><br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>移除链接下划线</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">text-decoration</span>: none;<br></code></pre></td></tr></table></figure>
</li>
<li><p>移除<code>li</code>圆点</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">list-style</span>: none;<br></code></pre></td></tr></table></figure>
</li>
<li><p>居中</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css">垂直：line-hight = <span class="hljs-attribute">height</span>;<br>     <span class="hljs-attribute">vertical-align</span>: baseline | top | middle | bottom //只适用于 行内元素 和 行内块元素<br>    // 对自己生效<br>水平：text-align: center;<br>     <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span> auto;<br></code></pre></td></tr></table></figure>
</li>
<li><p>背景颜色作用到border内</p>
</li>
<li><p>清除<code>input</code>默认样式</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">outline</span>: none;<br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="零碎"><a href="#零碎" class="headerlink" title="零碎"></a>零碎</h4><ul>
<li><p>定义常量</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-pseudo">:root</span> &#123;<br>    <span class="hljs-attr">--grey</span>: <span class="hljs-number">#f7f7f7</span>;<br>    <span class="hljs-attr">--white</span>: <span class="hljs-number">#fff</span>;<br>&#125;<br><span class="hljs-selector-tag">div</span> &#123;<br>    <span class="hljs-attribute">background</span>: <span class="hljs-built_in">var</span>(--grey); <br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>单行文本溢出省略号</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-comment">/*1. 宽度要固定，先强制一行内显示文本*/</span> <br><span class="hljs-attribute">white-space</span>: nowrap; （ 默认 <span class="hljs-attribute">normal</span> 自动换行） <br><span class="hljs-comment">/*2. 超出的部分隐藏*/</span> <br><span class="hljs-attribute">overflow</span>: hidden; <br><span class="hljs-comment">/*3. 文字用省略号替代超出的部分*/</span> <br><span class="hljs-attribute">text-overflow</span>: ellipsis;<br></code></pre></td></tr></table></figure>
</li>
<li><p>多行文本溢出显示省略号</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">p</span> &#123;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">300px</span>;<br>    <span class="hljs-attribute">overflow</span>: hidden;<br>    <span class="hljs-comment">/*将对象作为弹性伸缩盒子模型显示*/</span><br>    <span class="hljs-attribute">display</span>: -webkit-box;<br>    <span class="hljs-comment">/*设置子元素排列方式*/</span><br>    -webkit-box-orient: vertical;<br>    <span class="hljs-comment">/*设置显示的行数，多出的部分会显示为...*/</span><br>    -webkit-line-clamp: <span class="hljs-number">3</span>;<br>  &#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>inline-block元素间有空格，这是<code>著名的inline-block“换行符/空格间隙问题”</code>，<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_33237207/article/details/86645648">CSDN</a>，<a target="_blank" rel="noopener" href="https://chat.openai.com/share/7e3ea6f8-dc0e-4208-9e7d-3b172b33dcf8">ChatGPT 解决办法</a></p>
<ol>
<li>父元素字号设为0，或</li>
<li>子元素添加float属性</li>
</ol>
</li>
</ul>
<h4 id="在页面中使用CSS"><a href="#在页面中使用CSS" class="headerlink" title="在页面中使用CSS"></a>在页面中使用CSS</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs css">&lt;!-- 外链 --&gt;<br>&lt;link rel=&quot;stylesheet&quot; href=&quot;/assets/style<span class="hljs-selector-class">.css</span>&quot;&gt;<br><br>&lt;!-- 嵌入 --&gt;<br>&lt;style&gt;<br>    <span class="hljs-selector-tag">li</span> &#123;<span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>; <span class="hljs-attribute">list-style</span>: none;&#125;<br>    <span class="hljs-selector-tag">p</span> &#123;<span class="hljs-attribute">margin</span>: lem <span class="hljs-number">0</span>;&#125;<br>&lt;/style&gt;<br><br>&lt;!-- 内联 --&gt;<br>&lt;<span class="hljs-selector-tag">p</span> style=&quot;magin: lem <span class="hljs-number">0</span><span class="hljs-string">&quot;&gt;Example Content&lt;/p&gt;</span><br></code></pre></td></tr></table></figure>

<p><img src="/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230118215437795.png" srcset="/img/loading.gif" lazyload alt="image-20230118215437795"></p>
<h3 id="选择器"><a href="#选择器" class="headerlink" title="选择器"></a>选择器</h3><h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><ul>
<li><p>Selector</p>
</li>
<li><p>找出页面中的元素，以便给他们设置样式</p>
</li>
<li><p>使用多种方式选择元素</p>
<ul>
<li>按照标签名、类名或id</li>
<li>按照属性</li>
<li>按照DOM树中的位置</li>
</ul>
</li>
</ul>
<p>种类：</p>
<ul>
<li><p>统配选择器 <code>* &#123;......&#125;</code></p>
</li>
<li><p>标签选择器 <code>h1 &#123;&#125;</code></p>
</li>
<li><p>ID选择器 </p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css">&lt;<span class="hljs-selector-tag">h1</span> id=&quot;title&quot;&gt;<br><br><span class="hljs-selector-id">#title</span> &#123;......&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>类选择器</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css">&lt;<span class="hljs-selector-tag">li</span> class=&quot;done&quot;&gt;&lt;/<span class="hljs-selector-tag">li</span>&gt;<br><br><span class="hljs-selector-class">.done</span> &#123;......&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>属性选择器</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css">&lt;<span class="hljs-selector-tag">input</span> value=&quot;zhao&quot; disabled /&gt;<br>&lt;<span class="hljs-selector-tag">input</span> value=&quot;<span class="hljs-number">123456</span>&quot; type=&quot;password&quot; /&gt;<br><br><span class="hljs-selector-attr">[disabled]</span> &#123;......&#125;<br><span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">&quot;password&quot;</span>]</span> &#123;......&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230820181151738.png" srcset="/img/loading.gif" lazyload alt="image-20230820181151738"></p>
<ul>
<li>“~&#x3D;” 表示属性中包含独立的单词为 value。</li>
<li>“|&#x3D;” 表示属性中必须是完整且唯一的单词，或者以 “-“ 分隔开。</li>
<li>“^&#x3D;” 表示属性的前几个字母是 value 就可以。</li>
<li>“$&#x3D;” 表示属性的后几个字母是 value 就可以。</li>
<li>“*&#x3D;” 表示属性中做字符串拆分，只要能拆出来 value 这个词就行。</li>
</ul>
<h4 id="伪类"><a href="#伪类" class="headerlink" title="伪类"></a>伪类</h4><ul>
<li><p>pseudo-classes</p>
</li>
<li><p>不基于标签和属性定位元素</p>
</li>
<li><p>几种伪类</p>
<ul>
<li><p>状态伪类</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs css">&lt;!-- 对&lt;<span class="hljs-selector-tag">a</span>&gt;属性设置不同状态下的规则 --&gt;<br><span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:link</span> &#123;<span class="hljs-attribute">color</span>: black;&#125;<br><span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:visited</span> &#123;<span class="hljs-attribute">color</span>: gray;&#125;<br><span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:hover</span> &#123;<span class="hljs-attribute">color</span>: orange;&#125;&lt;!-- 鼠标移到链接上 --&gt;<br><span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:active</span> &#123;<span class="hljs-attribute">color</span>: red;&#125;<br><span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:focus</span> &#123;<span class="hljs-attribute">outline</span>: <span class="hljs-number">2px</span> solid orange&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>结构性伪类</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs css">&lt;<span class="hljs-selector-tag">ol</span>&gt;<br>    &lt;<span class="hljs-selector-tag">li</span>&gt;阿凡达&lt;/<span class="hljs-selector-tag">li</span>&gt;<br>    &lt;<span class="hljs-selector-tag">li</span>&gt;泰坦尼克号&lt;/<span class="hljs-selector-tag">li</span>&gt;<br>    &lt;<span class="hljs-selector-tag">li</span>&gt;星球大战&lt;/<span class="hljs-selector-tag">li</span>&gt;<br>    &lt;<span class="hljs-selector-tag">li</span>&gt;复仇者联盟&lt;/<span class="hljs-selector-tag">li</span>&gt;<br>    &lt;<span class="hljs-selector-tag">li</span>&gt;侏罗纪世界&lt;/<span class="hljs-selector-tag">li</span>&gt;<br>&lt;/<span class="hljs-selector-tag">ol</span>&gt;<br><br>&lt;style&gt;<br><span class="hljs-selector-tag">li</span> &#123;<br>    <span class="hljs-attribute">border-bottom</span>: <span class="hljs-number">1px</span> solid;<br>    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0.5em</span>;<br>&#125;<br><br><span class="hljs-selector-tag">li</span>: first-child &#123;<br>    <span class="hljs-attribute">color</span>: coral;<br>&#125;<br><br><span class="hljs-selector-tag">li</span>: last-child &#123;<br>    <span class="hljs-attribute">border-bottom</span>: none;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230820181426172.png" srcset="/img/loading.gif" lazyload alt="image-20230820181426172"></p>
</li>
</ul>
</li>
</ul>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230820181459682.png" srcset="/img/loading.gif" lazyload alt="image-20230820181459682"></p>
<p>区别：</p>
<ol>
<li>nth-child 对父元素里面所有孩子排序选择（序号是固定的） 先找到第n个孩子，然后看看是否和E匹配</li>
<li>nth-of-type 对父元素里面指定子元素进行排序选择。 先去匹配E ，然后再根据E 找第n个孩子</li>
</ol>
<h5 id="伪元素选择器"><a href="#伪元素选择器" class="headerlink" title="伪元素选择器"></a>伪元素选择器</h5><p>可以使用CSS创建新标签元素，二部需要HTML标签，从而简化HTML结构</p>
<ul>
<li><code>::before: </code>在元素内部的前面插入内容</li>
<li><code>::after: </code>在元素内部的后面插入内容</li>
</ul>
<ol>
<li>创建出来的是行内元素</li>
<li>这个元素在DOM中找不到，故意我们称之为伪元素</li>
<li>必须有<code>content</code>属性</li>
<li>和标签选择器相同，权重为1</li>
</ol>
<h4 id="组合"><a href="#组合" class="headerlink" title="组合"></a>组合</h4><ul>
<li>Combinators</li>
</ul>
<table>
<thead>
<tr>
<th>名称</th>
<th>语法</th>
<th>说明</th>
<th align="center">示例</th>
</tr>
</thead>
<tbody><tr>
<td>直接组合</td>
<td>AB</td>
<td>满足A的同时满足B</td>
<td align="center">input: focus</td>
</tr>
<tr>
<td>后代组合</td>
<td>A B</td>
<td>选中B，如果他是A的子孙</td>
<td align="center">nav a</td>
</tr>
<tr>
<td>亲自组合</td>
<td>A &gt; B</td>
<td>选中B，如果他是A的子元素</td>
<td align="center">section &gt; p</td>
</tr>
<tr>
<td>兄弟选择器</td>
<td>A ~ B</td>
<td>选中B，如果他在A后且和A同级</td>
<td align="center">h2 ~ p</td>
</tr>
<tr>
<td>相邻选择器</td>
<td>A + B</td>
<td>选中B，如果他紧跟在A后面</td>
<td align="center">h2 + p</td>
</tr>
</tbody></table>
<h4 id="选择器组"><a href="#选择器组" class="headerlink" title="选择器组"></a>选择器组</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">body</span>, <span class="hljs-selector-tag">h1</span>, <span class="hljs-selector-tag">h2</span>, <span class="hljs-selector-tag">h3</span> &#123;<br>    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-selector-attr">[type=<span class="hljs-string">&quot;checkbox&quot;</span>]</span>, <span class="hljs-selector-attr">[type=<span class="hljs-string">&quot;radio&quot;</span>]</span> &#123;<br>    <span class="hljs-attribute">box-sizing</span>: border-box;<br>    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="继承、层叠、优先"><a href="#继承、层叠、优先" class="headerlink" title="继承、层叠、优先"></a>继承、层叠、优先</h3><ul>
<li>某些属性会自动继承其父元素的计算值，除非显示指定一个值</li>
<li>和文字相关的一般都可以继承，和模型相关的都不可继承</li>
</ul>
<h4 id="优先级"><a href="#优先级" class="headerlink" title="优先级"></a>优先级</h4><p><code>继承/* &lt; 元素 &lt; 类 &lt; id &lt; 行内 &lt; !important</code></p>
<h4 id="特异度"><a href="#特异度" class="headerlink" title="特异度"></a>特异度</h4><ul>
<li>Specificity</li>
</ul>
<p><img src="/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230122152458566.png" srcset="/img/loading.gif" lazyload alt="image-20230122152458566"></p>
<h4 id="显式继承"><a href="#显式继承" class="headerlink" title="显式继承"></a>显式继承</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs css">* &#123;<br>    <span class="hljs-attribute">box-sizing</span>: inherit;<br>&#125;<br><br><span class="hljs-selector-tag">html</span> &#123;<br>    <span class="hljs-attribute">box-sizing</span>: border-box;<br>&#125;<br><br><span class="hljs-selector-class">.some-widget</span> &#123;<br>    <span class="hljs-attribute">box-sizing</span>: content-box; <br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="初始值"><a href="#初始值" class="headerlink" title="初始值"></a>初始值</h4><ul>
<li>CSS中，每个属性都有一个初始值<ul>
<li><code>background-color</code>的初始值为<code>transparent</code></li>
<li><code>margin-left</code>的初始值为0</li>
</ul>
</li>
<li>可以用<code>initial</code>关键字显式重置为初始值<ul>
<li><code>background-color: initial</code></li>
</ul>
</li>
</ul>
<h4 id="CSS求值过程"><a href="#CSS求值过程" class="headerlink" title="CSS求值过程"></a>CSS求值过程</h4><p><img src="/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230122160227566.png" srcset="/img/loading.gif" lazyload alt="image-20230122160227566"></p>
<p><img src="/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230122160302425.png" srcset="/img/loading.gif" lazyload alt="image-20230122160302425"></p>
<img src="value-16743747236631.svg" srcset="/img/loading.gif" lazyload>

<h3 id="布局"><a href="#布局" class="headerlink" title="布局"></a>布局</h3><h4 id="浮动"><a href="#浮动" class="headerlink" title="浮动"></a>浮动</h4><p>对于html: </p>
<ul>
<li>文本级标签：p、span、a、b、i、u、em。</li>
<li>容器级标签：div、h系列、li、dt、dd。</li>
</ul>
<p>对于css: </p>
<ul>
<li>行内元素：除了p之外，所有的文本级标签，都是行内元素。p是个文本级，但是是个块级元素。</li>
<li>块级元素：所有的容器级标签都是块级元素，还有p标签。</li>
</ul>
<p>行内元素：</p>
<ul>
<li>与其他行内元素并排；</li>
<li>不能设置宽、高。默认的宽度，就是文字的宽度。</li>
</ul>
<p>块级元素：</p>
<ul>
<li>霸占一行，不能与其他任何元素并列；</li>
<li>能接受宽、高。如果不设置宽度，那么宽度将默认变为父亲的100%</li>
</ul>
<p>pink网页布局准则</p>
<ul>
<li>多个块级元素纵向排列找标准流，多个块级元素和你选哪个排列找浮动</li>
<li></li>
</ul>
<p>创建浮动</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">float</span>: right|left|none;<br></code></pre></td></tr></table></figure>

<p>性质：</p>
<ul>
<li>脱离标准流的控制移动到指定位置（脱标）</li>
<li>浮动的盒子不再保留原来的位置</li>
<li><strong>相当于行内块元素</strong></li>
</ul>
<p>注意：</p>
<ul>
<li>兄弟们应该一起浮动</li>
<li>浮动的盒子只影响后面的标准流，不会影响前面的标准流</li>
</ul>
<p>清除浮动的方法：</p>
<ul>
<li><p>隔墙法：在末尾添加一个空块元素，如<code>div</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;clear:both&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>父级添加<code>overflow</code>属性，只适用于块级元素</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">overflow</span>: hidden;<br></code></pre></td></tr></table></figure>
</li>
<li><p>父级添加<code>after</code>伪元素</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.mainBox</span><span class="hljs-selector-pseudo">:after</span>&#123;<br>    <span class="hljs-attribute">display</span>: block;<br>    <span class="hljs-attribute">clear</span>:both;<br>    <span class="hljs-attribute">height</span>:<span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">content</span>: <span class="hljs-string">&quot;&quot;</span>;<br>    <span class="hljs-attribute">visibility</span>: hidden;<br>    <span class="hljs-attribute">overflow</span>:hidden;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>父级添加双伪元素</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.clearfix</span><span class="hljs-selector-pseudo">::before</span>,<span class="hljs-selector-class">.clearfix</span><span class="hljs-selector-pseudo">::after</span> &#123;<br>  <span class="hljs-attribute">content</span>: <span class="hljs-string">&quot;&quot;</span>;<br>  <span class="hljs-attribute">display</span>: table;<br>&#125;<br><span class="hljs-selector-class">.clearfix</span><span class="hljs-selector-pseudo">::after</span> &#123;<br>  <span class="hljs-attribute">clear</span>: both;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="Flex"><a href="#Flex" class="headerlink" title="Flex"></a>Flex</h4><p><a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2015/07/flex-grammar.html">阮一峰Flex教程</a></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">display</span>: flex;<br></code></pre></td></tr></table></figure>

<ul>
<li>一种新的排版上下文</li>
<li>当我们为父盒子设为 flex 布局以后，子元素的 float、clear 和 vertical-align 属性将失效。</li>
<li>他可以控制子级盒子的：<ul>
<li>摆放的流向(← →↑↓)</li>
<li>摆放顺序</li>
<li>盒子宽度和高度</li>
<li>水平和垂直方向的对齐</li>
<li>是否允许折行</li>
</ul>
</li>
</ul>
<hr>
<p>&#x3D;&#x3D;以下6个属性设置在容器上&#x3D;&#x3D;</p>
<ul>
<li>flex-direction：设置主轴的方向</li>
<li>justify-content：设置主轴上的子元素排列方式</li>
<li>flex-wrap：设置子元素是否换行</li>
<li>align-content：设置侧轴上的子元素的排列方式（多行）</li>
<li>align-items：设置侧轴上的子元素排列方式（单行）</li>
<li>flex-flow：复合属性，相当于同时设置了 flex-direction 和 flex-wrap</li>
</ul>
<h5 id="flex-direction属性"><a href="#flex-direction属性" class="headerlink" title="flex-direction属性"></a>flex-direction属性</h5><p>决定主轴的方向（即项目的排列方向）</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">flex-direction</span>: row | row-reverse | column | column-reverse<br></code></pre></td></tr></table></figure>

<img src="前端笔记/image-20230125201231629.png" srcset="/img/loading.gif" lazyload width=500px />

<h5 id="flex-wrap属性"><a href="#flex-wrap属性" class="headerlink" title="flex-wrap属性"></a>flex-wrap属性</h5><p>是否换行</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">flex-wrap</span>: nowrap | wrap | wrap-reverse;<br></code></pre></td></tr></table></figure>

<h5 id="flex-flow"><a href="#flex-flow" class="headerlink" title="flex-flow"></a>flex-flow</h5><p>属性是<code>flex-direction</code>属性和<code>flex-wrap</code>属性的简写形式，默认值为<code>row nowrap</code></p>
<h5 id="justify-content属性"><a href="#justify-content属性" class="headerlink" title="justify-content属性"></a>justify-content属性</h5><p>定义了项目在主轴上的对齐方式</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">justify-content</span>: flex-start | flex-end | center | space-between | space-around;<br></code></pre></td></tr></table></figure>

<ul>
<li><code>flex-start</code>（默认值）：左对齐</li>
<li><code>flex-end</code>：右对齐</li>
<li><code>center</code>： 居中</li>
<li><code>space-between</code>：两端对齐，项目之间的间隔都相等。</li>
<li><code>space-around</code>：每个项目两侧的间隔相等。所以，项目之间的间隔比项目与边框的间隔大一倍。</li>
</ul>
<img src="前端笔记/image-20230125201548832.png" srcset="/img/loading.gif" lazyload width=500px />

<h5 id="align-items属性"><a href="#align-items属性" class="headerlink" title="align-items属性"></a><code>align-items</code>属性</h5><ul>
<li><p>定义项目在纵轴上如何对齐。</p>
</li>
<li><p>该属性是控制子项在侧轴（默认是y轴）上的排列方式，在子项为单项（单行）的时候使用</p>
</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">align-items</span>: stretch | flex-start | flex-end | center | baseline;<br></code></pre></td></tr></table></figure>

<ul>
<li><code>flex-start</code>：纵轴的起点对齐。</li>
<li><code>flex-end</code>：纵轴的终点对齐。</li>
<li><code>center</code>：纵轴的中点对齐。</li>
<li><code>baseline</code>: 项目的第一行文字的基线对齐。</li>
<li><code>stretch</code>（默认值）：拉伸，如果项目未设置高度或设为auto，将占满整个容器的高度。</li>
</ul>
<img src="前端笔记/image-20230125202017909.png" srcset="/img/loading.gif" lazyload width=500px />

<h5 id="align-content属性"><a href="#align-content属性" class="headerlink" title="align-content属性"></a><code>align-content</code>属性</h5><ul>
<li>定义了多根轴线的对齐方式。如果项目只有一根轴线，该属性不起作用。</li>
<li>设置子项在侧轴上的排列方式 并且只能用于子项出现 换行 的情况（多行），在单行下是没有效果的。</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">align-content</span>: flex-start | flex-end | center | space-between | space-around | stretch;<br></code></pre></td></tr></table></figure>

<ul>
<li><code>flex-start</code>：与交叉轴的起点对齐。</li>
<li><code>flex-end</code>：与交叉轴的终点对齐。</li>
<li><code>center</code>：与交叉轴的中点对齐。</li>
<li><code>space-between</code>：与交叉轴两端对齐，轴线之间的间隔平均分布。</li>
<li><code>space-around</code>：每根轴线两侧的间隔都相等。所以，轴线之间的间隔比轴线与边框的间隔大一倍。</li>
<li><code>stretch</code>（默认值）：轴线占满整个轴，设置子项元素高度平分父元素高度</li>
</ul>
<img src="前端笔记/flex.png" srcset="/img/loading.gif" lazyload width=500px>

<hr>
<p>&#x3D;&#x3D;以下6个属性设置在项目上&#x3D;&#x3D;</p>
<ul>
<li>flex 子项目占的份数</li>
<li>align-self 控制子项自己在侧轴的排列方式</li>
<li>order属性定义子项的排列顺序（前后顺序）</li>
</ul>
<h5 id="order属性"><a href="#order属性" class="headerlink" title="order属性"></a><code>order</code>属性</h5><p>定义项目的排列顺序。数值越小，排列越靠前，默认为0。</p>
<h5 id="flex-grow属性"><a href="#flex-grow属性" class="headerlink" title="flex-grow属性"></a><code>flex-grow</code>属性</h5><p>定义项目的放大比例，默认为<code>0</code>，即如果存在剩余空间，也不放大</p>
<h5 id="flex-shrink属性"><a href="#flex-shrink属性" class="headerlink" title="flex-shrink属性"></a><code>flex-shrink</code>属性</h5><p>定义了项目的缩小比例，默认为1，即如果空间不足，该项目将缩小。</p>
<h5 id="flex-basis属性"><a href="#flex-basis属性" class="headerlink" title="flex-basis属性"></a><code>flex-basis</code>属性</h5><p>定义了在分配多余空间之前，项目占据的主轴空间（main size）</p>
<p>浏览器根据这个属性，计算主轴是否有多余空间。它的默认值为<code>auto</code>，即项目的本来大小。</p>
<h5 id="flex属性"><a href="#flex属性" class="headerlink" title="flex属性"></a><code>flex</code>属性</h5><p>是<code>flex-grow</code>, <code>flex-shrink</code> 和 <code>flex-basis</code>的简写，默认值为<code>0 1 auto</code>。后两个属性可选。</p>
<p><a target="_blank" rel="noopener" href="https://www.zhangxinxu.com/wordpress/2019/12/css-flex-deep/">简写</a>：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">flex</span>: x;<br>相当于：<span class="hljs-attribute">flex</span>: x <span class="hljs-number">1</span> <span class="hljs-number">0</span>;<br></code></pre></td></tr></table></figure>

<ul>
<li><code>flex-grow</code>就是家产剩余家产仍有富余的时候该如何分配。</li>
<li><code>flex-shrink</code>就是家产剩余家产不足的时候该如何分配。</li>
<li><code>flex-basis</code>就是分配固定的家产数量。</li>
</ul>
<h5 id="algn-self属性"><a href="#algn-self属性" class="headerlink" title="algn-self属性"></a><code>algn-self</code>属性</h5><p>允许单个项目有与其他项目不一样的对齐方式，可覆盖<code>align-items</code>属性。默认值为<code>auto</code>，表示继承父元素的<code>align-items</code>属性，如果没有父元素，则等同于<code>stretch</code>。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">align-self</span>: auto | flex-start | flex-end | center | baseline | stretch;<br></code></pre></td></tr></table></figure>

<h5 id="Flexibility"><a href="#Flexibility" class="headerlink" title="Flexibility"></a>Flexibility</h5><ul>
<li>可以设置子项的弹性：当容器有剩余空间时，会伸展；容器空间不够时，会收缩</li>
<li>flex-grow 有剩余空间时的伸展能力</li>
<li>flx-shrink 容器空间不足时收缩的能力</li>
<li>flex-basis 没有伸展或收缩时的基础长度</li>
</ul>
<img src="前端笔记/image-20230125203342344.png" srcset="/img/loading.gif" lazyload width=600px />

<h4 id="Grid"><a href="#Grid" class="headerlink" title="Grid"></a>Grid</h4><p><a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2019/03/grid-layout-tutorial.html">阮一峰Grid教程</a></p>
<img src="前端笔记/image-20230125203610377.png" srcset="/img/loading.gif" lazyload width=500px />

<ul>
<li>display: grid 使元素生成一个块级的 Grid 容器</li>
<li>使用grid-template 相关属性将容器划分为网络</li>
<li>设置每一个子项站哪些行、列</li>
</ul>
<p>Grid-line网格线</p>
<img src="前端笔记/image-20230125210843783.png" srcset="/img/loading.gif" lazyload width=600px />

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">grid-area</span>: grid-row-start/grid-column-start/grid-row-end/grid-column-end;<br></code></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;作用于容器：&#x3D;&#x3D;</p>
<h5 id="grid-template-columns，grid-template-rows"><a href="#grid-template-columns，grid-template-rows" class="headerlink" title="grid-template-columns，grid-template-rows"></a><code>grid-template-columns</code>，<code>grid-template-rows</code></h5><ul>
<li><p>指定行高和列宽</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">display</span>: grid;<br>  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">100px</span> <span class="hljs-number">100px</span> <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">grid-template-rows</span>: <span class="hljs-number">100px</span> <span class="hljs-number">100px</span> <span class="hljs-number">100px</span>;<br>&#125;<br>===<br><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">display</span>: grid;<br>  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(<span class="hljs-number">3</span>, <span class="hljs-number">100px</span>);<br>  <span class="hljs-attribute">grid-template-rows</span>: <span class="hljs-built_in">repeat</span>(<span class="hljs-number">3</span>, <span class="hljs-number">100px</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<p>画了一个3x3的网格</p>
</li>
</ul>
<p>关键字</p>
<ol>
<li><code>auto-fill</code></li>
</ol>
<ul>
<li><p>有时，单元格的大小是固定的，但是容器的大小不确定。如果希望每一行（或每一列）容纳尽可能多的单元格，这时可以使用<code>auto-fill</code>关键字表示自动填充</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">display</span>: grid;<br>  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(auto-fill, <span class="hljs-number">100px</span>);<br>  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-built_in">repeat</span>(<span class="hljs-number">12</span>, <span class="hljs-number">1</span>fr);<br>&#125;<br></code></pre></td></tr></table></figure>

<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/bg2019032508.png" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
</ul>
<ol start="2">
<li><p><code>auto-fit</code>与<code>auto-fill</code>相似。他们的差异体现在盒子不足以填满一行、并且单元格的宽度不固定时：auto-fill会保留空格，auto-fit会拉伸以填满一行</p>
</li>
<li><p><code>fr</code>指定比例的单位，相当于flex的<code>flex: number;</code></p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">display</span>: grid;<br>  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">150px</span> <span class="hljs-number">1</span>fr <span class="hljs-number">2</span>fr;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p><code>minmax()</code>，指定长度的范围</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">1</span>fr <span class="hljs-number">1</span>fr <span class="hljs-built_in">minmax</span>(<span class="hljs-number">100px</span>, <span class="hljs-number">1</span>fr);<br></code></pre></td></tr></table></figure>

<p><code>minmax(100px, 1fr)</code>表示列宽不小于<code>100px</code>，不大于<code>1fr</code></p>
</li>
<li><p><code>auto</code>有浏览器计算宽度</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">100px</span> auto <span class="hljs-number">100px</span>;<br></code></pre></td></tr></table></figure>

<p>上面代码中，第二列的宽度，基本上等于该列单元格的最大宽度，除非单元格内容设置了<code>min-width</code>，且这个值大于最大宽度。</p>
</li>
<li><p><strong>网格线的名称</strong></p>
<p><code>grid-template-columns</code>属性和<code>grid-template-rows</code>属性里面，还可以使用方括号，指定每一根网格线的名字，方便以后的引用。</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">display</span>: grid;<br>  <span class="hljs-attribute">grid-template-columns</span>: [c1] <span class="hljs-number">100px</span> [c2] <span class="hljs-number">100px</span> [c3] auto [c4];<br>  <span class="hljs-attribute">grid-template-rows</span>: [r1] <span class="hljs-number">100px</span> [r2] <span class="hljs-number">100px</span> [r3] auto [r4];<br>&#125;<br></code></pre></td></tr></table></figure>

<p>网格布局允许同一根线有多个名字，比如<code>[fifth-line row-5]</code>。</p>
</li>
</ol>
<h5 id="grid-row-gap，grid-column-gap，grid-gap"><a href="#grid-row-gap，grid-column-gap，grid-gap" class="headerlink" title="grid-row-gap，grid-column-gap，grid-gap"></a>grid-row-gap，grid-column-gap，grid-gap</h5><ul>
<li><code>row-gap</code>属性设置行与行的间隔（行间距）</li>
<li><code>column-gap</code>属性设置列与列的间隔（列间距）</li>
<li><code>gap</code>属性是<code>grid-column-gap</code>和<code>grid-row-gap</code>的合并简写形式，适用于<code>flex</code>和<code>grid</code><ul>
<li>如果<code>grid-gap</code>省略了第二个值，浏览器认为第二个值等于第一个值。</li>
</ul>
</li>
</ul>
<h5 id="grid-template-areas"><a href="#grid-template-areas" class="headerlink" title="grid-template-areas"></a>grid-template-areas</h5><p>网格布局允许指定”区域”（area），一个区域由单个或多个单元格组成。</p>
<p><code>grid-template-areas</code>性用于定义区域。</p>
<ol>
<li><p>下面代码先划分出9个单元格，然后将其定名为<code>a</code>到<code>i</code>的九个区域，分别对应这九个单元格</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.container</span> &#123;<br>  <span class="hljs-attribute">display</span>: grid;<br>  <span class="hljs-attribute">grid-template-columns</span>: <span class="hljs-number">100px</span> <span class="hljs-number">100px</span> <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">grid-template-rows</span>: <span class="hljs-number">100px</span> <span class="hljs-number">100px</span> <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">grid-template-areas</span>: <span class="hljs-string">&#x27;a b c&#x27;</span><br>                       <span class="hljs-string">&#x27;d e f&#x27;</span><br>                       <span class="hljs-string">&#x27;g h i&#x27;</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>多个单元格合并成一个区域的写法如下：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">grid-template-areas</span>: <span class="hljs-string">&quot;header header header&quot;</span><br>                     <span class="hljs-string">&quot;main main sidebar&quot;</span><br>                     <span class="hljs-string">&quot;footer footer footer&quot;</span>;<br></code></pre></td></tr></table></figure>
</li>
<li><p>如果某些区域不需要利用，则使用”点”（<code>.</code>）表示：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">grid-template-areas</span>: <span class="hljs-string">&#x27;a . c&#x27;</span><br>                     <span class="hljs-string">&#x27;d . f&#x27;</span><br>                     <span class="hljs-string">&#x27;g . i&#x27;</span>;<br></code></pre></td></tr></table></figure>

<p>上面代码中，中间一列为点，表示没有用到该单元格，或者该单元格不属于任何区域</p>
</li>
</ol>
<blockquote>
<p>注意，区域的命名会影响到网格线。每个区域的起始网格线，会自动命名为<code>区域名-start</code>，终止网格线自动命名为<code>区域名-end</code>。</p>
<p>比如，区域名为<code>header</code>，则起始位置的水平网格线和垂直网格线叫做<code>header-start</code>，终止位置的水平网格线和垂直网格线叫做<code>header-end</code></p>
</blockquote>
<h5 id="grid-auto-flow"><a href="#grid-auto-flow" class="headerlink" title="grid-auto-flow"></a>grid-auto-flow</h5><ul>
<li><p>指定项目的填充顺序</p>
</li>
<li><p>默认先行后列</p>
</li>
<li><p><code>grid-auto-flow: column;</code>先列后行</p>
</li>
<li><p><code>row dense</code>和<code>column dense</code>这两个值主要用于指定，某些项目指定位置以后，剩下的项目自动放置的方式——不留空格：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">grid-auto-flow</span>: row dense;<br></code></pre></td></tr></table></figure>

<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/bg2019032514.png" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
</ul>
<h5 id="justify-items，align-items，place-items"><a href="#justify-items，align-items，place-items" class="headerlink" title="justify-items，align-items，place-items"></a>justify-items，align-items，place-items</h5><ul>
<li><p><code>justify-items</code>属性设置单元格内容的<strong>水平</strong>位置（左中右）</p>
</li>
<li><p><code>align-items</code>属性设置单元格内容的<strong>垂直</strong>位置（上中下）</p>
</li>
<li><p><code>place-items</code>属性是<code>align-items</code>属性和<code>justify-items</code>属性的合并简写形式</p>
</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.container</span> &#123;<br>  justify-items: start | end | center | stretch;<br>  <span class="hljs-attribute">align-items</span>: start | end | center | stretch;<br>&#125;<br><br>place-items: &lt;align-items&gt; &lt;justify-items&gt;;<br></code></pre></td></tr></table></figure>

<h5 id="justify-content，align-content，place-content"><a href="#justify-content，align-content，place-content" class="headerlink" title="justify-content，align-content，place-content"></a>justify-content，align-content，place-content</h5><ul>
<li>指定整个grid网表在容器中的位置（grid可能没有填满容器）<ol>
<li>start - 对齐容器的起始边框。</li>
<li>end - 对齐容器的结束边框</li>
<li>center - 容器内部居中</li>
<li>stretch - 项目大小没有指定时，拉伸占据整个网格容器</li>
<li>space-around - 每个项目两侧的间隔相等。所以，项目之间的间隔比项目与容器边框的间隔大一倍</li>
<li>space-between - 项目与项目的间隔相等，项目与容器边框之间没有间隔</li>
<li>space-evenly - 项目与项目的间隔相等，项目与容器边框之间也是同样长度的间隔</li>
</ol>
</li>
<li><code>place-content: &lt;align-content&gt; &lt;justify-content&gt;</code>如果省略第二个值，浏览器就会假定第二个值等于第一个值</li>
</ul>
<h5 id="grid-auto-columns，grid-auto-rows"><a href="#grid-auto-columns，grid-auto-rows" class="headerlink" title="grid-auto-columns，grid-auto-rows"></a>grid-auto-columns，grid-auto-rows</h5><ul>
<li>定义网格外部元素的宽高</li>
<li>默认是单元格内容的大小</li>
</ul>
<h5 id="grid-template，grid"><a href="#grid-template，grid" class="headerlink" title="grid-template，grid"></a>grid-template，grid</h5><ol>
<li><code>grid-template</code>属性是<code>grid-template-columns</code>、<code>grid-template-rows</code>和<code>grid-template-areas</code>这三个属性的合并简写形式</li>
<li><code>grid</code>属性是<code>grid-template-rows</code>、<code>grid-template-columns</code>、<code>grid-template-areas</code>、 <code>grid-auto-rows</code>、<code>grid-auto-columns</code>、<code>grid-auto-flow</code>这六个属性的合并简写形式</li>
</ol>
<p>&#x3D;&#x3D;项目属性&#x3D;&#x3D;</p>
<h5 id="grid-column-start-属性，-grid-column-end-属性，-grid-row-start-属性，-grid-row-end-属性"><a href="#grid-column-start-属性，-grid-column-end-属性，-grid-row-start-属性，-grid-row-end-属性" class="headerlink" title="grid-column-start 属性， grid-column-end 属性， grid-row-start 属性， grid-row-end 属性"></a>grid-column-start 属性， grid-column-end 属性， grid-row-start 属性， grid-row-end 属性</h5><h5 id="grid-column-属性，-grid-row-属性"><a href="#grid-column-属性，-grid-row-属性" class="headerlink" title="grid-column 属性， grid-row 属性"></a>grid-column 属性， grid-row 属性</h5><ol>
<li><code>grid-column-start</code>属性：左边框所在的垂直网格线</li>
<li><code>grid-column-end</code>属性：右边框所在的垂直网格线</li>
<li><code>grid-row-start</code>属性：上边框所在的水平网格线</li>
<li><code>grid-row-end</code>属性：下边框所在的水平网格线</li>
</ol>
<ul>
<li><p>这四个属性的值，除了指定为第几个网格线，还可以指定为网格线的名字</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.item-1</span> &#123;<br>  <span class="hljs-attribute">grid-column-start</span>: header-start;<br>  <span class="hljs-attribute">grid-column-end</span>: header-end;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>这四个属性的值还可以使用<code>span</code>关键字，表示”跨越”，即左右边框（上下边框）之间跨越多少个网格</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.item-1</span> &#123;<br>  <span class="hljs-attribute">grid-column-start</span>: span <span class="hljs-number">2</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/bg2019032528.png" srcset="/img/loading.gif" lazyload alt="img"></p>
</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.item</span> &#123;<br>  <span class="hljs-attribute">grid-column</span>: &lt;start-line&gt; / &lt;end-line&gt;;<br>  <span class="hljs-attribute">grid-row</span>: &lt;start-line&gt; / &lt;end-line&gt;;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>斜杠以及后面的部分可以省略，默认跨越一个网格。</p>
<h5 id="grid-area"><a href="#grid-area" class="headerlink" title="grid-area"></a><code>grid-area</code></h5><ul>
<li><p>指定项目放在哪一个区域</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.item-1</span> &#123;<br>  <span class="hljs-attribute">grid-area</span>: e;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p><code>grid-area</code>属性还可用作<code>grid-row-start</code>、<code>grid-column-start</code>、<code>grid-row-end</code>、<code>grid-column-end</code>的合并简写形式，直接指定项目的位置</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.item-1</span> &#123;<br>  <span class="hljs-attribute">grid-area</span>: <span class="hljs-number">1</span> / <span class="hljs-number">1</span> / <span class="hljs-number">3</span> / <span class="hljs-number">3</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<h5 id="justify-self-属性，-align-self-属性，-place-self-属性"><a href="#justify-self-属性，-align-self-属性，-place-self-属性" class="headerlink" title="justify-self 属性， align-self 属性， place-self 属性"></a>justify-self 属性， align-self 属性， place-self 属性</h5><ul>
<li><code>justify-self</code>属性设置单元格内容的水平位置（左中右），跟<code>justify-items</code>属性的用法完全一致，但只作用于单个项目</li>
</ul>
<h4 id="Position"><a href="#Position" class="headerlink" title="Position"></a>Position</h4><ul>
<li><p>static : 默认值，静态定位，不受<code>left/right...</code>影响</p>
</li>
<li><p>relative：相对自己，不影响文档流</p>
<p>子绝父相</p>
</li>
<li><p>absolute：相对父亲偏移，移出文档流</p>
<p>定位基点（一般是父元素）不能是<code>static</code>定位，否则定位基点就会变成整个网页的根元素<code>html</code></p>
</li>
<li><p>fixed:  固定定位，相对浏览器窗口，脱离文档流。适合用于固定浮窗、导航条</p>
<p>会把元素的宽高设置成内容的宽高，<code>right:0  left:0 </code>可以让宽度占满包含容器</p>
</li>
<li><p>sticky:  相当于relative和fixed的结合体</p>
</li>
</ul>
<p>Layout</p>
<ul>
<li>确定内容的大小和位置的算法</li>
<li>依据元素、容器、兄弟节点和内容等信息来计算</li>
</ul>
<p>布局相关技术</p>
<ul>
<li>常规流<ul>
<li>行级</li>
<li>块级</li>
<li>表格布局</li>
<li>FlexBox</li>
<li>Grid布局</li>
</ul>
</li>
<li>浮动</li>
<li>绝对定位</li>
</ul>
<h4 id="display"><a href="#display" class="headerlink" title="display"></a>display</h4><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/keithwang/p/3139517.html">https://www.cnblogs.com/keithwang/p/3139517.html</a></p>
<ul>
<li><p><code>block</code>:  块级元素，相当于一行，独占一行。可以通过css设置宽高，只作用于content，同行仍然不能有其他元素</p>
</li>
<li><p><code>inline</code>:  行级元素，无视<strong>宽度和高度</strong>，大小依内容，内容多大就占多大地方</p>
</li>
<li><p><code>inline-block</code>:  高度和宽度都生效</p>
</li>
<li><p>block:  块级盒子</p>
</li>
<li><p>inline:  行级盒子</p>
</li>
<li><p>inline-block:  </p>
<ul>
<li><p>本身是行级，可以放在行盒中；</p>
</li>
<li><p>可以设置宽高；</p>
</li>
<li><p>作为一个整体不会被拆散成多行</p>
</li>
</ul>
</li>
<li><p>none:  排版时完全忽略</p>
</li>
</ul>
<h4 id="常规流"><a href="#常规流" class="headerlink" title="常规流"></a>常规流</h4><p>normal flow</p>
<ul>
<li>根元素、浮动和绝对定位的元素会脱离常规流</li>
<li>其他元素都在常规流之内(in-flow)</li>
<li>常规流中的盒子，在某种排版上下文中参与布局<ul>
<li>行级排版上下文</li>
<li>块级排版上下文</li>
<li>Table 排版上下文</li>
<li>Flex 排版上下文</li>
<li>Grid 排版上下文</li>
</ul>
</li>
</ul>
<h5 id="行级排版上下文"><a href="#行级排版上下文" class="headerlink" title="行级排版上下文"></a>行级排版上下文</h5><ul>
<li>Inline Formatting Context( IFC )</li>
<li>只包含行级盒子和容器会创建一个 IFC</li>
<li>IFC 内的排版规则<ul>
<li>盒子在一行内水平摆放</li>
<li>一行放不下时，换行显示</li>
<li>text-align 决定一行内盒子的水平对齐</li>
<li>vertical-align 决定一个盒子在行内的垂直对齐</li>
<li>避开浮动( float )元素</li>
</ul>
</li>
</ul>
<h5 id="块级排版上下文"><a href="#块级排版上下文" class="headerlink" title="块级排版上下文"></a>块级排版上下文</h5><ul>
<li><p>Block Formatting Context( BFC )</p>
</li>
<li><p>某些元素会创建一个BFC</p>
<ul>
<li>根元素</li>
<li>浮动、绝对定位、inlie-block</li>
<li>Flex 子项和 Grid 子项</li>
<li>overflow 值不是 visible 的块盒</li>
<li>display: flow-root</li>
</ul>
</li>
<li><p>BFC 内的排版规则</p>
<ul>
<li>盒子从上到下摆放</li>
<li>垂直 margin 合并</li>
<li>BFC 内盒子的 margin 不会与外面的合并</li>
<li>BFC 不会和浮动元素重叠</li>
</ul>
</li>
</ul>
<h4 id="定位"><a href="#定位" class="headerlink" title="定位"></a>定位</h4><p>position</p>
<p><a target="_blank" rel="noopener" href="https://www.ruanyifeng.com/blog/2019/11/css-position.html">https://www.ruanyifeng.com/blog/2019/11/css-position.html</a></p>
<ul>
<li>static 默认值，非定位元素</li>
<li>relative  相对于自身原本位置便宜，不脱离文档流</li>
<li>absolute  绝对定位，相对于非 static 祖先元素定位</li>
<li>fixed  相对于视口绝对定位<ul>
<li>当页面滚动，父元素开始脱离视口时（即部分不可见），只要与<code>sticky</code>元素的距离达到生效门槛，<code>relative</code>定位自动切换为<code>fixed</code>定位；等到父元素完全脱离视口时（即完全不可见），<code>fixed</code>定位自动切换回<code>relative</code>定位。</li>
</ul>
</li>
</ul>
<h5 id="relative"><a href="#relative" class="headerlink" title="relative"></a>relative</h5><ul>
<li>在常规流里面布局</li>
<li>相对于自己本应该在的位置进行偏移</li>
<li>使用 top、left、bottom、right 设置偏移长度</li>
<li>流内其他元素当它没有偏移一样布局</li>
</ul>
<h5 id="absolue"><a href="#absolue" class="headerlink" title="absolue"></a>absolue</h5><ul>
<li>脱离常规流</li>
<li>相对于最近的非static祖先定位</li>
<li>不会对流内元素布局造成影响</li>
<li></li>
</ul>
<h3 id="盒模型"><a href="#盒模型" class="headerlink" title="盒模型"></a>盒模型</h3><ul>
<li><p>content → padding → border → margin</p>
</li>
<li><p>内容 → 内边距 → 边框 → 外边距</p>
</li>
</ul>
<p><img src="/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230122162636439.png" srcset="/img/loading.gif" lazyload alt="image-20230122162636439"></p>
<h5 id="width"><a href="#width" class="headerlink" title="width"></a>width</h5><ul>
<li>指定content box宽度</li>
<li>取值为长度、百分数、auto</li>
<li>auto由浏览器根据其他属性确定</li>
<li>百分数相对于容器的content box宽度</li>
</ul>
<h5 id="height"><a href="#height" class="headerlink" title="height"></a>height</h5><ul>
<li>指定content box 高度</li>
<li>取值为长度、百分数、auto</li>
<li>auto 取值由内容计算得来</li>
<li>百分数相对于容器的 content box 高度</li>
<li>容器有指定的高度时，百分数才生效</li>
</ul>
<h5 id="padding"><a href="#padding" class="headerlink" title="padding"></a>padding</h5><img src="image-20230123165652610.png" srcset="/img/loading.gif" lazyload width=400px/>

<ul>
<li>指定元素四个方向的内边距</li>
<li>百分数相对于容器宽度</li>
<li><ul>
<li>padding</li>
<li>top-bottom left-right</li>
<li>top right bottom left</li>
</ul>
</li>
</ul>
<h5 id="border"><a href="#border" class="headerlink" title="border"></a>border</h5><ul>
<li><p>指定容器边框样式、粗细和颜色</p>
</li>
<li><p>三种属性</p>
<ul>
<li>border-width</li>
<li>border-style</li>
<li>border-color</li>
</ul>
</li>
<li><p>四个方向</p>
<ul>
<li>border-top</li>
<li>border-right</li>
<li>border-bottom</li>
<li>border-left</li>
</ul>
</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ccc</span>;<br><br><span class="hljs-attribute">border-left</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#ccc</span>;<br><span class="hljs-attribute">border-right</span>: <span class="hljs-number">2px</span> dotted red;<br><br><span class="hljs-attribute">border-width</span>: <span class="hljs-number">1px</span> <span class="hljs-number">2px</span> <span class="hljs-number">3px</span> <span class="hljs-number">4px</span>;<br><span class="hljs-attribute">border-style</span>: solid;<br><span class="hljs-attribute">border-color</span>: green blue;<br><br><span class="hljs-attribute">border-left-width</span>: <span class="hljs-number">3px</span>;<br><span class="hljs-attribute">border-top-color</span> <span class="hljs-selector-id">#f00</span>;<br></code></pre></td></tr></table></figure>

<h5 id="margin"><a href="#margin" class="headerlink" title="margin"></a>margin</h5><ul>
<li><p>指定元素四个方向的外边距</p>
</li>
<li><p>取值可以是长度、百分数、auto</p>
</li>
<li><p>百分数相对于容器宽度</p>
</li>
<li><p>margin塌陷：父子嵌套的元素垂直方向的<code>margin</code>取最大值。（父元素会抢夺子元素竖直方向的margin值）</p>
<p>解决：<code>overflow: hidden;</code></p>
</li>
</ul>
<ol>
<li><p>margin: auto可以水平居中</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">div</span> &#123;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">200px</span>;<br>    <span class="hljs-attribute">background</span>: coral;<br>    <span class="hljs-attribute">margin-left</span>: auto;<br>    <span class="hljs-attribute">margin-right</span>: auto;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
<h5 id="margin-collapse"><a href="#margin-collapse" class="headerlink" title="margin collapse"></a>margin collapse</h5><p>margin在垂直方向边距的冗合并&#x2F;折叠</p>
<h5 id="border-box"><a href="#border-box" class="headerlink" title="border-box"></a>border-box</h5><p>可以分为<code>content-box</code>和<code>border-box</code>，默认为前者</p>
<img src="image-20230123173430541.png" srcset="/img/loading.gif" lazyload width=500px/>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.a</span> &#123;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<br>    <span class="hljs-attribute">padding</span>: <span class="hljs-number">1em</span>;<br>    <span class="hljs-attribute">border</span>: <span class="hljs-number">3px</span> solid <span class="hljs-number">#ccc</span>;<br>&#125;<br><br><span class="hljs-selector-class">.b</span> &#123;<br>    <span class="hljs-attribute">box-sizing</span>: border-box;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<br>    <span class="hljs-attribute">padding</span>: <span class="hljs-number">1em</span>;<br>    <span class="hljs-attribute">border</span>: <span class="hljs-number">3px</span> solid <span class="hljs-number">#ccC</span>;<br>&#125;<br>&lt;!-- <span class="hljs-selector-tag">a</span>会比<span class="hljs-selector-tag">b</span>宽一点 --&gt;<br>* &#123;<br>    <span class="hljs-attribute">box-sizing</span>: border-box;<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="overflow"><a href="#overflow" class="headerlink" title="overflow"></a>overflow</h5><p>overflow: </p>
<ul>
<li>visible </li>
<li>hidden</li>
<li>scroll（滚动）</li>
</ul>
<h4 id="盒模型-1"><a href="#盒模型-1" class="headerlink" title="盒模型"></a>盒模型</h4><p><strong>可以用<code>padding</code>撑开盒子</strong></p>
<ul>
<li><p>块级</p>
<ul>
<li>不和其他盒子并列摆放</li>
<li>适用于所有的盒模型属性</li>
</ul>
</li>
<li><p>行级</p>
<ul>
<li>和其他行级盒子一起放在一行或拆开成多行</li>
<li>盒模型中的width、height不适用</li>
</ul>
</li>
<li><p>块级元素</p>
<ul>
<li>生成块级盒子</li>
<li>body、article、div、main、section、h1-6、p、ul、li</li>
<li>display: block</li>
<li><code>margin: 0 auto</code>可以水平居中</li>
</ul>
</li>
<li><p>行级元素</p>
<ul>
<li>生成行级盒子，内容分散在多个行盒(line box)中</li>
<li>span、em、strong、cite、code</li>
<li>display: inline</li>
</ul>
</li>
</ul>
<h3 id="属性"><a href="#属性" class="headerlink" title="属性"></a>属性</h3><h4 id="鼠标"><a href="#鼠标" class="headerlink" title="鼠标"></a>鼠标</h4><p><code>cursor</code></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/cursor">https://developer.mozilla.org/zh-CN/docs/Web/CSS/cursor</a></p>
<ul>
<li>pointer: 手，悬浮于链接上</li>
<li>not-allowed：禁止，不能执行</li>
<li>grab:  抓取</li>
<li>default:   默认，一般为箭头</li>
</ul>
<h4 id="颜色"><a href="#颜色" class="headerlink" title="颜色"></a>颜色</h4><h5 id="RGB"><a href="#RGB" class="headerlink" title="RGB"></a>RGB</h5><ul>
<li>6位十六进制数</li>
<li>rgb(a, b, c)，其中abc为0~255的10进制数</li>
</ul>
<h5 id="HSL"><a href="#HSL" class="headerlink" title="HSL"></a>HSL</h5><ul>
<li>Hue色相，如红色、黄色等，取值范围0~350</li>
<li>Saturation饱和度，色彩的鲜艳程度，越高越鲜艳，取值范围0~100%</li>
<li>Lightness亮度，明亮程度，越高颜色越亮，取值范围0~100%</li>
</ul>
<h4 id="字体"><a href="#字体" class="headerlink" title="字体"></a>字体</h4><h5 id="font-family"><a href="#font-family" class="headerlink" title="font-family"></a>font-family</h5><img src="image-20230122143456074.png" srcset="/img/loading.gif" lazyload width=700px>

<ul>
<li><p>上传字体：Web Fonts</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs css">&lt;<span class="hljs-selector-tag">h1</span>&gt;web fonts are awesome!&lt;/<span class="hljs-selector-tag">h1</span>&gt;<br>&lt;style&gt;<br>    <span class="hljs-keyword">@font-face</span> &#123;<br>    <span class="hljs-attribute">font-family</span>: <span class="hljs-string">&quot;Megrim&quot;</span>;<br>    <span class="hljs-attribute">src</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">https: //fonts.gstatic.com/s/megrim/v11/46kulbz5wjvLqJZVam_hVUdI1w.woff2</span>)format ( <span class="hljs-string">&#x27;woff2&#x27;</span> );<br>    &#125;<br><br><span class="hljs-selector-tag">h1</span> &#123;<br>    <span class="hljs-attribute">font-family</span>: Megrim,Cursive;<br>    &#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure></li>
</ul>
<h5 id="font-size"><a href="#font-size" class="headerlink" title="font-size"></a>font-size</h5><ul>
<li>关键字<ul>
<li>small, medium, large</li>
</ul>
</li>
<li>长度<ul>
<li>px，一个像素</li>
<li>em，相对于父级的大小</li>
</ul>
</li>
<li>百分数<ul>
<li>相对于父元素字体大小</li>
</ul>
</li>
</ul>
<p><code>text-indent: 2em</code>首行缩进</p>
<h4 id="盒子阴影"><a href="#盒子阴影" class="headerlink" title="盒子阴影"></a>盒子阴影</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">box-shadow</span>: h-shadow v-shadow blur spread color insert;<br></code></pre></td></tr></table></figure>

<img src="image-20230401164305032.png" srcset="/img/loading.gif" lazyload width=700px>

<h4 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">url</span>();<br><span class="hljs-attribute">background-repeat</span>: no-repeat;<br><span class="hljs-attribute">background-size</span>: cover 全覆盖背景<br>                 | contain  最大化显示<br>backdrop-filter: <span class="hljs-built_in">blur</span>(<span class="hljs-number">25px</span>);  //毛玻璃效果<br></code></pre></td></tr></table></figure>

<p>渐变背景：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">background</span>: <span class="hljs-built_in">-webkit-linear-gradent</span>(red, blue)<br></code></pre></td></tr></table></figure>

<h5 id="字体属性"><a href="#字体属性" class="headerlink" title="字体属性"></a>字体属性</h5><p>复合属性：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">font</span>: font-style font-weight font-size/line-height font-family;<br>&lt;!-- 一定要有字号和字体 --&gt;<br></code></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th>属性</th>
<th>值</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>font-family</td>
<td>“微软雅黑”（”Microsoft Yahei”）, Consol</td>
<td>先后顺序代表优先级，在最后加一个通用字体族</td>
</tr>
<tr>
<td>font-size</td>
<td>16px(像素)</td>
<td>必须加单位</td>
</tr>
<tr>
<td>font-weight</td>
<td>lighter&#x2F; normal&#x2F; bold&#x2F; bolder&#x2F; number(700)</td>
<td>字重，推荐用数字  100 ~ 900</td>
</tr>
<tr>
<td>font-style</td>
<td>normal&#x2F; italic</td>
<td>很少用</td>
</tr>
</tbody></table>
<h5 id="文本属性"><a href="#文本属性" class="headerlink" title="文本属性"></a>文本属性</h5><table>
<thead>
<tr>
<th>属性</th>
<th>值</th>
<th>备注</th>
</tr>
</thead>
<tbody><tr>
<td>color</td>
<td>red&#x2F; #000000&#x2F; rgb(0,0,0)</td>
<td>三种格式</td>
</tr>
<tr>
<td>text-align  对齐文本</td>
<td>left&#x2F; right&#x2F; center</td>
<td></td>
</tr>
<tr>
<td>text-decoration  装饰文本</td>
<td>none&#x2F; underline&#x2F; overline&#x2F; line-through</td>
<td></td>
</tr>
<tr>
<td>text-indent  文本首行缩进</td>
<td>xx px&#x2F; 2em</td>
<td>em是一个相对单位，恒为当前一个字符的大小</td>
</tr>
<tr>
<td>line-height  行高&#x2F;行间距</td>
<td>xx px</td>
<td>没有单位时，表示为字体大小的xx倍，是相对大小</td>
</tr>
</tbody></table>
<h5 id="white-space"><a href="#white-space" class="headerlink" title="white-space"></a>white-space</h5><p>控制空白符的展示</p>
<ul>
<li>normal</li>
<li>nowrap</li>
<li>pre</li>
<li>pre-wrap</li>
<li>pre-line</li>
</ul>
<h5 id="a标签"><a href="#a标签" class="headerlink" title="a标签"></a>a标签</h5><ul>
<li>文本内链接：<code>name</code></li>
<li><code>target=&quot;_blank|_self|_top|_parent&quot;</code></li>
</ul>
<h3 id="动画"><a href="#动画" class="headerlink" title="动画"></a>动画</h3><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6970883520168198158">https://juejin.cn/post/6970883520168198158</a></p>
<ul>
<li>过渡：transition</li>
<li>2D 转换 transform</li>
<li>3D 转换 transform</li>
<li>自定义动画：animation</li>
</ul>
<h4 id="transition"><a href="#transition" class="headerlink" title="transition"></a>transition</h4><p>实现<strong>补间</strong>动画</p>
<ul>
<li>补间动画：自动完成从起始状态到终止状态的的过渡。不用管中间的状态。</li>
<li>帧动画：通过一帧一帧的画面按照固定顺序和速度播放。如电影胶片。</li>
</ul>
<p>相关属性：</p>
<ul>
<li><code>transition-property: all;</code> 如果希望所有的属性都发生过渡，就使用all。</li>
<li><code>transition-duration: 1s;</code> 过渡的持续时间。</li>
<li><code>transition-timing-function: linear;</code> 运动曲线。属性值可以是：<ul>
<li><code>linear</code> 线性</li>
<li><code>ease</code> 减速</li>
<li><code>ease-in</code> 加速</li>
<li><code>ease-out</code> 减速</li>
<li><code>ease-in-out</code> 先加速后减速</li>
</ul>
</li>
<li><code>transition-delay: 1s;</code> 过渡延迟。多长时间后再执行这个过渡动画。</li>
</ul>
<p>综合：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">transition</span>: 让哪些属性进行过度 过渡的持续时间 运动曲线 延迟时间;<br><span class="hljs-attribute">transition</span>: all <span class="hljs-number">3s</span> linear <span class="hljs-number">0s</span>;<br></code></pre></td></tr></table></figure>

<p>触发方式：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.box</span>&#123;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;<br>    <span class="hljs-attribute">background-color</span>: green;<br>    <span class="hljs-comment">/* 谁要过渡给谁加 */</span><br>    <span class="hljs-attribute">transition</span>: width <span class="hljs-number">2s</span> linear <span class="hljs-number">0s</span>;<br>&#125;<br><span class="hljs-selector-class">.box</span><span class="hljs-selector-pseudo">:hover</span>&#123;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">500px</span>;<br>    <span class="hljs-attribute">background-color</span>: orange;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>当<code>:hover</code>伪类被触发后，会启动<code>transition</code>向<code>:hover</code>的属性变化</p>
<p><code>transition</code>只用来控制时长</p>
<h4 id="transform"><a href="#transform" class="headerlink" title="transform"></a>transform</h4><ul>
<li>2D 转换：缩放、移动、旋转。</li>
<li>3D 转换：</li>
</ul>
<p><strong>2D:</strong></p>
<h5 id="缩放scale"><a href="#缩放scale" class="headerlink" title="缩放scale"></a>缩放scale</h5><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.box2</span><span class="hljs-selector-pseudo">:hover</span> &#123;<br>    <span class="hljs-attribute">background-color</span>: yellowgreen;<br>    <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">scale</span>(<span class="hljs-number">2</span>, <span class="hljs-number">0.5</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>x:  x方向的缩放倍数</li>
<li>y:  y方向的缩放倍数</li>
</ul>
<h5 id="位移translate"><a href="#位移translate" class="headerlink" title="位移translate"></a>位移translate</h5><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">transform</span>:<span class="hljs-built_in">translate</span>(-<span class="hljs-number">50%</span>, -<span class="hljs-number">50%</span>);<br></code></pre></td></tr></table></figure>

<p>相对于自身移动</p>
<h5 id="旋转rotate"><a href="#旋转rotate" class="headerlink" title="旋转rotate"></a>旋转rotate</h5><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">transition</span>: all <span class="hljs-number">2s</span>;<br><span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(<span class="hljs-number">45deg</span>)<br></code></pre></td></tr></table></figure>

<p>正值：顺时针；负值：逆时针</p>
<p><strong>transform: rotate()必须和transition</strong>配合使用</p>
<p>rotate 旋转时，默认是以盒子的正中心为坐标原点的。如果想<strong>改变旋转的坐标原点</strong>，可以用<code>transform-origin</code>属性</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">transform-origin</span>: center bottom;   //旋转时，以盒子底部的中心为坐标原点<br></code></pre></td></tr></table></figure>

<p><strong>3D:</strong></p>
<p>让元素保留立体空间</p>
<p><code>transform-style: preserve-3d;</code></p>
<p>旋转：</p>
<ul>
<li>x: 右</li>
<li>y: 下</li>
<li>z: 垂直屏幕向上</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotateX</span>(<span class="hljs-number">360deg</span>);    //绕 X 轴旋转<span class="hljs-number">360</span>度  //顺时针<br><span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotateY</span>(<span class="hljs-number">360deg</span>);    //绕 Y 轴旋转<span class="hljs-number">360</span>度<br><span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotateZ</span>(<span class="hljs-number">360deg</span>);    //绕 Z 轴旋转<span class="hljs-number">360</span>度<br></code></pre></td></tr></table></figure>

<p>平移：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateX</span>(<span class="hljs-number">100px</span>);    //沿着 X 轴移动<br><span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateY</span>(<span class="hljs-number">360px</span>);    //沿着 Y 轴移动<br><span class="hljs-attribute">transform</span>: <span class="hljs-built_in">translateZ</span>(<span class="hljs-number">360px</span>);    //沿着 Z 轴移动<br></code></pre></td></tr></table></figure>

<p>透视：perspective</p>
<p>电脑显示屏是一个 2D 平面，图像之所以具有立体感（3D效果），其实只是一种视觉呈现，通过透视可以实现此目的。</p>
<p>透视可以将一个2D平面，在转换的过程当中，呈现3D效果。但仅仅只是视觉呈现出 3d 效果，并不是正真的3d。</p>
<p>格式有两种写法：</p>
<ul>
<li>作为一个属性，设置给<strong>父元素</strong>，作用于所有3D转换的子元素</li>
<li>作为 transform 属性的一个值，做用于元素自身。</li>
</ul>
<p>格式举例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-attribute">perspective</span>: <span class="hljs-number">500px</span>;<br></code></pre></td></tr></table></figure>

<h4 id="animation"><a href="#animation" class="headerlink" title="animation"></a>animation</h4><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs css">// 关键帧定义<br><span class="hljs-keyword">@keyframes</span> animateName&#123;<br>    <span class="hljs-number">0%</span>   &#123; <span class="hljs-attribute">width</span>:<span class="hljs-number">50px</span>; <span class="hljs-attribute">height</span>:<span class="hljs-number">50px</span>; &#125;    <br>    <span class="hljs-number">50%</span>  &#123; <span class="hljs-attribute">width</span>:<span class="hljs-number">100px</span>; <span class="hljs-attribute">height</span>:<span class="hljs-number">100px</span>; &#125;    <br>    <span class="hljs-number">100%</span> &#123; <span class="hljs-attribute">width</span>:<span class="hljs-number">50px</span>; <span class="hljs-attribute">height</span>:<span class="hljs-number">50px</span>; &#125;<br>&#125;<br>// <span class="hljs-number">0%</span>和<span class="hljs-number">100%</span>分别可以用<span class="hljs-selector-tag">from</span>和<span class="hljs-selector-tag">to</span>代替，也可以省略<br><br><span class="hljs-selector-class">.box</span> &#123;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">50px</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;<br>    <span class="hljs-attribute">background-color</span>: pink;<br>    // 使用<br>    // <span class="hljs-attribute">animation</span>: 定义的动画名称 持续时间  执行次数  是否反向  运动曲线 延迟执行。(infinite 表示无限次)<br>    animation-name: test;<br>    <span class="hljs-attribute">animation-duration</span>: <span class="hljs-number">2s</span>;<br>    <span class="hljs-attribute">animation-iteration-count</span>: infinite;<br>    <span class="hljs-attribute">animation-timing-function</span>: linear;<br>    // <span class="hljs-attribute">animation</span>: <span class="hljs-number">36.5s</span> linear <span class="hljs-number">0s</span> infinite orbit;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li><p><code>animation-duration</code>:  动画单次播放时间</p>
</li>
<li><p><code>animation-iteration-count</code>:  动画播放次数</p>
</li>
<li><p><code>animation-timing-function</code>:  速度函数</p>
</li>
<li><p><code>animation-delay</code>:  动画延迟时间</p>
<table>
<thead>
<tr>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>linear</td>
<td>动画从头到尾的速度是相同的。</td>
</tr>
<tr>
<td>ease（缓解）</td>
<td>**<code>默认值</code>**：动画以低速开始，然后加快，在结束前变慢。</td>
</tr>
<tr>
<td>ease-in</td>
<td>动画以低速开始。</td>
</tr>
<tr>
<td>ease-out</td>
<td>动画以低速结束。</td>
</tr>
<tr>
<td>ease-in-out</td>
<td>动画以低速开始和结束。</td>
</tr>
<tr>
<td>cubic-bezier(<em>n</em>,<em>n</em>,<em>n</em>,<em>n</em>)</td>
<td>贝塞尔曲线（自定义数值），可到<a href="https://link.juejin.cn/?target=https://cubic-bezier.com/">相关网站</a>可视化设置。</td>
</tr>
</tbody></table>
</li>
<li><p><code>animation-direction</code>: 动画播放顺序：正序 &#x2F; 逆序</p>
<table>
<thead>
<tr>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>normal</td>
<td>默认值。动画按正常播放。</td>
</tr>
<tr>
<td>reverse</td>
<td>动画反向播放。</td>
</tr>
<tr>
<td>alternate（交替的）</td>
<td>动画正向交替执行（正向-&gt;反向）Loop。</td>
</tr>
<tr>
<td>alternate-reverse</td>
<td>动画反向交替执行（反向-&gt;正向）Loop。</td>
</tr>
<tr>
<td>inherit</td>
<td>从父元素继承该属性。</td>
</tr>
</tbody></table>
</li>
<li><p><code>animation-fill-mode</code>用于设置动画的填充模式，主要应用的属性值为：</p>
<table>
<thead>
<tr>
<th>值</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>none</td>
<td>默认值。动画在动画执行前后，不会应用任何样式到目标元素。</td>
</tr>
<tr>
<td>forwards</td>
<td>在动画结束后（<strong>由 animation-iteration-count 决定</strong>），目标元素将保持应用<code>最后帧</code>动画。</td>
</tr>
<tr>
<td>backwards</td>
<td>在动画结束后（<strong>由 animation-iteration-count 决定</strong>），目标元素将保持应用<code>起始帧</code>动画。</td>
</tr>
</tbody></table>
</li>
</ul>
<h3 id="媒体查询"><a href="#媒体查询" class="headerlink" title="媒体查询"></a>媒体查询</h3><ul>
<li>从小屏到大屏</li>
</ul>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-keyword">@media</span> mediatype <span class="hljs-keyword">and</span>|<span class="hljs-keyword">not</span>|<span class="hljs-keyword">only</span> (media feature)&#123;<br>    CSS-<span class="hljs-selector-tag">code</span>;<br>&#125;<br>或<br>&lt;link rel=&quot;stylesheet&quot; href=&quot;style<span class="hljs-selector-class">.css</span>&quot; media=&quot;screen and (<span class="hljs-attribute">min-width</span>:<span class="hljs-number">540px</span>)<span class="hljs-string">&quot;&gt;</span><br></code></pre></td></tr></table></figure>

<ul>
<li><p><code>mediatype</code> 媒体类型</p>
<table>
<thead>
<tr>
<th>值</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td>all</td>
<td>用于所有设备</td>
</tr>
<tr>
<td>print</td>
<td>用于打印机和预览</td>
</tr>
<tr>
<td>screen</td>
<td>用于电脑屏幕、平板电脑、智能手机</td>
</tr>
</tbody></table>
</li>
<li><p><code>media feature</code> 媒体特性，必须加小括号</p>
<table>
<thead>
<tr>
<th>值</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td><code>width</code></td>
<td>定义输出设备中页面可见区域的宽度</td>
</tr>
<tr>
<td><code>min-width: xxx;</code></td>
<td>定义输出设备中页面最小可见区域宽度（当屏幕<strong>大于</strong><code>xxx</code>时）</td>
</tr>
<tr>
<td><code>max-width: yyy;</code></td>
<td>定义输出设备中页面最大可见区域宽度（当屏幕<strong>小于</strong><code>yyy</code>时）</td>
</tr>
</tbody></table>
</li>
</ul>
<h3 id="经典案例"><a href="#经典案例" class="headerlink" title="经典案例"></a>经典案例</h3><h4 id="tab切换"><a href="#tab切换" class="headerlink" title="tab切换"></a>tab切换</h4><p><a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000015665887">https://segmentfault.com/a/1190000015665887</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tabs&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tab-pane&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;tab&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;tab01&quot;</span> <span class="hljs-attr">checked</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tab-item&quot;</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;tab01&quot;</span>&gt;</span>tab01<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tab-content&quot;</span>&gt;</span>111<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tab-pane&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;tab&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;tab02&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tab-item&quot;</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;tab02&quot;</span>&gt;</span>tab02<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tab-content&quot;</span>&gt;</span>222<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tab-pane&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;tab&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;tab03&quot;</span>/&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tab-item&quot;</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;tab03&quot;</span>&gt;</span>tab03<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;tab-content&quot;</span>&gt;</span>333<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css"><span class="hljs-selector-class">.tabs</span>&#123;</span><br><span class="language-css">  <span class="hljs-attribute">position</span>:relative;</span><br><span class="language-css">  <span class="hljs-attribute">width</span>:<span class="hljs-number">400px</span>;</span><br><span class="language-css">  <span class="hljs-attribute">height</span>:<span class="hljs-number">300px</span>;</span><br><span class="language-css">&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.tab-pane</span>&#123;</span><br><span class="language-css">  <span class="hljs-attribute">display</span>:inline-block;</span><br><span class="language-css">&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.tabs</span> <span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">&#x27;radio&#x27;</span>]</span>&#123;</span><br><span class="language-css">  <span class="hljs-attribute">position</span>:absolute;</span><br><span class="language-css">  <span class="hljs-attribute">clip</span>:<span class="hljs-built_in">rect</span>(<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>)</span><br><span class="language-css">&#125;</span><br><span class="language-css"><span class="hljs-selector-class">.tab-item</span>&#123;</span><br><span class="language-css">  <span class="hljs-attribute">display</span>:block;</span><br><span class="language-css">  <span class="hljs-attribute">height</span>:<span class="hljs-number">34px</span>;</span><br><span class="language-css">  <span class="hljs-attribute">line-height</span>:<span class="hljs-number">34px</span>;</span><br><span class="language-css">  <span class="hljs-attribute">cursor</span>:pointer;</span><br><span class="language-css">  <span class="hljs-attribute">padding</span>:<span class="hljs-number">0</span> <span class="hljs-number">10px</span></span><br><span class="language-css">&#125;</span><br><span class="language-css"></span><br><span class="language-css"><span class="hljs-selector-class">.tabs</span> <span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">&#x27;radio&#x27;</span>]</span><span class="hljs-selector-pseudo">:checked</span>+<span class="hljs-selector-class">.tab-item</span>&#123;</span><br><span class="language-css">  <span class="hljs-attribute">background</span>:orangered;</span><br><span class="language-css">  <span class="hljs-attribute">color</span>:<span class="hljs-number">#fff</span></span><br><span class="language-css">&#125;</span><br><span class="language-css"></span><br><span class="language-css"><span class="hljs-selector-class">.tab-content</span>&#123;</span><br><span class="language-css">  <span class="hljs-attribute">position</span>:absolute;</span><br><span class="language-css">  <span class="hljs-attribute">border</span>:<span class="hljs-number">1px</span> solid <span class="hljs-number">#eee</span>;</span><br><span class="language-css">  <span class="hljs-attribute">padding</span>:<span class="hljs-number">20px</span>;</span><br><span class="language-css">  <span class="hljs-attribute">left</span>:<span class="hljs-number">0</span>;</span><br><span class="language-css">  <span class="hljs-attribute">top</span>:<span class="hljs-number">36px</span>;</span><br><span class="language-css">  <span class="hljs-attribute">bottom</span>:<span class="hljs-number">0</span>;</span><br><span class="language-css">  <span class="hljs-attribute">right</span>:<span class="hljs-number">0</span>;</span><br><span class="language-css">  <span class="hljs-attribute">background</span>:<span class="hljs-number">#fff</span>;</span><br><span class="language-css">&#125;</span><br><span class="language-css"></span><br><span class="language-css"><span class="hljs-selector-class">.tabs</span> <span class="hljs-selector-tag">input</span><span class="hljs-selector-attr">[type=<span class="hljs-string">&#x27;radio&#x27;</span>]</span><span class="hljs-selector-pseudo">:checked</span>+<span class="hljs-selector-class">.tab-item</span>+<span class="hljs-selector-class">.tab-content</span>&#123;</span><br><span class="language-css">  <span class="hljs-attribute">z-index</span>:<span class="hljs-number">1</span></span><br><span class="language-css">&#125;</span><br><span class="language-css"></span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br></code></pre></td></tr></table></figure>

<ul>
<li>使用<code>absolute</code>实现内容重叠</li>
<li>使用<code>input[type=&#39;radio&#39;]</code>和<code>label</code>创建标签</li>
<li>使用<code>clip:rect(0,0,0,0)</code>隐藏<code>input</code>标签</li>
</ul>
<h3 id="CSS3"><a href="#CSS3" class="headerlink" title="CSS3"></a>CSS3</h3><h4 id="filter属性"><a href="#filter属性" class="headerlink" title="filter属性"></a><code>filter</code>属性</h4><ul>
<li><code>fluter: blur(5px);</code></li>
</ul>
<h4 id="计算属性"><a href="#计算属性" class="headerlink" title="计算属性"></a>计算属性</h4><ul>
<li><code>width: calc(100% - 80px)</code>;</li>
<li>永远比父元素小80像素</li>
</ul>
<h3 id="Less-amp-Sass"><a href="#Less-amp-Sass" class="headerlink" title="Less &amp; Sass"></a>Less &amp; Sass</h3><h4 id="Less"><a href="#Less" class="headerlink" title="Less"></a>Less</h4><ul>
<li>Less （Leaner Style Sheets 的缩写） 是一门 CSS 扩展语言，也成为CSS预处理器。</li>
<li>做为 CSS 的一种形式的扩展，它并没有减少 CSS 的功能，而是在现有的 CSS 语法上，为CSS加入程序式语言的特性。</li>
<li>它在 CSS 的语法基础之上，引入了变量，Mixin（混入），运算以及函数等功能，大大简化了 CSS 的编写，并且降低了 CSS 的维护成本，就像它的名称所说的那样，Less 可以让我们用更少的代码做更多的事情。</li>
<li>Less中文网址： <a target="_blank" rel="noopener" href="http://lesscss.cn/">http://lesscss.cn/</a></li>
<li>常见的CSS预处理器：Sass、Less、Stylus</li>
<li>一句话：<strong>Less 是一门 CSS 预处理语言，它扩展了CSS的动态特性。</strong></li>
</ul>
<ol>
<li><p>less变量</p>
<p>定义<code>@var-name: var-value;</code></p>
<p>使用<code>@var-name</code></p>
</li>
<li><p>less嵌套</p>
<p>后继：<code>直接写，有空格</code></p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-selector-tag">div</span>&#123;<br>    <span class="hljs-selector-tag">a</span>&#123;<br><br>    &#125;<br>&#125;<br>===<br><span class="hljs-selector-tag">div</span> <span class="hljs-selector-tag">a</span>&#123;<br><br>&#125;<br></code></pre></td></tr></table></figure>

<p>同级：<code>加&amp;，没空格</code></p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-selector-tag">div</span>&#123;<br>    <span class="hljs-selector-tag">&amp;</span><span class="hljs-selector-pseudo">:hover</span>&#123;<br><br>    &#125;<br>&#125;<br>===<br><span class="hljs-selector-tag">div</span><span class="hljs-selector-pseudo">:hover</span>&#123;<br><br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>less运算</p>
<ul>
<li>运算符两边必须加空格</li>
<li>对于两个不同的单位的值之间的运算，运算结果的值取第一个值的单位</li>
<li>如果两个值之间只有一个值有单位，则运算结果就取该单位</li>
</ul>
</li>
<li><p>less互相引用</p>
<figure class="highlight less"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs less"><span class="hljs-keyword">@import</span> <span class="hljs-string">&quot;common&quot;</span>;<br></code></pre></td></tr></table></figure></li>
</ol>
<h4 id="Sass"><a href="#Sass" class="headerlink" title="Sass"></a>Sass</h4><p><a target="_blank" rel="noopener" href="https://www.sass.hk/docs/">Sass教程 Sass中文文档 | Sass中文网</a></p>
<ol>
<li><p>定义变量：</p>
<p><code>$bg_color: #ccc</code></p>
</li>
<li><p>嵌套：同less</p>
</li>
<li><p>插值语句：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs sass">$name: foo;<br>$attr: border;<br>p.#&#123;$name&#125; &#123;<br>    #&#123;$attr&#125;-color: blue;<br>&#125;<br><br>// 编译：<br>p.foo &#123;<br>    border-color: blue;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p><code>@at-root:</code>：跳出一个css范围</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.parent</span> &#123;<br>  ...<br>  <span class="hljs-keyword">@at-root</span> .child &#123; ... &#125;<br>&#125;<br><br>======<br><br><span class="hljs-selector-class">.parent</span> &#123; ... &#125;<br><span class="hljs-selector-class">.child</span> &#123; ... &#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>混合指令</p>
<p>定义：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sass">@mixin large-text &#123;<br>  font: &#123;<br>    family: Arial;<br>    size: 20px;<br>    weight: bold;<br>  &#125;<br>  color: #ff0000;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>使用：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.page-title</span> &#123;<br>  <span class="hljs-keyword">@include</span> large-text;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">4px</span>;<br>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">10px</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>效果：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.page-title</span> &#123;<br>  <span class="hljs-attribute">font-family</span>: Arial;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">20px</span>;<br>  <span class="hljs-attribute">font-weight</span>: bold;<br>  <span class="hljs-attribute">color</span>: <span class="hljs-number">#ff0000</span>;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">4px</span>;<br>  <span class="hljs-attribute">margin-top</span>: <span class="hljs-number">10px</span>; &#125;<br></code></pre></td></tr></table></figure>

<p>还可以使用参数：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs sass">@mixin sexy-border($color, $width) &#123;<br>  border: &#123;<br>    color: $color;<br>    width: $width;<br>    style: dashed;<br>  &#125;<br>&#125;<br>p &#123; @include sexy-border(blue, 1in); &#125;<br></code></pre></td></tr></table></figure></li>
</ol>
<h2 id="BootStrap"><a href="#BootStrap" class="headerlink" title="BootStrap"></a>BootStrap</h2><p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230825155202320.png" srcset="/img/loading.gif" lazyload alt="image-20230825155202320"></p>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230825155100224.png" srcset="/img/loading.gif" lazyload alt="image-20230825155100224"></p>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230825155124812.png" srcset="/img/loading.gif" lazyload alt="image-20230825155124812"></p>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230825155320575.png" srcset="/img/loading.gif" lazyload alt="image-20230825155320575"></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/25770579">https://zhuanlan.zhihu.com/p/25770579</a></p>
<ul>
<li><p><code>mb-3</code>表示<code>margin-bottom: 1rem</code></p>
</li>
<li><ul>
<li><p><code>0</code> - for classes that eliminate the <code>margin</code> or <code>padding</code> by setting it to &#96;0&#96;&#96;</p>
</li>
<li><p><code>1</code> - (by default) for classes that set the <code>margin</code> or <code>padding</code> to <code>$spacer * .25</code></p>
</li>
<li><p><code>2</code> - (by default) for classes that set the <code>margin</code> or <code>padding</code> to <code>$spacer * .5</code></p>
</li>
<li><p><code>3</code> - (by default) for classes that set the <code>margin</code> or <code>padding</code> to <code>$spacer</code></p>
</li>
<li><p><code>4</code> - (by default) for classes that set the <code>margin</code> or <code>padding</code> to <code>$spacer * 1.5</code></p>
</li>
<li><p><code>5</code> - (by default) for classes that set the <code>margin</code> or <code>padding</code> to <code>$spacer * 3</code></p>
</li>
<li><p><code>$spacer</code>表示一个<code>rem</code></p>
</li>
</ul>
</li>
<li><p><code>col</code>表示占一列，当有多个时，会均匀分布</p>
</li>
</ul>
<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><h3 id="基础语法"><a href="#基础语法" class="headerlink" title="基础语法"></a>基础语法</h3><ul>
<li>变量声明：<code>let</code></li>
<li>常量声明：<code>const</code></li>
</ul>
<p>模板字符串</p>
<ul>
<li>&#96;&#96;反引号包裹</li>
<li>内部用<code>$&#123;&#125;</code>包住变量</li>
</ul>
<p>类型转换</p>
<ul>
<li><code>Number()</code></li>
<li><code>parseInt()</code></li>
<li><code>parseFloat()</code></li>
</ul>
<p>生命周期函数&#x2F;立即执行函数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js">(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-comment">//function body</span><br>&#125;)();<span class="hljs-comment">//加分号</span><br><br>!<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>)&#123;&#125;()<br>+<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>)&#123;&#125;()<br>~<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>)&#123;&#125;()<br>!(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>)&#123;&#125;)()<br>(<span class="hljs-keyword">function</span> (<span class="hljs-params">形参</span>)&#123;<span class="hljs-keyword">function</span> body&#125;(实参));<br></code></pre></td></tr></table></figure>

<p>对象：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> person=&#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;andy&#x27;</span>,<br>    <span class="hljs-attr">sayHi</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">write</span>(<span class="hljs-string">&#x27;hi~~~~&#x27;</span>)<br>    &#125;,<br>    <span class="hljs-attr">song</span>:......<br>&#125;<br><br><span class="hljs-comment">//调用</span><br>person.<span class="hljs-title function_">sayHi</span>()<br></code></pre></td></tr></table></figure>

<ul>
<li>对象类型是浅拷贝</li>
</ul>
<h4 id="控制语句"><a href="#控制语句" class="headerlink" title="控制语句"></a>控制语句</h4><ul>
<li>支持<code>if, else, switch, case, while, do, for</code>，其用法和 C&#x2F;C++ 语言几乎完全一致</li>
<li>还支持类似Python的迭代方法</li>
</ul>
<h5 id="for-…-in"><a href="#for-…-in" class="headerlink" title="for … in"></a>for … in</h5><ul>
<li><p><code>for...in</code> 语句以<strong>任意顺序</strong>迭代一个对象的除 <code>symbol</code> 以外的<strong>可枚举</strong>属性，包括继承的可枚举属性。</p>
</li>
<li><p>可以遍历对象的键值</p>
</li>
</ul>
<h5 id="for-…-of"><a href="#for-…-of" class="headerlink" title="for … of"></a>for … of</h5><ul>
<li>循环在可迭代对象（如 <code>Array</code>、<code>Map</code>、<code>Set</code>、<code>String</code>，自己创建可迭代对象可以参考<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Iteration_protocols">迭代协议</a>）上创建迭代循环，最常见的是对数组元素进行迭代</li>
<li>遍历数组</li>
</ul>
<h5 id="异常处理"><a href="#异常处理" class="headerlink" title="异常处理"></a>异常处理</h5><p>JavaScript 的异常处理与 C++ 相似：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">try</span> &#123;<br>    <span class="hljs-title function_">someDangerousFunction</span>();<br>&#125; <span class="hljs-keyword">catch</span> (err) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;error occurred&#x27;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h4><p>参考：<a target="_blank" rel="noopener" href="https://docs.net9.org/languages/javascript/function/">清华大学计算机系科协技能引导文档</a></p>
<p>我们一般把 JavaScript 的函数也认为是一种变量，因为在 JavaScript 之中，函数的行为很大程度上和变量类似。</p>
<ul>
<li><p><code>arguments</code>是参数的数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">sum</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">let</span> s = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">arguments</span>.<span class="hljs-property">length</span>; ++i) s += <span class="hljs-variable language_">arguments</span>[i];<br>    <span class="hljs-keyword">return</span> s;<br>&#125;<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title function_">sum</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)); <span class="hljs-comment">// 6</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h5 id="自调用函数"><a href="#自调用函数" class="headerlink" title="自调用函数"></a>自调用函数</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> x = <span class="hljs-string">&quot;Hello!!&quot;</span>;      <span class="hljs-comment">// 我将调用自己</span><br>&#125;)();<br></code></pre></td></tr></table></figure>

<h5 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h5><ul>
<li>匿名函数的<code>this</code>: 匿名函数最经典的总结：就是谁调用匿名函数，匿名函数中的this就指向谁</li>
<li>匿名函数是有执行上下文，只是执行上下文是执行的时候传递过来，</li>
<li><a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E7%AE%AD%E5%A4%B4%E5%87%BD%E6%95%B0&spm=1001.2101.3001.7020">箭头函数</a>中的执行上下文是父级的执行上下文，匿名函数可以作为箭头函数的父级（详见例3）</li>
</ul>
<h5 id="箭头函数"><a href="#箭头函数" class="headerlink" title="箭头函数"></a>箭头函数</h5><p>实际上箭头函数的设计很大程度上是为了解决 <code>this</code> 问题。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">(参数<span class="hljs-number">1</span>, 参数<span class="hljs-number">2</span>, …, 参数N) =&gt; &#123; 函数声明 &#125;<br><br>(参数<span class="hljs-number">1</span>, 参数<span class="hljs-number">2</span>, …, 参数N) =&gt; 表达式(单一)<br><span class="hljs-comment">// 相当于：(参数1, 参数2, …, 参数N) =&gt;&#123; return 表达式; &#125;</span><br></code></pre></td></tr></table></figure>

<p>当只有一个参数时，圆括号是可选的：</p>
<figure class="highlight abnf"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs abnf">(单一参数) <span class="hljs-operator">=</span>&gt; &#123;函数声明&#125;<br>单一参数 <span class="hljs-operator">=</span>&gt; &#123;函数声明&#125;<br></code></pre></td></tr></table></figure>

<p>没有参数的函数应该写成一对圆括号:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">() =&gt; &#123;函数声明&#125;<br></code></pre></td></tr></table></figure>

<p>如果想返回一个对象，应该在函数体外面套一层小括号，防止解析错误</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">fn</span> = (<span class="hljs-params">num</span>) =&gt; (&#123;<span class="hljs-attr">num</span>: num&#125;)<br></code></pre></td></tr></table></figure>

<p>箭头函数不会创建自己的this,它只会从自己的作用域链的上一层沿用this。</p>
<blockquote>
<p>箭头函数和 <code>function</code> 函数最大不同的地方是其 <code>this</code> 的指向跟随上下文的 <code>this</code>，也就是说其本身不具有 <code>this</code>，在箭头函数体里使用的 <code>this</code> 实际上是其上下文（一般是其所在的函数作用域）的 <code>this</code>。换句话说，<strong>箭头函数的 <code>this</code> 在定义的时候就完成了绑定</strong>，这样的性质就解决了 <code>this</code> 指向不明的问题。</p>
</blockquote>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">foo</span> = (<span class="hljs-params"></span>) =&gt; <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>);<br><br><span class="hljs-title function_">foo</span>(); <span class="hljs-comment">// window</span><br><br><span class="hljs-comment">// Changing caller will not change &#x27;this&#x27;</span><br><span class="hljs-keyword">let</span> obj = &#123; <span class="hljs-attr">foo</span>: foo, &#125;;<br>obj.<span class="hljs-title function_">foo</span>(); <span class="hljs-comment">// window</span><br><br><span class="hljs-comment">// &#x27;call&#x27; &amp; &#x27;bind&#x27; may fail</span><br>foo.<span class="hljs-title function_">call</span>(obj); <span class="hljs-comment">// window</span><br>foo = foo.<span class="hljs-title function_">bind</span>(obj);<br><span class="hljs-title function_">foo</span>(); <span class="hljs-comment">// window</span><br></code></pre></td></tr></table></figure>

<p>在全局环境下设定的箭头函数的 <code>this</code> 永远跟随全局环境指向全局对象</p>
<h5 id="回调模式"><a href="#回调模式" class="headerlink" title="回调模式"></a>回调模式</h5><p>这个函数现在传进去但暂且不调用，需要的时候再调用</p>
<ol>
<li><p>遍历数组的操作<code>forEach</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>].<span class="hljs-title function_">forEach</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">val, ind</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">`The elem with index <span class="hljs-subst">$&#123;ind&#125;</span> is <span class="hljs-subst">$&#123;val&#125;</span>.\n`</span>);<br>&#125;);<br></code></pre></td></tr></table></figure>
</li>
<li><p>数组的映射函数 <code>map</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>].<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">val</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-number">2</span> * val;<br>&#125;); <span class="hljs-comment">// [2, 4, 6, 8]</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>数组的筛选方法 <code>filter</code></p>
<ul>
<li><strong>创建一个新的数组</strong>，新数组中的元素是通过检查指定数组中符合条件的所有元素</li>
</ul>
</li>
</ol>
<h5 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h5><ul>
<li><p>概念：一个函数对周围状态的引用捆绑在一起，内层函数中访问到其外层函数的作用域</p>
</li>
<li><p>简单理解：<strong>闭包 &#x3D; 内层函数 + 外层函数的变量</strong></p>
</li>
<li><p>作用：外部能够访问函数内部的变量</p>
</li>
<li><p>原因：引用的变量不会被GC立即释放（引用变量还能找到，所以不能释放）</p>
</li>
<li><p>弊端：内存泄漏</p>
</li>
<li><p>类比：</p>
<ul>
<li>外层函数 → 类</li>
<li>内层函数 → 方法</li>
<li>引用变量 → public型数据，类所公有</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">outer</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>;<br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">one</span>(<span class="hljs-params"></span>) &#123;<br>        i++;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i);<br>    &#125;<br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">two</span>(<span class="hljs-params"></span>) &#123;<br>        i++;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i);<br>    &#125;<br>    <span class="hljs-keyword">return</span> [one, two];<br>&#125;<br><span class="hljs-keyword">const</span> [one, two] = <span class="hljs-title function_">outer</span>();<br><br><span class="hljs-title function_">one</span>(); <span class="hljs-comment">// 2</span><br><span class="hljs-title function_">one</span>(); <span class="hljs-comment">// 3</span><br><span class="hljs-title function_">two</span>(); <span class="hljs-comment">// 4</span><br></code></pre></td></tr></table></figure></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">lazy_sum</span>(<span class="hljs-params">arr</span>) &#123;<br>    <span class="hljs-keyword">let</span> sum = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> arr.<span class="hljs-title function_">reduce</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">x, y</span>) &#123;<br>            <span class="hljs-keyword">return</span> x + y;<br>        &#125;);<br>    &#125;<br>    <span class="hljs-keyword">return</span> sum;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>当我们调用<code>lazy_sum()</code>时，返回的并不是求和结果，而是求和函数：</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">var</span> f = lazy_sum([<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]); // function sum()<br></code></pre></td></tr></table></figure>

<p>调用函数<code>f</code>时，才真正计算求和的结果：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">f</span>(); <span class="hljs-comment">// 15</span><br></code></pre></td></tr></table></figure>

<p>以下参考：<a target="_blank" rel="noopener" href="https://docs.net9.org/languages/javascript/function/">清华大学计算机系科协技能引导文档</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getIncreaser</span>(<span class="hljs-params">increment</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">x</span>) &#123;<br>        <span class="hljs-keyword">return</span> x + increment;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> increase5 = <span class="hljs-title function_">getIncreaser</span>(<span class="hljs-number">5</span>);<br><span class="hljs-title function_">increase5</span>(<span class="hljs-number">10</span>); <span class="hljs-comment">// 15</span><br></code></pre></td></tr></table></figure>

<ul>
<li><p>闭包函数用来<strong>创造函数</strong></p>
</li>
<li><p>上面，<code>getIncreaser</code> 会把 <code>increment</code> 变量包装在其返回的匿名函数之中，这样就形成了一个<strong>闭包</strong>。</p>
</li>
<li><p>闭包实际上就是一个函数和对其<strong>周围状态（lexical environment，词法环境）的引用</strong>捆绑在一起。</p>
<p>这里要特别注意的是，闭包的所谓词法环境，指的是创建闭包时的<strong>函数作用域</strong>。</p>
</li>
</ul>
<ol>
<li><p>比如这样就不会形成闭包</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getCounters</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">let</span> arr = [];<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; ++i) &#123;<br>        arr.<span class="hljs-title function_">push</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123; <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i * i); &#125;);<br>    &#125;<br>    <span class="hljs-keyword">return</span> arr;<br>&#125;<br><br><span class="hljs-keyword">let</span> counters = <span class="hljs-title function_">getCounters</span>();<br>counters[<span class="hljs-number">0</span>](); <span class="hljs-comment">// 0</span><br>counters[<span class="hljs-number">1</span>](); <span class="hljs-comment">// 1</span><br>counters[<span class="hljs-number">2</span>](); <span class="hljs-comment">// 4</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>这样就会形成闭包</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getCounters</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">let</span> arr = [];<br>    <span class="hljs-keyword">let</span> i;<br>    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">3</span>; ++i) &#123;<br>        arr.<span class="hljs-title function_">push</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123; <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(i * i); &#125;);<br>    &#125;<br>    <span class="hljs-keyword">return</span> arr;<br>&#125;<br><br><span class="hljs-keyword">let</span> counters = <span class="hljs-title function_">getCounters</span>();<br>counters[<span class="hljs-number">0</span>](); <span class="hljs-comment">// 9</span><br>counters[<span class="hljs-number">1</span>](); <span class="hljs-comment">// 9</span><br>counters[<span class="hljs-number">2</span>](); <span class="hljs-comment">// 9</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>原因：变量的作用域不同。第一个变量<code>i</code>的作用域是<code>for</code>语句，第二个是函数作用域。</p>
<p>在闭包捕获变量时，对局部作用域的变量会<strong>复制</strong>，而对函数作用域的变量会<strong>引用</strong>。</p>
<p>因此，通过在 <code>for</code> 语句中使用 <code>let</code> 声明变量，我们声明了局部变量，从而获得了期望的复制捕获行为。</p>
</li>
</ol>
<p>此外需要注意的是，JavaScript 在任何情况下都不会帮你复制<strong>对象</strong>（上面被捕获的 <code>int</code> 是基本值而非对象），如果你的闭包捕获一个对象的值，无论这个对象的作用域如何，都会产生类似问题。事实上，这里并非基本值被特殊地对待，而是对象类型的变量存储的值是到实际对象的引用，因此在捕获时复制的是引用（浅拷贝）而非实际对象（深拷贝）。除非你明确地想要保存一些值，否则在构造闭包时请注意捕获实际的值，而非引用。</p>
<h3 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h3><blockquote>
<p>JavaScript 的面向对象的实现逻辑并非是类封装逻辑，而是原型链逻辑。最初的 JavaScript 并不支持类语法，但由于原型链实在太过于特立独行，目前 ES6 标准将类语法作为<strong>语法糖</strong>加入了语言标准。这也就是说，JavaScript 的面向对象的底层依然是原型链而非类封装，如果真的想弄明白 JavaScript 的原型链机制，可以查看文档末尾的原型链章节。但对于初学者，我们建议只是用类语法，除非遇到不可解决的 bug，否则不要花时间钻研原型链。</p>
</blockquote>
<h4 id="this"><a href="#this" class="headerlink" title="this"></a>this</h4><blockquote>
<p>作者：littleyu<br>链接：<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/ad22f8463afb">https://www.jianshu.com/p/ad22f8463afb</a></p>
</blockquote>
<p>JS（ES5）里面有三种函数调用形式：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">func</span>(p1, p2)<br>obj.<span class="hljs-property">child</span>.<span class="hljs-title function_">method</span>(p1, p2)<br>func.<span class="hljs-title function_">call</span>(context, p1, p2)<br></code></pre></td></tr></table></figure>

<p>只有第三种才是一般方式，前两种均为语法糖</p>
<p>context相当于python中的self,  是一个默认参数</p>
<p>前两种到第三种的变化方式：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">func</span>(p1, p2) 等价于<br>func.<span class="hljs-title function_">call</span>(<span class="hljs-literal">undefined</span>, p1, p2)<br><br>obj.<span class="hljs-property">child</span>.<span class="hljs-title function_">method</span>(p1, p2) 等价于<br>obj.<span class="hljs-property">child</span>.<span class="hljs-property">method</span>.<span class="hljs-title function_">call</span>(obj.<span class="hljs-property">child</span>, p1, p2)<br></code></pre></td></tr></table></figure>

<p>&#x3D;&#x3D;其中<code>context</code>就是<code>this</code>&#x3D;&#x3D;,  即</p>
<ul>
<li><strong>函数</strong>中，<code>this</code>为<code>undefined</code>，但被替换为<code>window</code></li>
<li><code>obj.method()</code>中，<code>this</code>为<code>obj</code></li>
</ul>
<p>总结：this 就是 call 的第一个参数</p>
<blockquote>
<p>来自：<a target="_blank" rel="noopener" href="https://docs.net9.org/languages/javascript/oop/">清华大学计算机系科协技能引导文档</a></p>
</blockquote>
<ul>
<li>严格来说，JavaScript 的 <code>this</code> 指向规则只有一条，即 <strong><code>this</code> 永远指向最近的调用者</strong></li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">foo</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>);<br>&#125;<br><br><span class="hljs-title function_">foo</span>(); <span class="hljs-comment">// window</span><br><br><span class="hljs-keyword">let</span> obj = &#123; <span class="hljs-attr">foo</span>: foo, &#125;;<br>obj.<span class="hljs-title function_">foo</span>(); <span class="hljs-comment">// &#123; foo: foo &#125;</span><br></code></pre></td></tr></table></figure>

<p>这里两次调用的都是同一个 <code>foo</code> 函数，不同的是前者是全局调用（即直接调用），而后者是把函数作为一个对象 <code>obj</code> 的属性后通过 <code>obj</code> 调用。而 <code>this</code> 的指向就是在函数调用的时候确定的。全局调用 <code>foo</code> 函数，那 <code>this</code> 就指向全局对象，通过 <code>obj</code> 调用，那 <code>this</code> 就指向 <code>obj</code>。</p>
<p>事实上 JavaScript 的全局变量都是全局对象的属性，每一个 JavaScript 运行环境都有一个全局对象。比如说浏览器的全局对象往往是 <code>window</code>，而 Node.js 的全局变量则是 <code>global</code>。你声明的每一个全局变量都会绑定为全局对象的属性（下述代码在浏览器运行）：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> a = <span class="hljs-number">1</span>;<br><span class="hljs-variable language_">window</span>.<span class="hljs-property">a</span>; <span class="hljs-comment">// 1</span><br></code></pre></td></tr></table></figure>

<p>而在全局环境下调用函数 <code>foo()</code>，实际上等价于通过全局对象在调用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">foo</span>();<br><span class="hljs-variable language_">window</span>.<span class="hljs-title function_">foo</span>();<br></code></pre></td></tr></table></figure>

<p>上述两个语句没有差别。</p>
<h4 id="Class"><a href="#Class" class="headerlink" title="Class"></a>Class</h4><p>js的类是个语法糖</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Pig</span>(<span class="hljs-params">_name, _age, _gender</span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = _name;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = _age;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">gender</span> = _gender;<br>&#125;<br><br><span class="hljs-keyword">const</span> peppa = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Pig</span>(<span class="hljs-string">&#x27;佩奇&#x27;</span>, <span class="hljs-number">18</span>, <span class="hljs-string">&#x27;female&#x27;</span>);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(peppa);<br><span class="hljs-comment">// peppa.__proto__ === Pig.prototype</span><br></code></pre></td></tr></table></figure>

<p>这里使用 <code>new</code> 关键字调用构造函数，这种调用方式就区分了构造函数和普通函数。并且，构造函数内部不用我们再自己构造一个空对象，而是直接使用 <code>this</code> 对象，并且在使用 <code>new</code> 调用的时候，函数会自动将 <code>this</code> 返回。实际上，如果不用 <code>new</code> 关键字调用构造函数也是合法的，这样的话该函数将会作为普通函数执行并返回 <code>undefined</code>。</p>
<ol>
<li>实例成员<ul>
<li><strong>在构造函数内部声明</strong>的属性和方法被称为实例成员</li>
</ul>
</li>
<li>静态成员<ul>
<li><strong>在构造函数外部添加</strong>的属性和方法被称为静态成员</li>
<li><strong>构造函数的属性和方法</strong>被称为静态成员</li>
</ul>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Pig</span>(<span class="hljs-params">_name, _age, _gender</span>) &#123;<br>    <span class="hljs-comment">// 这些是实例成员</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span> = _name;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">age</span> = _age;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">gender</span> = _gender;<br>&#125;<br><span class="hljs-comment">// 静态成员</span><br><span class="hljs-title class_">Pig</span>.<span class="hljs-property">eyes</span> = <span class="hljs-number">2</span>;<br><span class="hljs-title class_">Pig</span>.<span class="hljs-property">arms</span> = <span class="hljs-number">2</span>;<br><span class="hljs-title class_">Pig</span>.<span class="hljs-property">walk</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;walk&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="内置构造函数"><a href="#内置构造函数" class="headerlink" title="内置构造函数"></a>内置构造函数</h4><h5 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h5><p>是内置的构造函数，用于创建普通对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> obj = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Object</span>(&#123;<span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;张三&#x27;</span>, <span class="hljs-attr">age</span>: <span class="hljs-string">&#x27;18&#x27;</span>&#125;);<br></code></pre></td></tr></table></figure>

<p>静态方法：</p>
<ul>
<li><code>Object.keys(obj)</code>：获取<code>obj</code>的所有键，返回一个数组</li>
<li><code>Object.values(obj)</code>：获取<code>obj</code>的所有值，返回一个数组</li>
<li><code>Object.entries(obj)</code>：获取键值对，是一个嵌套的数组</li>
<li><code>Object.fromEntries(array)</code>：根据键值对数组，构造对象并返回</li>
<li><code>Object.assign(oo, o)</code>：把o拷贝给oo</li>
</ul>
<h5 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h5><p><a target="_blank" rel="noopener" href="https://zh.javascript.info/array-methods">https://zh.javascript.info/array-methods</a></p>
<p>实例方法：</p>
<table>
<thead>
<tr>
<th align="center">方法</th>
<th align="center">作用</th>
<th align="center">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">forEach</td>
<td align="center">遍历数组</td>
<td align="center">不返回，用于只读值，经常用于查找打印输出值（仅遍历，只读）</td>
</tr>
<tr>
<td align="center">filter</td>
<td align="center">过滤数组</td>
<td align="center">筛选数组元素，并生成新数组（筛选元素）</td>
</tr>
<tr>
<td align="center">map</td>
<td align="center">迭代数组</td>
<td align="center">返回新数组，新数组里面的元素时处理之后的值，经常用于处理数据（遍历并生成新数组）</td>
</tr>
<tr>
<td align="center">reduce</td>
<td align="center">累积器</td>
<td align="center">返回函数累计处理的结果，经常用于求和（遍历数组，返回一个值）</td>
</tr>
</tbody></table>
<p><code>reduce</code></p>
<ul>
<li><pre><code class="js">arr.reduce(function(累计值， 当前元素 [，索引号][，原数组])&#123;&#125;, 起始值)
<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey"><br>+ 如果有起始值，则以起始值为准开始累计， 累计值 = 起始值<br><br>+ 如果没有起始值， 则累计值以数组的第一个数组元素作为起始值开始累计<br><br>+ 后面每次遍历就会用后面的数组元素 累计到 累计值 里面 （类似求和里面的 sum<br><br>其他实例方法：<br><br><span class="hljs-number">1</span>. 实例方法 `join` 数组元素拼接为字符串，返回字符串(重点)<br><br><span class="hljs-number">2</span>. 实例方法  `find(funciton)`  查找元素， 返回符合测试条件的第一个数组元素值，如果没有符合条件的则返回 undefined(重点)<br><br>   `findIndex(function)`：类似上者，返回下标<br><br><span class="hljs-number">3</span>. 实例方法 `every` 检测数组所有元素是否都符合指定条件，如果**所有元素**都通过检测返回 <span class="hljs-literal">true</span>，否则返回 <span class="hljs-literal">false</span>(重点)<br><br><span class="hljs-number">4</span>. 实例方法`some` 检测数组中的元素是否满足指定条件   **如果数组中有**元素满足条件返回 <span class="hljs-literal">true</span>，否则返回 <span class="hljs-literal">false</span><br><br><span class="hljs-number">5</span>. 实例方法 `concat`  合并两个数组，返回生成新数组<br><br><span class="hljs-number">6</span>. 实例方法 `sort(function)` 对原数组单元值排序<br><br>   ```js<br>   function comp(a,b)&#123;<br>       if(a[pro]&gt;b[pro]) <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span><span class="hljs-comment">; // 不需要交换</span><br>       if(a[pro]==b[pro]) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span><span class="hljs-comment">;</span><br>       if(a[pro]&lt;b[pro]) <span class="hljs-keyword">return</span>  <span class="hljs-number">1</span>  // 表示：需要交换<br>       // 或者，返回正负即可<br>       // <span class="hljs-keyword">return</span> b-a<br>   &#125;<br>   // 降序<br>   arr.sort(comp)<br></code></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
<ol start="7">
<li><p>实例方法 <code>splice(start[, deleteCount, elem1, ..., elemN])</code> 删除或替换原数组单元</p>
</li>
<li><p>实例方法 <code>reverse</code> 反转数组</p>
</li>
<li><p>实例方法 <code>findIndex</code>  查找元素的索引值</p>
</li>
<li><p><code>includes()</code>：是否包含元素</p>
</li>
<li><p><code>indexOf()</code>：元素下标</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://zh.javascript.info/array#poppushshiftunshift-fang-fa">pop&#x2F;push, shift&#x2F;unshift 方法</a></p>
<ul>
<li><code>push</code> 在末端添加一个元素， <code>pop</code>在末端移除元素</li>
<li><code>unshift</code>在首端添加元素，<code>shift</code> 取出队列首端的一个元素，整个队列往前移，这样原先排第二的元素现在排在了第一。</li>
</ul>
</li>
<li><p><code>indexOf(item, from)  lastIndexOf 和 includes</code></p>
</li>
<li></li>
</ol>
<p>静态方法</p>
<ol>
<li><code>from</code>把伪数组转换为真数组：<code>Array.from(list)</code>返回真数组</li>
<li><code>isArray</code>：Array基于Object，使用<code>typeof</code>会返回<code>Object</code></li>
</ol>
<h5 id="String"><a href="#String" class="headerlink" title="String"></a>String</h5><p><a target="_blank" rel="noopener" href="https://zh.javascript.info/string">https://zh.javascript.info/string</a></p>
<ol>
<li><p>实例属性 <code>length</code> 用来获取字符串的度长(重点)</p>
</li>
<li><p>实例方法 <code>split(&#39;分隔符&#39;)</code> 用来将字符串拆分成数组(重点)</p>
</li>
<li><p>实例方法 <code>substring（需要截取的第一个字符的索引[,结束的索引号]）</code> 用于字符串截取(重点)</p>
</li>
<li><p>实例方法 <code>includes(搜索的字符串[, 检测位置索引号])</code> 判断一个字符串是否包含在另一个字符串中，根据情况返回 true 或 false(重点)</p>
</li>
<li><p>实例方法 <code>toUpperCase</code> 用于将字母转换成大写，<code>toLowerCase</code> 用于将就转换成小写</p>
</li>
<li><p><code>indexOf(subStr[, pos])</code> 返回子字符串开始位置，从pos开始检测，找不到就返回-1。</p>
<p><code>lastIndexOf(substr, position)</code>，倒着检测</p>
</li>
<li><p><code>startsWith</code>是否以某字符串开始</p>
<p><code>endsWith</code> 检测是否以某字符结尾</p>
</li>
<li><p>实例方法 <code>replace</code> 用于替换字符串，支持正则匹配</p>
</li>
<li><p>实例方法 <code>match</code> 用于查找字符串，支持正则匹配</p>
</li>
<li><p><code>padding</code>：填充</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-string">&#x27;x&#x27;</span>.<span class="hljs-title function_">padStart</span>(<span class="hljs-number">4</span>, <span class="hljs-string">&#x27;ab&#x27;</span>);  <span class="hljs-comment">//&#x27;abax&#x27;</span><br><span class="hljs-string">&#x27;x&#x27;</span>.<span class="hljs-title function_">padEnd</span>(<span class="hljs-number">5</span>, <span class="hljs-string">&#x27;ab&#x27;</span>);    <span class="hljs-comment">//&#x27;xabab&#x27;</span><br></code></pre></td></tr></table></figure></li>
</ol>
<p>注：String 也可以当做普通函数使用，这时它的作用是强制转换成字符串数据类型。</p>
<h5 id="分割方法"><a href="#分割方法" class="headerlink" title="分割方法"></a>分割方法</h5><p>字符串（返回新字符串）：</p>
<ul>
<li><p><code>slice(start [, end])</code> 接受负值</p>
</li>
<li><p><code>substring(start [, end])</code> 负值被视为0</p>
</li>
<li><p><code>substr(start [, length])</code>  接收负值，第二个参数是长度</p>
</li>
<li><p><code>split(target)</code>：按照target分割字符串</p>
</li>
</ul>
<p>数组：</p>
<ul>
<li><code>arr.slice([start], [end])</code>  切片，支持负数，不改变原数组</li>
<li><code>arr.splice(start[, deleteCount, elem1, ..., elemN])</code>，删除后添加，支持负数，修改了原数组,返回删除的部分</li>
<li></li>
</ul>
<h5 id="Number"><a href="#Number" class="headerlink" title="Number"></a>Number</h5><ul>
<li>实例方法 <code>toFixed</code> 用于设置保留小数位的长度：<code>num.toFixed(2)</code></li>
</ul>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831145609880.png" srcset="/img/loading.gif" lazyload alt="image-20230831145609880"></p>
<h5 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h5><p>实例方法：</p>
<ol>
<li><code>toString</code>：得到函数的字符串，保留空白字符</li>
</ol>
<h5 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h5><p><a target="_blank" rel="noopener" href="https://zh.javascript.info/map-set">https://zh.javascript.info/map-set</a></p>
<p>对象只允许字符串和Symbol作为键，map允许任何类型的键（key），包括对象</p>
<ul>
<li>保留了插入时的顺序（object没有这个特性）</li>
</ul>
<p>API:</p>
<ul>
<li><p><code>new Map()</code> —— 创建 map。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> recipeMap = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>([<br>  [<span class="hljs-string">&#x27;cucumber&#x27;</span>, <span class="hljs-number">500</span>],<br>  [<span class="hljs-string">&#x27;tomatoes&#x27;</span>, <span class="hljs-number">350</span>],<br>  [<span class="hljs-string">&#x27;onion&#x27;</span>,    <span class="hljs-number">50</span>]<br>]);<br></code></pre></td></tr></table></figure>
</li>
<li><p>也可以由普通对象创建：因为<code>Object.entries(obj)</code>返回了一个二维数组</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> obj = &#123;<br>  <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;John&quot;</span>,<br>  <span class="hljs-attr">age</span>: <span class="hljs-number">30</span><br>&#125;;<br><span class="hljs-keyword">let</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>(<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">entries</span>(obj));<br><span class="hljs-comment">// Object.entries 返回键/值对数组：[ [&quot;name&quot;,&quot;John&quot;], [&quot;age&quot;, 30] ]</span><br><br><span class="hljs-title function_">alert</span>( map.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;name&#x27;</span>) );<br></code></pre></td></tr></table></figure>
</li>
<li><p>相反，从map创建对象：<code>Object.fromEntries();</code>可以由二维数组得到对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> map = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Map</span>();<br>map.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;banana&#x27;</span>, <span class="hljs-number">1</span>);<br>map.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;orange&#x27;</span>, <span class="hljs-number">2</span>);<br>map.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;meat&#x27;</span>, <span class="hljs-number">4</span>);<br><br><span class="hljs-keyword">let</span> obj = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">fromEntries</span>(map.<span class="hljs-title function_">entries</span>()); <span class="hljs-comment">// 创建一个普通对象（plain object）(*)</span><br><br><span class="hljs-comment">// 简写：</span><br><span class="hljs-keyword">let</span> obj = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">fromEntries</span>(map); <span class="hljs-comment">// 省掉 .entries()</span><br><br><span class="hljs-comment">// 完成了！</span><br><span class="hljs-comment">// obj = &#123; banana: 1, orange: 2, meat: 4 &#125;</span><br><br><span class="hljs-title function_">alert</span>(obj.<span class="hljs-property">orange</span>); <span class="hljs-comment">// 2</span><br></code></pre></td></tr></table></figure>


</li>
<li><p><code>map.set(key, value)</code> —— 根据键存储值。</p>
</li>
<li><p><code>map.get(key)</code> —— 根据键来返回值，如果 <code>map</code> 中不存在对应的 <code>key</code>，则返回 <code>undefined</code>。</p>
</li>
<li><p><code>map.has(key)</code> —— 如果 <code>key</code> 存在则返回 <code>true</code>，否则返回 <code>false</code>。</p>
</li>
<li><p><code>map.delete(key)</code> —— 删除指定键的值。</p>
</li>
<li><p><code>map.clear()</code> —— 清空 map。</p>
</li>
<li><p><code>map.size</code> —— 返回当前元素个数。</p>
</li>
</ul>
<p>每一次 <code>map.set</code> 调用都会返回 map 本身，所以我们可以进行“链式”调用：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">map.<span class="hljs-title function_">set</span>(<span class="hljs-string">&#x27;1&#x27;</span>, <span class="hljs-string">&#x27;str1&#x27;</span>)<br>  .<span class="hljs-title function_">set</span>(<span class="hljs-number">1</span>, <span class="hljs-string">&#x27;num1&#x27;</span>)<br>  .<span class="hljs-title function_">set</span>(<span class="hljs-literal">true</span>, <span class="hljs-string">&#x27;bool1&#x27;</span>);<br></code></pre></td></tr></table></figure>



<p>迭代：</p>
<ul>
<li><p><code>map.keys()</code> —— 所有键的可迭代对象，</p>
</li>
<li><p><code>map.values()</code> —— 所有值的可迭代对象，</p>
</li>
<li><p><code>map.entries()</code> ——所有实体 <code>[key, value]</code> 的可迭代对象，<code>for..of</code> 在默认情况下使用的就是这个。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> entry <span class="hljs-keyword">of</span> recipeMap) &#123; <span class="hljs-comment">// 与 recipeMap.entries() 相同</span><br>  <span class="hljs-title function_">alert</span>(entry); <span class="hljs-comment">// cucumber,500 (and so on)</span><br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<h5 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h5><p><code>Set</code> 是一个特殊的类型集合 —— “值的集合”（没有键），它的每一个值只能出现一次。</p>
<p>API:</p>
<ul>
<li><code>new Set(iterable)</code> —— 创建一个 <code>set</code>，如果提供了一个 <code>iterable</code> 对象（通常是数组），将会从数组里面复制值到 <code>set</code> 中。</li>
<li><code>set.add(value)</code> —— 添加一个值，返回 set 本身</li>
<li><code>set.delete(value)</code> —— 删除值，如果 <code>value</code> 在这个方法调用的时候存在则返回 <code>true</code> ，否则返回 <code>false</code>。</li>
<li><code>set.has(value)</code> —— 如果 <code>value</code> 在 set 中，返回 <code>true</code>，否则返回 <code>false</code>。</li>
<li><code>set.clear()</code> —— 清空 set。</li>
<li><code>set.size</code> —— 返回元素个数。</li>
</ul>
<p><code>forEach</code> 的回调函数有<strong>三个参数</strong>：一个 <code>value</code>，然后是 <strong>同一个值</strong> <code>valueAgain</code>，最后是目标对象。这是为了兼容map</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">set.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">value, valueAgain, set</span>) =&gt;</span> &#123;<br>  <span class="hljs-title function_">alert</span>(value);<br>&#125;);<br></code></pre></td></tr></table></figure>

<p><code>Map</code> 中用于迭代的方法在 <code>Set</code> 中也同样支持：</p>
<ul>
<li><code>set.keys()</code> —— 遍历并返回一个包含所有值的可迭代对象，</li>
<li><code>set.values()</code> —— 与 <code>set.keys()</code> 作用相同，这是为了兼容 <code>Map</code>，</li>
<li><code>set.entries()</code> —— 遍历并返回一个包含所有的实体 <code>[value, value]</code> 的可迭代对象，它的存在也是为了兼容 <code>Map</code>。</li>
</ul>
<p>案例：使用Set过滤重复元素</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">unique</span>(<span class="hljs-params">arr</span>)&#123;<br>  <span class="hljs-keyword">return</span> [...<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(arr)]<br>&#125;<br><span class="hljs-comment">// 或</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">unique</span>(<span class="hljs-params">arr</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(arr));<br>&#125;<br></code></pre></td></tr></table></figure>

























<h4 id="构造函数与原型"><a href="#构造函数与原型" class="headerlink" title="构造函数与原型"></a>构造函数与原型</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">Star</span>(<span class="hljs-params"></span>) &#123;&#125;<br><span class="hljs-keyword">const</span> ldh = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Star</span>();<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-title class_">Star</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">constructor</span> === <span class="hljs-title class_">Star</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ldh.<span class="hljs-property">__proto__</span>.<span class="hljs-property">constructor</span> === <span class="hljs-title class_">Star</span>);<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ldh.<span class="hljs-property">__proto__</span> === <span class="hljs-title class_">Star</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>);<br></code></pre></td></tr></table></figure>

<ul>
<li><p>构造函数通过原型分配的函数是所有对象 所 共享 的 。</p>
</li>
<li><p>JavaScript 规定， 每一个构造函数都有一个 prototype 属性 ，指向另一个 对象，所以我们也称为原型对象</p>
</li>
<li><p>这个对象可以 挂载函数，对象实例化不会多次创建原型上函数，节约内存</p>
</li>
<li><p>我们 可以把那些不变的方法，直接定义在 prototype 对象上，这样 所有对象的实例就可以共享这些方法 。</p>
</li>
<li><p>构造函数和原型对象中的 this 都指向 实例化的对象</p>
</li>
<li><p><code>__proto__</code>是对象的，<code>prototype</code>是类的</p>
</li>
</ul>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831195224515.png" srcset="/img/loading.gif" lazyload alt="image-20230831195224515"></p>
<ol>
<li>原型是什么<ul>
<li>一个对象，我们也称为 prototype 为 原型对象</li>
</ul>
</li>
<li>原型的作用是什么 <ul>
<li>共享方法 可以把那些不变的方法，直接定义在 prototype 对象上</li>
</ul>
</li>
<li>构造函数和原型里面的 this 指向谁 <ul>
<li>实例化的对象</li>
</ul>
</li>
</ol>
<h6 id="对象原型"><a href="#对象原型" class="headerlink" title="对象原型"></a>对象原型</h6><p>对象都会有一个属性<code>__proto__</code>指向构造函数的 prototype 原型对象，之所以 我们对象可以使用构造函数 prototype<br>原型对象的属性和方法，就是因为 对象有<code>__proto__ </code>原型 的存在。</p>
<h6 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h6><ul>
<li><code>子类的prototype = new Person()</code></li>
</ul>
<h6 id="原型链"><a href="#原型链" class="headerlink" title="原型链"></a>原型链</h6><p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831204903411.png" srcset="/img/loading.gif" lazyload alt="image-20230831204903411"></p>
<p><code>instanceof </code>运算符用于检测构造函数的 prototype 属性是否出现在某个实例对象的原型链上</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>] <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Array</span><br></code></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">类.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> === 对象.<span class="hljs-property">__proto__</span><br></code></pre></td></tr></table></figure>

<p>他们指向同一个东西</p>
<p>&#x3D;&#x3D;typeof 和 Object.getPrototypeOf()&#x3D;&#x3D;</p>
<ul>
<li><strong>用途</strong>: <code>typeof</code>用于获取数据的类型，而<code>Object.getPrototypeOf()</code>用于获取对象的原型。</li>
<li><strong>返回值</strong>: <code>typeof</code>返回一个表示类型的字符串，<code>Object.getPrototypeOf()</code>返回一个对象（原型对象）。</li>
<li><strong>适用性</strong>: <code>typeof</code>对基本数据类型和区分函数与普通对象很有用。<code>Object.getPrototypeOf()</code>专用于对象，用于访问其原型链。</li>
</ul>
<h3 id="异步"><a href="#异步" class="headerlink" title="异步"></a>异步</h3><blockquote>
<p> <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Asynchronous/Promises">参考资料</a>：<a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Asynchronous/Promises">https://developer.mozilla.org/zh-CN/docs/Learn/JavaScript/Asynchronous/Promises</a></p>
<p> <a target="_blank" rel="noopener" href="https://docs.net9.org/languages/javascript/async/">https://docs.net9.org/languages/javascript/async/</a></p>
</blockquote>
<h4 id="回调函数"><a href="#回调函数" class="headerlink" title="回调函数"></a>回调函数</h4><p>事件处理程序是一种特殊类型的回调函数。</p>
<p>而回调函数则是<strong>一个被传递到另一个函数中的会在适当的时候被调用的函数。</strong></p>
<p>正如我们刚刚所看到的：回调函数曾经是 JavaScript 中实现异步函数的主要方式。</p>
<blockquote>
<p>同步任务：都在主线程上执行，形成一个执行栈</p>
<p>异步任务：由回调函数实现，如时间、加载、定时器。</p>
<p>先执行同步，把异步放入队列中。同步执行完再执行异步</p>
</blockquote>
<blockquote>
<p>在详细叙述这个机制之前，我们首先需要重新认识一下回调函数。当主线程派遣出一个异步过程，比如说触发了网络请求，一般而言需要设定一个这个异步过程的回调函数。这个回调函数描述的，是这个异步过程执行完毕后需要做的事情。</p>
<p>需要定义这个回调函数的原因也很简单，主线程没有办法了解到异步过程何时才能结束，甚至并不清楚这个过程能否结束。在这样的情况下，主线程完全不能知晓什么时候做这个异步过程的善后工作（比如说从网络获取数据后，主线程应该把这些数据加载到页面上）。那么不如定义一个回调函数，具体什么时候调用，根据异步过程来确定。</p>
<p>回到事件循环和消息队列。JavaScript 的主线程上会有一个死循环，称为<strong>事件循环</strong>。其执行逻辑为在空闲的时候不断检查消息队列是否有消息，如果有，则执行，如果没有，则等待。而空闲的含义是当前函数栈空。</p>
<p>而需要异步执行的代码则会负载一个回调函数，当异步过程执行完毕后，则会把回调函数放入消息队列末尾。当主线程空闲且检测到消息队列之中有回调函数的时候，主线程就会执行回调函数，做好异步过程的善后工作。</p>
<p>通过这样的机制，JavaScript 依然是单线程的，对文档树的操作依然是同步的、不会出现冲突的。但依靠这个机制，JavaScript 实现了异步。</p>
</blockquote>
<h4 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h4><p><a target="_blank" rel="noopener" href="https://docs.net9.org/languages/javascript/async/#promise">贵系科协技能引导文档Promise</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">let</span> asyncSucceeded = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() &gt; <span class="hljs-number">0.2</span>;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-keyword">if</span> (asyncSucceeded) &#123;<br>            <span class="hljs-title function_">resolve</span>(<span class="hljs-string">&quot;Async succeeded!&quot;</span>);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-title function_">reject</span>(<span class="hljs-string">&quot;Async failed!&quot;</span>);<br>        &#125;<br>    &#125;, <span class="hljs-number">1000</span>);<br>&#125;)<br>    .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Then&quot;</span>);<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res);<br>    &#125;)<br>    .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Catch&quot;</span>);<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err);<br>    &#125;);<br></code></pre></td></tr></table></figure>

<p>其构造函数接受一个回调函数，这个回调函数的两个参数是另外的两个回调函数。</p>
<ul>
<li><code>resolve</code> 代表异步成功的回调函数，</li>
<li><code>reject</code> 代表异步失败的回调函数。</li>
<li>而构造函数接受的回调函数的函数体则是需要执行的耗时操作。</li>
</ul>
<p><code>Promise</code> 比直接写回调模式优越的地方就是这种写法解决了回调地狱。我们依然考虑依次获取多数据源数据的业务场景，由于 <code>then</code> 方法依然返回 <code>Promise</code> 对象，所以实际上我们可以在 <code>then</code> 后面接着调用 <code>then</code>。而上一个 <code>then</code> 之中的回调函数的返回值会被传入下一个 <code>then</code> 之中的回调函数的第一个参数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// Get Data #1</span><br>    <span class="hljs-title function_">resolve</span>(<span class="hljs-string">&quot;Data #1&quot;</span>);<br>&#125;)<br>    .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res);<br>        <span class="hljs-comment">// Get Data #2</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Data #2&quot;</span>;<br>    &#125;)<br>    .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res);<br>        <span class="hljs-comment">// Get Data #3</span><br>        <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Data #3&quot;</span>;<br>    &#125;)<br>    .<span class="hljs-title function_">then</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>)<br>    .<span class="hljs-title function_">catch</span>(<span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>);<br></code></pre></td></tr></table></figure>

<p>这种写法被称为 <code>then</code> 链，其好处是比回调函数写法更易读且易维护</p>
<p>另外，对于多依赖问题（需要多个异步全部结束后才能派遣下一个异步），<code>Promise</code> 提供了 <code>all</code> 方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>(<br>    [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">val</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>            <span class="hljs-title function_">resolve</span>(<span class="hljs-string">`Promise #<span class="hljs-subst">$&#123;val&#125;</span>`</span>);<br>        &#125;);<br>    &#125;)<br>)<br>    .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res); <span class="hljs-comment">// [&quot;Promise #1&quot;, &quot;Promise #2&quot;, &quot;Promise #3&quot;]</span><br>    &#125;)<br>    .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> &#123;&#125;);<br></code></pre></td></tr></table></figure>

<p>这里 <code>then</code> 之中的回调函数接受的参数是所有 <code>Promise</code> 对象 <code>resolve</code> 回调所接受的参数拼成的数组，<code>catch</code> 同理。</p>
<p>另外，注意两点：</p>
<ul>
<li><code>Promise</code> 一旦创建，内部的异步过程就开始执行，且开始执行后就不会取消</li>
<li>创建 <code>Promise</code> 会写很多很长的回调，写完这些回调后很容易给编写者一种“异步已经执行结束”的错觉。实际上这么长的语句仅仅是<strong>定义了 <code>Promise</code> 对象</strong>，也就是仅仅只是派遣了异步。</li>
</ul>
<p>样例展示：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> incantations = <span class="hljs-string">&quot;芝麻开门&quot;</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">init</span>(<span class="hljs-params">el</span>) &#123;<br>  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;.wrapper .btn&quot;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-title function_">mPrompt</span>()<br>      .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">if</span> (res === incantations) &#123;<br>          <span class="hljs-variable language_">document</span><br>            .<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&quot;#door .doors&quot;</span>)[<span class="hljs-number">0</span>]<br>            .<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&quot;door-left&quot;</span>);<br>          <span class="hljs-variable language_">document</span><br>            .<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&quot;#door .doors&quot;</span>)[<span class="hljs-number">1</span>]<br>            .<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&quot;door-right&quot;</span>);<br>        &#125;<br>      &#125;)<br>      .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err);<br>      &#125;);<br>  &#125;);<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">mPrompt</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">res, rej</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;#confirm&#x27;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-keyword">let</span> input = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;.message-body input&quot;</span>).<span class="hljs-property">value</span>;<br>      <span class="hljs-title function_">res</span>(input);<br>      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;.modal&quot;</span>).<span class="hljs-title function_">remove</span>();<br>    &#125;)<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;#cancel&#x27;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-title function_">rej</span>(<span class="hljs-literal">false</span>);<br>      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;.modal&quot;</span>).<span class="hljs-title function_">remove</span>();<br>    &#125;)<br>  &#125;)<br>&#125;<br><br><br><br><span class="hljs-comment">// 原理：</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">myPromise</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">res, rej</span>) =&gt;</span> &#123;<br>        <span class="hljs-comment">// 处理处理</span><br>        <span class="hljs-comment">// 阿巴阿巴</span><br>        <span class="hljs-comment">// 处理成功：</span><br>        <span class="hljs-title function_">res</span>(a ba a ba);<span class="hljs-comment">//调用then中传入的函数</span><br>        <span class="hljs-comment">// 处理失败</span><br>        <span class="hljs-title function_">rej</span>(err); <span class="hljs-comment">//调用catch中传入的函数</span><br>    &#125;)<br>&#125;<br><br><span class="hljs-title function_">myPromise</span>()<br>    .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">a ba a ba</span>)=&gt;</span>&#123;<br>        <span class="hljs-comment">// 阿巴阿巴</span><br>        <span class="hljs-comment">// 这个就是res函数</span><br>    &#125;)<br>    .<span class="hljs-title function_">catch</span>(<span class="hljs-function">()=&gt;</span>&#123;<br><br>    &#125;);<br><span class="hljs-comment">// 或者：</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">a</span>(<span class="hljs-params"></span>)&#123;&#125;;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">b</span>(<span class="hljs-params"></span>)&#123;&#125;;<br><span class="hljs-title function_">myPromise</span>().<span class="hljs-title function_">then</span>(a).<span class="hljs-title function_">catch</span>(b);<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> fetchPromise = <span class="hljs-title function_">fetch</span>(<span class="hljs-string">&#x27;bad-scheme://mdn.github.io/learning-area/javascript/apis/fetching-data/can-store/products.json&#x27;</span>);<br><br>fetchPromise<br>  .<span class="hljs-title function_">then</span>( <span class="hljs-function"><span class="hljs-params">response</span> =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) &#123;<br>      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`HTTP 请求错误：<span class="hljs-subst">$&#123;response.status&#125;</span>`</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> response.<span class="hljs-title function_">json</span>();<br>  &#125;)<br>  .<span class="hljs-title function_">then</span>( <span class="hljs-function"><span class="hljs-params">json</span> =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(json[<span class="hljs-number">0</span>].<span class="hljs-property">name</span>);<br>  &#125;)<br>  .<span class="hljs-title function_">catch</span>( <span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`无法获取产品列表：<span class="hljs-subst">$&#123;error&#125;</span>`</span>);<br>  &#125;);<br></code></pre></td></tr></table></figure>

<p>Promise 对象的构造器（constructor）语法如下：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> promise = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">resolve, reject</span>) &#123;<br>  <span class="hljs-comment">// executor（生产者代码，“歌手”）</span><br>    <span class="hljs-title function_">resolve</span>(aaa)<br>&#125;);<br></code></pre></td></tr></table></figure>

<p>传递给 <code>new Promise</code> 的函数被称为 <strong>executor</strong>。当 <code>new Promise</code> 被创建，executor 会自动运行。</p>
<p>是成功还是失败，由写的代码决定：</p>
<ul>
<li>调用了<code>resolve</code>，就是成功</li>
<li>调用了<code>reject</code>，就是失败</li>
</ul>
<p><code>await promise</code>的返回值是<code>aaa</code></p>
<p><code>Promise</code> 的三种状态：</p>
<ul>
<li><strong>待定（pending）</strong>：初始状态，既没有被兑现，也没有被拒绝。这是调用 <code>fetch()</code> 返回 Promise 时的状态，此时请求还在进行中。</li>
<li><strong>已兑现（fulfilled）</strong>：意味着操作成功完成。当 Promise 完成时，它的 <code>then()</code> 处理函数被调用。</li>
<li><strong>已拒绝（rejected）</strong>：意味着操作失败。当一个 Promise 失败时，它的 <code>catch()</code> 处理函数被调用。</li>
<li><strong>已敲定（settled）</strong>:   这个词来同时表示 <strong>已兑现（fulfilled）</strong> 和 <strong>已拒绝（rejected）</strong> 两种情况。</li>
</ul>
<p><strong>promise传进去的函数会在遇到<code>.then</code>的时候执行</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 1. 创建Promise对象-模拟请求省份名字</span><br><span class="hljs-keyword">const</span> p = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-title function_">resolve</span>(<span class="hljs-string">&#x27;北京市&#x27;</span>)<br>    &#125;, <span class="hljs-number">2000</span>)<br>&#125;)<br><br><span class="hljs-comment">// 2. 获取省份名字</span><br><span class="hljs-keyword">const</span> p2 = p.<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result)<br>    <span class="hljs-comment">// 3. 创建Promise对象-模拟请求城市名字</span><br>    <span class="hljs-comment">// return Promise对象最终状态和结果，影响到新的Promise对象</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>        <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>            <span class="hljs-title function_">resolve</span>(result + <span class="hljs-string">&#x27;--- 北京&#x27;</span>)<br>        &#125;, <span class="hljs-number">2000</span>)<br>    &#125;)<br>&#125;)<br></code></pre></td></tr></table></figure>

<p>执行到第9行的时候才会打印出<code>北京市</code></p>
<h5 id="解决回调地狱1"><a href="#解决回调地狱1" class="headerlink" title="解决回调地狱1"></a>解决回调地狱1</h5><p>手动返回一个<code>Promise</code>对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 目标：把回调函数嵌套代码，改成Promise链式调用结构</span><br><span class="hljs-comment">     * 需求：获取默认第一个省，第一个市，第一个地区并展示在下拉菜单中</span><br><span class="hljs-comment">    */</span><br><span class="hljs-keyword">let</span> pname = <span class="hljs-string">&#x27;&#x27;</span><br><span class="hljs-comment">// 1. 得到-获取省份Promise对象</span><br><span class="hljs-title function_">axios</span>(&#123;<span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;http://hmajax.itheima.net/api/province&#x27;</span>&#125;).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> &#123;<br>    pname = result.<span class="hljs-property">data</span>.<span class="hljs-property">list</span>[<span class="hljs-number">0</span>]<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.province&#x27;</span>).<span class="hljs-property">innerHTML</span> = pname<br>    <span class="hljs-comment">// 2. 得到-获取城市Promise对象</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_">axios</span>(&#123;<span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;http://hmajax.itheima.net/api/city&#x27;</span>, <span class="hljs-attr">params</span>: &#123; pname &#125;&#125;)<br>&#125;).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> cname = result.<span class="hljs-property">data</span>.<span class="hljs-property">list</span>[<span class="hljs-number">0</span>]<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.city&#x27;</span>).<span class="hljs-property">innerHTML</span> = cname<br>    <span class="hljs-comment">// 3. 得到-获取地区Promise对象</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_">axios</span>(&#123;<span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;http://hmajax.itheima.net/api/area&#x27;</span>, <span class="hljs-attr">params</span>: &#123; pname, cname &#125;&#125;)<br>&#125;).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result)<br>    <span class="hljs-keyword">const</span> areaName = result.<span class="hljs-property">data</span>.<span class="hljs-property">list</span>[<span class="hljs-number">0</span>]<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.area&#x27;</span>).<span class="hljs-property">innerHTML</span> = areaName<br>&#125;)<br></code></pre></td></tr></table></figure>



<h5 id="Promise-all"><a href="#Promise-all" class="headerlink" title="Promise.all"></a>Promise.all</h5><p>合并多个Promise 对象，等待所有 同时成功 完成（或某一个失败），做后续逻辑</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 1. 请求城市天气，得到Promise对象</span><br><span class="hljs-keyword">const</span> bjPromise = <span class="hljs-title function_">axios</span>(&#123; <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;http://hmajax.itheima.net/api/weather&#x27;</span>, <span class="hljs-attr">params</span>: &#123; <span class="hljs-attr">city</span>: <span class="hljs-string">&#x27;110100&#x27;</span> &#125; &#125;)<br><span class="hljs-keyword">const</span> shPromise = <span class="hljs-title function_">axios</span>(&#123; <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;http://hmajax.itheima.net/api/weather&#x27;</span>, <span class="hljs-attr">params</span>: &#123; <span class="hljs-attr">city</span>: <span class="hljs-string">&#x27;310100&#x27;</span> &#125; &#125;)<br><span class="hljs-keyword">const</span> gzPromise = <span class="hljs-title function_">axios</span>(&#123; <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;http://hmajax.itheima.net/api/weather&#x27;</span>, <span class="hljs-attr">params</span>: &#123; <span class="hljs-attr">city</span>: <span class="hljs-string">&#x27;440100&#x27;</span> &#125; &#125;)<br><span class="hljs-keyword">const</span> szPromise = <span class="hljs-title function_">axios</span>(&#123; <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;http://hmajax.itheima.net/api/weather&#x27;</span>, <span class="hljs-attr">params</span>: &#123; <span class="hljs-attr">city</span>: <span class="hljs-string">&#x27;440300&#x27;</span> &#125; &#125;)<br><br><span class="hljs-comment">// 2. 使用Promise.all，合并多个Promise对象</span><br><span class="hljs-keyword">const</span> p = <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">all</span>([bjPromise, shPromise, gzPromise, szPromise])<br>p.<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> &#123;<br>    <span class="hljs-comment">// 注意：结果数组顺序和合并时顺序是一致</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result)<br>    <span class="hljs-keyword">const</span> htmlStr = result.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">`&lt;li&gt;<span class="hljs-subst">$&#123;item.data.data.area&#125;</span> --- <span class="hljs-subst">$&#123;item.data.data.weather&#125;</span>&lt;/li&gt;`</span><br>    &#125;).<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.my-ul&#x27;</span>).<span class="hljs-property">innerHTML</span> = htmlStr<br>&#125;).<span class="hljs-title function_">catch</span>(<span class="hljs-function"><span class="hljs-params">error</span> =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">dir</span>(error)<br>&#125;)<br></code></pre></td></tr></table></figure>













<h4 id="async-x2F-await"><a href="#async-x2F-await" class="headerlink" title="async &#x2F; await"></a>async &#x2F; await</h4><p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/async_function"><code>async</code></a> :</p>
<ul>
<li><blockquote>
<p>我们可以用 <code>async</code> 关键字将一个函数声明为异步函数。调用异步函数的时候，其会立刻返回并派遣一个异步</p>
<p><a target="_blank" rel="noopener" href="https://docs.net9.org/languages/javascript/async/#async-await">https://docs.net9.org/languages/javascript/async/#async-await</a></p>
</blockquote>
</li>
<li><p>提供了一种更简单的方法来处理基于异步 Promise 的代码。在一个函数的开头添加 <code>async</code>，就可以使其成为一个异步函数。</p>
</li>
<li><p>内部同步，外部异步</p>
</li>
<li><p>保留异步执行的情况下，不用考虑异步带来的编程困难，以同步的方式编写函数。缺点是以函数为个体</p>
</li>
<li><p>使用<code>try catch</code>进行错误捕获。<em>如果try里某行代码报错后，try中剩余的代码不会执行了</em></p>
</li>
</ul>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs csharp"><span class="hljs-function"><span class="hljs-keyword">async</span> function <span class="hljs-title">myFunction</span>()</span> &#123;<br>  <span class="hljs-comment">// 这是一个异步函数</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>例如：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchProducts</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">try</span> &#123;<br>    <span class="hljs-comment">// 在这一行之后，我们的函数将等待 `fetch()` 调用完成</span><br>    <span class="hljs-comment">// 调用 `fetch()` 将返回一个“响应”或抛出一个错误</span><br>    <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">&#x27;https://mdn.github.io/learning-area/javascript/apis/fetching-data/can-store/products.json&#x27;</span>);<br>    <span class="hljs-keyword">if</span> (!response.<span class="hljs-property">ok</span>) &#123;<br>      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Error</span>(<span class="hljs-string">`HTTP 请求错误：<span class="hljs-subst">$&#123;response.status&#125;</span>`</span>);<br>    &#125;<br>    <span class="hljs-comment">// 在这一行之后，我们的函数将等待 `response.json()` 的调用完成</span><br>    <span class="hljs-comment">// `response.json()` 调用将返回 JSON 对象或抛出一个错误</span><br>    <span class="hljs-keyword">const</span> json = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>();<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(json[<span class="hljs-number">0</span>].<span class="hljs-property">name</span>);<br>  &#125;<br>  <span class="hljs-keyword">catch</span>(error) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">`无法获取产品列表：<span class="hljs-subst">$&#123;error&#125;</span>`</span>);<br>  &#125;<br>&#125;<br><br><span class="hljs-title function_">fetchProducts</span>();<br></code></pre></td></tr></table></figure>

<p>在异步函数中，你可以在调用一个返回 Promise 的函数之前使用 <code>await</code> 关键字。</p>
<p>这使得代码在该点上等待，直到 Promise 被完成，</p>
<p>这时 Promise 的响应被当作返回值，或者被拒绝的响应被作为错误抛出。</p>
<p>这使你能够编写像同步代码一样的异步函数</p>
<p>就像一个 Promise 链一样，<code>await</code> 强制异步操作以串联的方式完成。如果下一个操作的结果取决于上一个操作的结果，这是必要的，但如果不是这样，像 <code>Promise.all()</code> 这样的操作会有更好的性能。</p>
<ul>
<li><p><code>await</code>: 它阻止 JavaScript 在解决 promise 之前将 <code>fetch</code> 赋值给 response 变量。一旦 promise 被解决，现在可以将 fetch 方法的结果分配给 response 变量。</p>
</li>
<li><blockquote>
<p><code>await</code> 关键字后面可以接一个变量，如果这个变量不是 <code>Promise</code> 对象，那么 <code>await</code> 关键字不产生任何效果。</p>
<p>如果是 <code>Promise</code> 对象，那么 <code>await</code> 关键字会阻塞代码运行，直到这个 <code>Promise</code> 对象代表的异步执行完毕。</p>
<p>如果异步成功，这个时候 <code>await</code> 语句的返回值是 <code>Promise</code> 的 <code>resolve</code> 回调接受的参数，无论有没有通过 <code>then</code> 方法指定 <code>resolve</code> 回调。</p>
<p>如果异步失败，首先确定这个 <code>Promise</code> 有没有通过 <code>catch</code> 方法规定 <code>reject</code> 回调。如果有，<code>await</code> 返回 <code>catch</code> 之中回调函数的返回值，如果没有，抛出 Uncaught Failure 错误。</p>
</blockquote>
</li>
</ul>
<h4 id="事件循环"><a href="#事件循环" class="headerlink" title="事件循环"></a>事件循环</h4><p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20240219195652706.png" srcset="/img/loading.gif" lazyload alt="image-20240219195652706"></p>
<ul>
<li>调用栈空时，执行任务队列中的代码</li>
</ul>
<p>宏任务微任务</p>
<p>ES6之后引入了 Promise 对象， 让 JS 引擎也可以发起异步任务<br>异步任务分为：</p>
<ul>
<li>宏任务：由 <strong>浏览器</strong> 环境执行的异步代码</li>
<li>微任务：由 <strong>JS 引擎</strong> 环境执行的异步代码</li>
</ul>
<p>优先调度微任务队列</p>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20240219200315765.png" srcset="/img/loading.gif" lazyload alt="image-20240219200315765"></p>
<p>例：</p>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20240219200823047.png" srcset="/img/loading.gif" lazyload alt="image-20240219200823047"></p>
<p>JavaScript内代码如何执行：</p>
<ol>
<li>执行第一个 script 脚本事件宏任务，里面 同步 代码</li>
<li>遇到宏任务 微任务 交给宿主环境，有结果回调函数进入对应队列</li>
<li>当执行栈空闲时，清空微任务队列，再执行下一个宏任务 ，从 1 再来</li>
</ol>
<h3 id="Web-API"><a href="#Web-API" class="headerlink" title="Web API"></a>Web API</h3><h4 id="基础API"><a href="#基础API" class="headerlink" title="基础API"></a>基础API</h4><ul>
<li><p>修改类</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> box = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.box&#x27;</span>)<br><br>box.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;active&#x27;</span>) <span class="hljs-comment">//添加</span><br>box.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">&#x27;box&#x27;</span>) <span class="hljs-comment">//删除</span><br>box.<span class="hljs-property">classList</span>.<span class="hljs-title function_">toggle</span>(<span class="hljs-string">&#x27;active&#x27;</span>) <span class="hljs-comment">//替换</span><br>box.<span class="hljs-property">classList</span>.<span class="hljs-title function_">contains</span>(<span class="hljs-string">&#x27;active&#x27;</span>) <span class="hljs-comment">//查询</span><br>box.<span class="hljs-property">className</span>=<span class="hljs-string">&quot;&quot;</span><br></code></pre></td></tr></table></figure>
</li>
<li><pre><code class="js">box.style.width
 可以当左值，也可以当右值
 需要用到驼峰格式
 只能操作内联的style
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><br>+ 自定义属性<br>  <br>  ```<span class="hljs-selector-tag">html</span><br>  &lt;<span class="hljs-selector-tag">div</span> data-id=<span class="hljs-string">&quot;1&quot;</span> data-spm=<span class="hljs-string">&quot;不知道&quot;</span>&gt;<span class="hljs-number">1</span>&lt;/div&gt;<br>  console<span class="hljs-selector-class">.log</span>(对象<span class="hljs-selector-class">.dataset</span>.id)<br>  console<span class="hljs-selector-class">.log</span>(对象<span class="hljs-selector-class">.dataset</span>.spm)<br>  对象<span class="hljs-selector-class">.dataset</span>()    <span class="hljs-comment">//自定义属性的集合</span><br></code></pre></td></tr></table></figure>
</code></pre>
</li>
<li><p>所有特性都可以通过使用以下方法进行访问（<a target="_blank" rel="noopener" href="https://zh.javascript.info/dom-attributes-and-properties%EF%BC%89%EF%BC%9A">https://zh.javascript.info/dom-attributes-and-properties）：</a></p>
<ul>
<li><code>elem.hasAttribute(name)</code> —— 检查特性是否存在。</li>
<li><code>elem.getAttribute(name)</code> —— 获取这个特性值。</li>
<li><code>elem.setAttribute(name, value)</code> —— 设置这个特性值。</li>
<li><code>elem.removeAttribute(name)</code> —— 移除这个特性。</li>
</ul>
</li>
<li><p>定时器-间歇函数</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> n = <span class="hljs-built_in">setInterval</span>(函数名，时间（毫秒）)        <span class="hljs-comment">//返回定时器的编号</span><br><span class="hljs-title function_">clearIntterval</span>(n)    <span class="hljs-comment">//关闭定时器</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>事件监听</p>
<ul>
<li>元素对象.addEventListener(‘事件类型’，要执行的函数)</li>
<li>解绑：元素对象.removeEventListener(事件类型，事件处理函数，【事件捕获或者冒泡阶段】)</li>
</ul>
</li>
<li><p>事件类型</p>
<ul>
<li>鼠标事件（鼠标触发）     ：click鼠标点击，mouseenter鼠标经过，mouseleave鼠标离开</li>
<li>焦点事件（表单获得光标）：focus获得焦点，blur失去焦点</li>
<li>键盘事件（键盘触发）   ：keydown键盘按下触发，keyuo键盘抬起触发</li>
<li>文本事件（表单输入触发）：input用户输入事件</li>
</ul>
</li>
<li><p>事件对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 添加</span><br>元素.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>)&#123;<br>    <span class="hljs-comment">//event即为事件对象</span><br>&#125;)<br><br><span class="hljs-comment">// 解绑</span><br>元素.<span class="hljs-title function_">removeEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, fn)<br><span class="hljs-comment">// 匿名函数无法解绑</span><br></code></pre></td></tr></table></figure>

<ul>
<li>事件对象的常用属性：</li>
<li><code>type</code>：获取当前的事件类型</li>
<li><code>cilentX/ cilentY</code>：获取光标相对于浏览器可见窗口左上角的位置</li>
<li><code>offsetX/ offsetY</code>：获取光标相对于当前DOM元素左上角的位置</li>
<li><code>key</code>：用户按下的前盘键的值</li>
<li><code>e.target.tagName</code>真正触发的元素</li>
<li><code>e.target.classList</code>可以获取事件的DOM对象</li>
</ul>
</li>
<li><p>特殊事件</p>
<ul>
<li><p><code>DOMContentLoaded</code>：HTML加载完成后触发，添加给<code>document</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;DOMContentLoaded&#x27;</span>, <span class="hljs-function">()=&gt;</span>&#123;&#125;)<br></code></pre></td></tr></table></figure>
</li>
<li><p><code>load</code>：外部资源（图片、外联CSS和JavaScript）加载完毕触发的事件，可用于所有元素，一般用于<code>windows</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">windows.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;load&#x27;</span>, <span class="hljs-function">()=&gt;</span>&#123;&#125;)<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><pre><code class="js">document.documentElement.scrollTo
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs markdown">  <br>  获取整个HTML对象<br>  <br><span class="hljs-bullet">  +</span> <span class="hljs-code">`scrollTop / scrollLeft`</span>获取/ 修改整个HTML页面被卷去的距离<br><br><span class="hljs-bullet">+</span> 滚动相关<br>  <br><span class="hljs-bullet">  +</span> <span class="hljs-code">`window.scrollX`</span><br><span class="hljs-bullet">  +</span> <span class="hljs-code">`window.scrollY`</span><br><span class="hljs-bullet">  +</span> <span class="hljs-code">`window.scrollTo(X, Y)`</span><br><br><span class="hljs-bullet">+</span> 函数对象<span class="hljs-code">`this`</span>：指向调用者<br><br><span class="hljs-bullet">+</span> 捕获和冒泡：默认<span class="hljs-code">`false`</span>，冒泡<br>  <br><span class="hljs-bullet">  +</span> 大→小：捕获<br><span class="hljs-bullet">  +</span> 小→大：冒泡<br><span class="hljs-bullet">  +</span> 阻止事件流动传播（冒泡+捕获）：<span class="hljs-code">`事件对象.stopPropagation()`</span><br><br><span class="hljs-bullet">+</span> 鼠标经过事件：<br>  <br><span class="hljs-bullet">  +</span> <span class="hljs-code">`mouseover`</span>和<span class="hljs-code">`mouseout`</span>会有冒泡效果<br><span class="hljs-bullet">  +</span> <span class="hljs-code">`mouseenter`</span>和<span class="hljs-code">`mouseleave`</span>没有冒泡效果（推荐）<br><br><span class="hljs-bullet">+</span> 点击返回页面顶部<br>  <br>  <span class="hljs-code">```js</span><br><span class="hljs-code">  const backTop = document.querySelector(&#x27;#backTop&#x27;)</span><br><span class="hljs-code">  backTop.addEventListener(&#x27;click&#x27;, function()&#123;</span><br><span class="hljs-code">      document.documentElement.scrollTop = 0</span><br><span class="hljs-code">      //document.documentElement 用于获取html内容</span><br><span class="hljs-code">  &#125;)</span><br></code></pre></td></tr></table></figure>
</code></pre>
</li>
<li><p>获取宽高：</p>
<ul>
<li>不包含padding&#x2F;border: <code>clientWidth</code>, <code>clientHeight</code></li>
<li>包含padding&#x2F;border: <code>offsetWidth</code>, <code>offsetHeight</code></li>
</ul>
</li>
<li><p>获取位置：</p>
<ul>
<li>元素距离自己定位父级元素的左、上距离: <code>offestLeft</code>, <code>offsetTop</code></li>
</ul>
</li>
<li><p>获取位置的另一种：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">element.<span class="hljs-title function_">getBoundingClientRect</span>()<br><span class="hljs-comment">// 返回元素的大小及其相对于视口的位置（x, y）</span><br></code></pre></td></tr></table></figure>

<img src="image-20230307140257332.png" srcset="/img/loading.gif" lazyload width=700px>
</li>
<li><p>日期对象</p>
<img src="image-20230307151030851.png" srcset="/img/loading.gif" lazyload width=450px />
</li>
<li><p>获取时间戳（从1970年到现在的毫秒数）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> date=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()<br>date.<span class="hljs-title function_">getTime</span>()<br><br>+<span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>()<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toLocalString</span>()<br></code></pre></td></tr></table></figure>
</li>
<li><p>内容：</p>
<ul>
<li><code>innerText</code>不修改子元素，不考虑隐藏元素</li>
<li><code>textContent</code>修改子元素，考虑隐藏元素，忽略HTML格式</li>
<li><code>innerHTML</code>以HTML形式解析</li>
</ul>
</li>
</ul>
<h4 id="节点操作"><a href="#节点操作" class="headerlink" title="节点操作"></a>节点操作</h4><ul>
<li><p>查找结点</p>
<ul>
<li><p>父节点，返回最近一级的父结点，找不到返回NULL：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">子元素.<span class="hljs-property">parentNode</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>子节点</p>
<ul>
<li><code>childNodes</code>:获得所有子节点、包括文本节点（空格、换行）、注释节点等</li>
<li><code>children</code>属性: 仅获得所有元素节点，返回一个伪数组</li>
</ul>
</li>
<li><p>兄弟节点</p>
<ul>
<li>下一个<code>previousElementSibling</code></li>
<li>上一个<code>nextElementSibling</code></li>
</ul>
</li>
</ul>
</li>
<li><p>创建节点</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;标签名&#x27;</span>)<br></code></pre></td></tr></table></figure>
</li>
<li><p>插入节点</p>
<ul>
<li><p>插入到这个父元素的最后</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">父元素.<span class="hljs-title function_">appendChild</span>(要插入的元素)<br></code></pre></td></tr></table></figure>
</li>
<li><p>插入到父元素的某个子元素之前</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">父元素.<span class="hljs-title function_">insertBefore</span>(要插入的元素，在哪个元素前面)<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>克隆节点</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js">元素.<span class="hljs-title function_">cloneNode</span>(布尔值)<br><span class="hljs-comment">// 布尔值决定是否克隆后代</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>删除结点</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">父元素.<span class="hljs-title function_">removeChild</span>(要删除的元素)<br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="windows对象"><a href="#windows对象" class="headerlink" title="windows对象"></a>windows对象</h4><p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230829105517225.png" srcset="/img/loading.gif" lazyload alt="image-20230829105517225"></p>
<h5 id="location对象"><a href="#location对象" class="headerlink" title="location对象"></a>location对象</h5><p>location 的数据类型是对象，它拆分并保存了 URL 地址的各个组成部分</p>
<p><strong>属性</strong>：</p>
<ul>
<li><code>location.href</code>指定当前页面链接，可读写</li>
<li><code>location.search</code>获取URL参数（<code>?</code>及其后面部分）</li>
<li><code>location.hash</code>获取URL参数（<code>#</code>及其后面部分）</li>
</ul>
<p>方法：</p>
<ul>
<li><code>location.load([true])</code>（ctrl + F5）（强制）刷新</li>
</ul>
<h5 id="navigator对象"><a href="#navigator对象" class="headerlink" title="navigator对象"></a>navigator对象</h5><p>记录了浏览器自身的相关信息</p>
<p>通过 userAgent 检测浏览器的版本及平台:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js">!(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br><span class="hljs-keyword">const</span> userAgent = navigator.<span class="hljs-property">userAgent</span><br><span class="hljs-comment">// 验证是否为Android或iPhone</span><br><span class="hljs-keyword">const</span> android = userAgent.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/(Android);?[\s\/]+([\d.]+)?/</span>)<br><span class="hljs-keyword">const</span> iphone = userAgent.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/(iPhone\sOS)\s([\d_]+)/</span>)<br><span class="hljs-comment">// 如果是Android或iPhone，则跳转至移动站点</span><br><span class="hljs-keyword">if</span> (android || iphone) &#123;<br>location.<span class="hljs-property">href</span> = <span class="hljs-string">&#x27;http://m.itcast.cn&#x27;</span><br>&#125;<br>&#125;)()<br></code></pre></td></tr></table></figure>

<h5 id="history对象"><a href="#history对象" class="headerlink" title="history对象"></a>history对象</h5><p>对象</p>
<ul>
<li><code>history.back()</code> 后退</li>
<li><code>history.forward()</code>前进</li>
<li><code>history.go(-1)</code>后退</li>
<li><code>history.go(1)</code>前进</li>
</ul>
<h5 id="localStorage对象"><a href="#localStorage对象" class="headerlink" title="localStorage对象"></a>localStorage对象</h5><p>手动清除才会消失</p>
<p>以键值对的形式把数据存储在本地，只能存储字符串，不能存储对象</p>
<ul>
<li><code>localStorage.setItem(key, value)</code></li>
<li><code>localStorage.getItem(key)</code></li>
<li><code>localStorage.removeItem(&#39;key&#39;)</code></li>
</ul>
<p>复杂数据类型存取：</p>
<ul>
<li><code>JSON.stringify(obj)</code>转换为字符串</li>
<li><code>JSON.parse(json)</code>转换为对象</li>
</ul>
<h5 id="sessionStorage"><a href="#sessionStorage" class="headerlink" title="sessionStorage"></a>sessionStorage</h5><ul>
<li>生命周期为关闭浏览器窗口，在同一个窗口下数据可以共享</li>
<li>以键值对形式存放，用法与<code>localStorage</code>基本相同</li>
</ul>
<h3 id="JS高阶"><a href="#JS高阶" class="headerlink" title="JS高阶"></a>JS高阶</h3><h4 id="深浅-x2F-拷贝"><a href="#深浅-x2F-拷贝" class="headerlink" title="深浅 &#x2F; 拷贝"></a>深浅 &#x2F; 拷贝</h4><ul>
<li>浅拷贝：复制地址</li>
<li>深拷贝：把值复制一份，拷贝值</li>
</ul>
<p>实现：</p>
<ul>
<li>数组：<code>concat</code>，合并两个数组；<code>...</code>运算符</li>
<li>对象：<code>Object.assign(dest, [src1, src2, src3...])</code>；<code>...</code>运算符 但只能深拷贝一层</li>
</ul>
<p>进一步：</p>
<ul>
<li><p>递归</p>
</li>
<li><p>lodash&#x2F;cloneDeep库</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> newObj = _.<span class="hljs-title function_">cloneDeep</span>(old);<br></code></pre></td></tr></table></figure>
</li>
<li><p>通过 JSON.stringify 实现</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> o= <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(obj));<br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="异常处理-1"><a href="#异常处理-1" class="headerlink" title="异常处理"></a>异常处理</h4><ol>
<li>try 试试 catch 拦住 finally 最后</li>
<li>try…catch 用于捕获错误信息</li>
<li>将预估可能发生错误的代码写在 try 代码段中</li>
<li>如果 try 代码段中出现错误后，会执行 catch 代码段，并截获到 错误信息</li>
<li>finally 不管是否有错误，都会执行</li>
<li><code>throw</code>会终止程序<ol>
<li><code>throw new Error(&quot;出错了！&quot;)</code></li>
<li><code>throw &quot;出错了&quot;</code></li>
</ol>
</li>
</ol>
<h4 id="this指向"><a href="#this指向" class="headerlink" title="this指向"></a>this指向</h4><p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831220810615.png" srcset="/img/loading.gif" lazyload alt="image-20230831220810615"></p>
<p>JavaScript<br>中还允许指定函数中 this 的指向，有 3 个方法可以动态指定普通函数中 this 的 指向</p>
<ul>
<li><p>call()</p>
</li>
<li><p>apply()</p>
</li>
<li><p>bind()</p>
</li>
</ul>
<ol>
<li><p>call()</p>
<p>call 方法调用函数，同时 指定被调用函数 中 this 的值</p>
<p>语法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">fun.<span class="hljs-title function_">call</span>(thisArg, arg1, arg2, ...)<br></code></pre></td></tr></table></figure>

<ul>
<li>fun.call(thisArg, arg1, arg2, …)</li>
<li>thisArg ：在 fun 函数 运行时指定 的 this 值</li>
<li>arg1 arg2 ：传递 的其他参数</li>
<li>返回 值就是函数的返回值，因为它就是调用 函数</li>
</ul>
</li>
<li><p>apply 方法调用函数，同时 指定被调用函数 中 this 的 值</p>
<p>语法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">fun.<span class="hljs-title function_">apply</span>(thisArg, [argsArray])<br></code></pre></td></tr></table></figure>

<ul>
<li>thisArg ：在 fun 函数运行时指定的 this 值</li>
<li>argsArray ：传递的值，必须包含在 数组 里面</li>
<li>返回 值就是函数的返回值，因为它就是调用 函数</li>
<li>因此 apply 主要跟数组有关系，比如使用 Math.max() 求数组的最大 值</li>
</ul>
</li>
<li><p>bind() 方法不会调用函数。但是能改变函数内部 this 指向<br>语法：</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">fun.<span class="hljs-title function_">bind</span>(thisArg, arg1, arg2, ...)<br></code></pre></td></tr></table></figure>

<ul>
<li>thisArg ：在 fun 函数运行时指定的 this 值</li>
<li>arg1 arg2 ：传递的其他参数</li>
<li>返回由指定的 this 值和初始化参数改造的 原函数拷贝 （新函数</li>
<li>因此当我们只是想改变 this 指向，并且不想调用这个函数的时候，可以使用 bind 比如改变定时器内部的this 指向</li>
</ul>
<h4 id="防抖-amp-节流"><a href="#防抖-amp-节流" class="headerlink" title="防抖&amp;节流"></a>防抖&amp;节流</h4><h5 id="防抖"><a href="#防抖" class="headerlink" title="防抖"></a>防抖</h5><ul>
<li>防抖：如果在 n 秒内又触发了事件，则会重新计算函数执行时间</li>
</ul>
<p>使用场景</p>
<ul>
<li>搜索框输入，设定每次输入完毕 n 秒后发送请求，如果期间还有输入，则重新计算时间</li>
</ul>
<p>实现：</p>
<ul>
<li><p><code>lodash库</code>：设置函数的最短执行间隔</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">box.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;mousemove&#x27;</span>, _.<span class="hljs-title function_">debounce</span>(mouseMove, <span class="hljs-number">500</span>))<br></code></pre></td></tr></table></figure>

<p>模拟：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 无论晃动多少次，只在最后一次触发</span><br><span class="hljs-comment">// 只是内层防抖了，外层仍然会高频率执行</span><br><span class="hljs-keyword">const</span> box = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;.box&quot;</span>);<br><span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"></span>) &#123;<br>    box.<span class="hljs-property">innerText</span> = i++;<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">debounce</span>(<span class="hljs-params">fn, time</span>) &#123;<br>    <span class="hljs-keyword">let</span> timer;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">if</span> (timer) <span class="hljs-built_in">clearTimeout</span>(timer);<br>        timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-title function_">fn</span>();<br>        &#125;, time);<br>    &#125;;<br>&#125;<br>box.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;mousemove&quot;</span>, <span class="hljs-title function_">debounce</span>(fn, <span class="hljs-number">500</span>));<br><span class="hljs-comment">// 事件触发的效果：执行debounce(fn, 50)()这个函数</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h5 id="节流"><a href="#节流" class="headerlink" title="节流"></a>节流</h5><p>概念：</p>
<ul>
<li>就是指连续触发事件但是在 n 秒中只执行一次函数。比如可以利用节流实现 1s 之内 只能触发一次鼠标移动 事件</li>
</ul>
<p>使用场景</p>
<ul>
<li>鼠标移动，页面尺寸发生变化，滚动条滚动等开销比较大的情况下</li>
</ul>
<p>实现：</p>
<ul>
<li><p>使用<code>lodash库</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">box.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;mousemove&#x27;</span>, _.<span class="hljs-title function_">throttle</span>(mouseMove, <span class="hljs-number">500</span>))<br></code></pre></td></tr></table></figure>
</li>
<li><p>模拟：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> box = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;.box&quot;</span>);<br><span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"></span>) &#123;<br>    box.<span class="hljs-property">innerText</span> = i++;<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">debounce</span>(<span class="hljs-params">fn, time</span>) &#123;<br>    <span class="hljs-keyword">let</span> timer=<span class="hljs-literal">null</span>;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">if</span> (!timer) &#123;<br>            timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>                <span class="hljs-title function_">fn</span>();<br>                timer=<span class="hljs-literal">null</span>;<br>            &#125;, time);<br>        &#125;<br>    &#125;;<br>&#125;<br>box.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;mousemove&quot;</span>, <span class="hljs-title function_">debounce</span>(fn, <span class="hljs-number">500</span>));<br></code></pre></td></tr></table></figure></li>
</ul>
<h5 id="记录播放位置案例"><a href="#记录播放位置案例" class="headerlink" title="记录播放位置案例"></a>记录播放位置案例</h5><p>相关KPI：</p>
<ul>
<li><p><code>ontimeupdate</code> 事件 在视频 音频（ audio&#x2F;video ）当前的播放位置发送改变时 触发</p>
<p>这个函数在音视频播放位置改变时触发，可以给他绑定函数。</p>
</li>
<li><p><code>onloadeddata</code> 事件在当前帧的数据加载完成且还没有足够的数据播放视频 音频（ audio&#x2F;video ）的下一帧时 触发</p>
</li>
<li><p><code>video.currentTime</code>：视频当前时间，可读可写</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> video = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;video&quot;</span>);<br>video.<span class="hljs-property">ontimeupdate</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">&quot;currentTime&quot;</span>, video.<span class="hljs-property">currentTime</span>);<br>&#125;;<br>video.<span class="hljs-property">onloadeddata</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    video.<span class="hljs-property">currentTime</span> = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&quot;currentTime&quot;</span>) || <span class="hljs-number">0</span>;<br>&#125;;<br></code></pre></td></tr></table></figure>

<h3 id="杂项"><a href="#杂项" class="headerlink" title="杂项"></a>杂项</h3><h4 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h4><table>
<thead>
<tr>
<th>方法</th>
<th>解释</th>
</tr>
</thead>
<tbody><tr>
<td><a target="_blank" rel="noopener" href="https://www.runoob.com/js/javascript-json-parse.html">JSON.parse()</a></td>
<td>用于将一个 JSON 字符串转换为 JavaScript 对象。</td>
</tr>
<tr>
<td><a target="_blank" rel="noopener" href="https://www.runoob.com/js/javascript-json-stringify.html">JSON.stringify()</a></td>
<td>用于将 JavaScript 值转换为 JSON 字符串。</td>
</tr>
</tbody></table>
<ul>
<li><code>JSON</code>的属性名必须加引号，对象的属性名不需要</li>
</ul>
<h4 id="Void"><a href="#Void" class="headerlink" title="Void"></a>Void</h4><p><strong>#</strong> 包含了一个位置信息，默认的锚是**#top** 也就是网页的上端。</p>
<p>而javascript:void(0), 仅仅表示一个死链接。</p>
<p>在页面很长的时候会使用 <strong>#</strong> 来定位页面的具体位置，格式为：**# + id**。</p>
<p>如果你要定义一个死链接请使用 javascript:void(0) 。</p>
<h4 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h4><p>构造：<code>/表达式/修饰符</code></p>
<ul>
<li><pre><code class="js">let re = /ab+c/;
<figure class="highlight autohotkey"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs autohotkey"><br>+ ```js<br>  let re = <span class="hljs-keyword">new</span> RegExp(<span class="hljs-string">&quot;ab+c&quot;</span>)<span class="hljs-comment">;</span><br></code></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
<p>转义字符：<code>\</code></p>
<p>特殊字符：</p>
<p>断言：表示一个匹配在某些条件下发生。断言包含先行断言、后行断言和条件表达式。</p>
<ul>
<li><code>x*</code> 前一项<code>x</code>出现零次或多次</li>
<li><code>^</code> 匹配输入的开始</li>
<li><code>$</code>匹配输入的结束</li>
<li><code>\b</code> 匹配单词边界</li>
<li><code>\B</code> 匹配非单词边界</li>
<li>先行断言：<code>x(?=y)</code>  x 被 y 跟随时匹配 x</li>
<li>先行否定断言：<code>x(?!y)</code>   x 没有被 y 紧随时匹配 x</li>
<li>后行断言：<code>(?&lt;=y)x</code>  x 跟随 y 的情况下匹配 x</li>
<li>后行否定断言：<code>(?&lt;!y)x</code>   x 不跟随 y 时匹配 x</li>
</ul>
<p>字符类：区分不同类型的字符，例如区分字母和数字。 </p>
<ul>
<li><code>[xyz][a-c]</code>: 匹配包含在方括号中的任何字符。可以使用连字符指定字符范围</li>
<li><code>[^xyz][^a-c]</code>: 一个否定或补充的字符类。也就是说，它匹配未包含在方括号中的任何字符</li>
<li><code>.</code>: 匹配<strong>除行终止符之外的任何单个字符</strong>：<code>\n</code>, <code>\r</code>, <code>\u2028</code> or <code>\u2029</code>. 例如，<code>/.y/</code> 在“yes make my day”中匹配“my”和“ay”，而不是“yes”。 </li>
<li><code>\d</code>: 数字   相当于 <code>[0-9]</code></li>
<li><code>\D</code>: 非数   相当于<code>[^0-9]</code></li>
<li><code>\w</code>:  字母 数字 下划线   相当于 <code>[A-Za-z0-9_]</code></li>
<li><code>\W</code>: 非<code>\w</code></li>
<li><code>\s</code>: 单个空白字符，包括空格、制表符、换页符、换行符和其他 Unicode 空格。相当于 <code>[\f\n\r\t\v\u0020\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]</code></li>
<li><code>\S</code></li>
</ul>
<p>组和范围：表示表达式字符的分组和范围。</p>
<ul>
<li><code>(x)</code>:  <strong>捕获组：</strong>匹配 x 并记住匹配项。例如，&#x2F;(foo)&#x2F;匹配并记住“foo bar”中的“foo”</li>
<li><code>(?:x)</code>:  仅分组，不记住 </li>
<li><code>\n</code>:  其中 n 是一个正整数。对正则表达式中与 n 括号匹配的最后一个子字符串的反向引用 (计算左括号)</li>
</ul>
<p>量词：表示匹配的字符或表达式的数量</p>
<ul>
<li><code>x+</code>:  <code>x</code>出现一次或多次</li>
<li><code>x?</code>:  <code>x</code>出现一次或零次</li>
<li><code>x&#123;n&#125;</code>:  <code>x</code>出现n次</li>
<li><code>x&#123;n,&#125;</code>:  <code>x</code>至少出现n次</li>
<li><code>x&#123;n,m&#125;</code>:  <code>x</code>出现n~m次</li>
</ul>
<blockquote>
<p>默认情况下，像 <code>* </code>和 <code>+ </code>这样的量词是“贪婪的”，这意味着它们试图匹配尽可能多的字符串。?量词后面的字符使量词“非贪婪”：意思是它一旦找到匹配就会停止。例如，给定一个字符串“some <foo> <bar> new </bar> </foo> thing”:</p>
<ul>
<li><code>/&lt;.*&gt;/</code> will match “<foo> <bar> new </bar> </foo>“</li>
<li><code>/&lt;.*?&gt;/</code> will match “<foo>“</li>
</ul>
</blockquote>
<p>修饰符：</p>
<ul>
<li>i    使用此修饰符后，搜索时不区分大小写：<code>A</code> 和 <code>a</code> 之间没有区别（请参见下面的示例）。</li>
<li>g    使用此修饰符后，搜索时会寻找所有的匹配项 —— 没有它，则仅返回第一个匹配项。</li>
<li>m   多行模式（详见 <a target="_blank" rel="noopener" href="https://zh.javascript.info/regexp-multiline-mode">锚点 ^ $ 的多行模式，修饰符 “m”</a>）。</li>
<li>s   启用 “dotall” 模式，允许点 <code>.</code> 匹配换行符 <code>\n</code>（在 <a target="_blank" rel="noopener" href="https://zh.javascript.info/regexp-character-classes">字符类</a> 中有详细介绍）。</li>
<li>u   开启完整的 Unicode 支持。该修饰符能够正确处理代理对。详见 <a target="_blank" rel="noopener" href="https://zh.javascript.info/regexp-unicode">Unicode：修饰符 “u” 和类 \p{…}</a>。</li>
<li>y   粘滞模式，在文本中的确切位置搜索（详见 <a target="_blank" rel="noopener" href="https://zh.javascript.info/regexp-sticky">粘性修饰符 “y”，在位置处搜索</a>）</li>
</ul>
<p>方法：</p>
<ul>
<li><p>搜索：<code>str.match(regexp)</code> 方法在字符串 <code>str</code> 中寻找 <code>regexp</code> 的匹配项。</p>
<ul>
<li>搜索不到时返回<code>null</code></li>
<li>搜索全部还是贪婪，取决于参数</li>
</ul>
</li>
<li><p>替换：<code>str.replace(regexp, replacement)</code> 方法使用 <code>replacement</code> 替换在字符串 <code>str</code> 中找到的 <code>regexp</code> 的匹配项： </p>
<p>（如果带有修饰符 <code>g</code> 则替换所有匹配项，否则只替换第一个）。</p>
<p>第二个参数是字符串 <code>replacement</code>。我们可以在其中使用特殊的字符组合来对匹配项进行插入：</p>
<table>
<thead>
<tr>
<th align="left">符号</th>
<th align="left">在替换字符串中的行为</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>$&amp;</code></td>
<td align="left">插入整个匹配项</td>
</tr>
<tr>
<td align="left"><code>$</code></td>
<td align="left">插入字符串中匹配项之前的字符串部分</td>
</tr>
<tr>
<td align="left"><code>$&#39;</code></td>
<td align="left">插入字符串中匹配项之后的字符串部分</td>
</tr>
<tr>
<td align="left"><code>$n</code></td>
<td align="left">如果 <code>n</code> 是一个 1-2 位的数字，则插入第 n 个分组的内容，详见 <a target="_blank" rel="noopener" href="https://zh.javascript.info/regexp-groups">捕获组</a></td>
</tr>
<tr>
<td align="left"><code>$&lt;name&gt;</code></td>
<td align="left">插入带有给定 <code>name</code> 的括号内的内容，详见 <a target="_blank" rel="noopener" href="https://zh.javascript.info/regexp-groups">捕获组</a></td>
</tr>
<tr>
<td align="left"><code>$$</code></td>
<td align="left">插入字符 <code>$</code></td>
</tr>
</tbody></table>
</li>
<li><p>测试:  <code>regexp.test(str)</code> 方法寻找至少一个匹配项，如果找到了，则返回 <code>true</code>，否则返回 <code>false</code>。</p>
</li>
<li><p>检索：<code>regObj.exec(被检测字符串)</code></p>
<p>成功：返回一个匹配信息的数组；失败：返回null\</p>
</li>
</ul>
<p>例：</p>
<ul>
<li><code>number.replace(/(\d&#123;3&#125;)\d&#123;4&#125;(\d&#123;4&#125;)/, &#39;\$1****\$2&#39;)</code>手机号中间四位置为<code>*</code></li>
<li></li>
</ul>
<h4 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h4><p>来源：<a target="_blank" rel="noopener" href="https://es6.ruanyifeng.com/#docs/module">https://es6.ruanyifeng.com/#docs/module</a></p>
<ul>
<li><code>export</code>:   规定模块的对外接口</li>
<li><code>import</code>:   输入 其他模块提供的功能</li>
</ul>
<h5 id="export"><a href="#export" class="headerlink" title="export"></a>export</h5><p>别名</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span>&#123;<br>  原名<span class="hljs-number">1</span> <span class="hljs-keyword">as</span> 别名<span class="hljs-number">1</span>,<br>  原名<span class="hljs-number">2</span> <span class="hljs-keyword">as</span> 别名<span class="hljs-number">2</span>,<br>  原名<span class="hljs-number">2</span> <span class="hljs-keyword">as</span> 别名<span class="hljs-number">3</span>,<br>&#125;<br><span class="hljs-comment">// 一个原名可以有多个别名</span><br></code></pre></td></tr></table></figure>

<p>提供接口而不是值：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> m = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">export</span> m; <span class="hljs-comment">// 报错</span><br></code></pre></td></tr></table></figure>

<p>没有提供对外接口</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">let</span> m = <span class="hljs-number">1</span>;<br><br><span class="hljs-keyword">let</span> m = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">export</span> &#123;m&#125;;<br><br><span class="hljs-keyword">let</span> n = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">export</span> &#123;n <span class="hljs-keyword">as</span> m&#125;; <span class="hljs-comment">// 正确</span><br></code></pre></td></tr></table></figure>

<p>在接口名与模块内部变量之间，建立了一一对应的关系</p>
<p><strong><code>export</code>输出的接口，与对应的值是动态绑定的关系</strong></p>
<h5 id="import"><a href="#import" class="headerlink" title="import"></a>import</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;接口名&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;其他模块&#x27;</span><br></code></pre></td></tr></table></figure>

<p>接口名必须与其他被导入模块的对外接口名相同</p>
<p>接口的值不允许更改，只读</p>
<p>整体加载</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> circle <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./circle&#x27;</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(circle.<span class="hljs-title function_">area</span>(<span class="hljs-number">4</span>));<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(circle.<span class="hljs-title function_">circumference</span>(<span class="hljs-number">4</span>));<br></code></pre></td></tr></table></figure>

<h5 id="export-default"><a href="#export-default" class="headerlink" title="export default"></a>export default</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">area</span>(<span class="hljs-params"></span>)&#123;&#125;<br><span class="hljs-comment">// 相当于</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span>=<span class="hljs-keyword">function</span> <span class="hljs-title function_">area</span>(<span class="hljs-params"></span>)&#123;&#125;<br><br><span class="hljs-keyword">import</span> anyName <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;area&#x27;</span>;<br></code></pre></td></tr></table></figure>

<ul>
<li>不需要大括号</li>
<li>不用和输出一致</li>
</ul>
<p>正是因为<code>export default</code>命令其实只是输出一个叫做<code>default</code>的变量，所以它后面不能跟变量声明语句。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 正确</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>;<br><br><span class="hljs-comment">// 正确</span><br><span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> a;<br><br><span class="hljs-comment">// 错误</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">var</span> a = <span class="hljs-number">1</span>;<br></code></pre></td></tr></table></figure>

<p>上面代码中，<code>export default a</code>的含义是将变量<code>a</code>的值赋给变量<code>default</code>。所以，最后一种写法会报错。</p>
<p>同样地，因为<code>export default</code>命令的本质是将后面的值，赋给<code>default</code>变量，所以可以直接将一个值写在<code>export default</code>之后。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// 正确</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-number">42</span>;<br><br><span class="hljs-comment">// 报错</span><br><span class="hljs-keyword">export</span> <span class="hljs-number">42</span>;<br></code></pre></td></tr></table></figure>

<h5 id="export-与-import-的复合写法"><a href="#export-与-import-的复合写法" class="headerlink" title="export 与 import 的复合写法"></a>export 与 import 的复合写法</h5><p>如果在一个模块之中，先输入后输出同一个模块，<code>import</code>语句可以与<code>export</code>语句写在一起。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">export</span> &#123; foo, bar &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;my_module&#x27;</span>;<br><br><span class="hljs-comment">// 可以简单理解为</span><br><span class="hljs-keyword">import</span> &#123; foo, bar &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;my_module&#x27;</span>;<br><span class="hljs-keyword">export</span> &#123; foo, bar &#125;;<br></code></pre></td></tr></table></figure>

<h4 id="垃圾回收"><a href="#垃圾回收" class="headerlink" title="垃圾回收"></a>垃圾回收</h4><ol>
<li><p>引用计数法</p>
<ul>
<li>思想：如果<strong>内存不再使用</strong>，则清除</li>
<li>实现：看一个对象是否有指向它的引用，没有引用了就回收对象</li>
<li>弊端：嵌套引用</li>
</ul>
</li>
<li><p>标志清除法</p>
<ul>
<li><p>思想：将“不再使用的对象”定义为“<strong>无法达到的对象</strong>”</p>
</li>
<li><p>实现：就是从根部（在JS中就是全局对象）出发定时扫描内存中的对象。 凡是能从根部到达的对象，都是还需要使用的。</p>
<p>那些无法由根部出发触及到的对象被标记为不再使用，稍后进行回收。</p>
</li>
<li></li>
</ul>
</li>
</ol>
<h4 id="解构赋值"><a href="#解构赋值" class="headerlink" title="解构赋值"></a>解构赋值</h4><ol>
<li><p>数组解构</p>
<ul>
<li>将数组的单元值快速批量赋值给一系列变量的简洁语法</li>
<li><strong>以位置为准</strong></li>
<li><code>[a, b] = [b, a]</code></li>
<li>可以设置默认值  <code>[a, b, c=1] = [2,3]</code>，当右边为<code>undefined</code>时生效</li>
<li>按需导入，忽略一些值：<code>[a, , b, c] = [1, 000000, 2, 3]</code></li>
</ul>
</li>
<li><p>对象解构</p>
<ul>
<li><p>重命名：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> user = &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;小明&#x27;</span>,<br>    <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,<br>&#125;;<br><span class="hljs-keyword">const</span> &#123; <span class="hljs-attr">name</span>: uname, age &#125; = user;<br>uname <span class="hljs-comment">// 小明</span><br>age <span class="hljs-comment">// 18</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><strong>以相同的属性名和变量名为准</strong></p>
</li>
</ul>
</li>
</ol>
<h3 id="TypeScript"><a href="#TypeScript" class="headerlink" title="TypeScript"></a>TypeScript</h3><p>字节青训营</p>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831183236989.png" srcset="/img/loading.gif" lazyload alt="image-20230831183236989"></p>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831183253211.png" srcset="/img/loading.gif" lazyload alt="image-20230831183253211"></p>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831183303120.png" srcset="/img/loading.gif" lazyload alt="image-20230831183303120"></p>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831183311357.png" srcset="/img/loading.gif" lazyload alt="image-20230831183311357"></p>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831183320826.png" srcset="/img/loading.gif" lazyload alt="image-20230831183320826"></p>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831183328638.png" srcset="/img/loading.gif" lazyload alt="image-20230831183328638"></p>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831183336920.png" srcset="/img/loading.gif" lazyload alt="image-20230831183336920"></p>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831183344145.png" srcset="/img/loading.gif" lazyload alt="image-20230831183344145"></p>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831183352555.png" srcset="/img/loading.gif" lazyload alt="image-20230831183352555"></p>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831183359786.png" srcset="/img/loading.gif" lazyload alt="image-20230831183359786"></p>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831183407122.png" srcset="/img/loading.gif" lazyload alt="image-20230831183407122"></p>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831183415117.png" srcset="/img/loading.gif" lazyload alt="image-20230831183415117"></p>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230831183425045.png" srcset="/img/loading.gif" lazyload alt="image-20230831183425045"></p>
<h3 id="jQuery"><a href="#jQuery" class="headerlink" title="jQuery"></a>jQuery</h3><p>来自：<a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/1022910821149312/1023022609723552">https://www.liaoxuefeng.com/wiki/1022910821149312/1023022609723552</a></p>
<h4 id="基础语法-1"><a href="#基础语法-1" class="headerlink" title="基础语法"></a>基础语法</h4><p>选择：</p>
<ul>
<li><code>$(&#39;选择器&#39;)</code></li>
<li>返回对象数组</li>
<li>使用<code>$(&#39;选择器&#39;).find(&#39;选择器&#39;)</code>进行双层查找</li>
</ul>
<ol>
<li><p>选择器：使用 <code>$</code> 符号和括号可以选择 <code>HTML</code> 元素，例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript">$(<span class="hljs-variable language_">document</span>) <span class="hljs-comment">// 选择整个文档对象</span><br>$(<span class="hljs-string">&#x27;#myId&#x27;</span>) <span class="hljs-comment">// 选择 id=&quot;myId&quot; 的元素</span><br>$(<span class="hljs-string">&#x27;.myClass&#x27;</span>) <span class="hljs-comment">// 选择 class=&quot;myClass&quot; 的元素</span><br>$(<span class="hljs-string">&#x27;input[type=text]&#x27;</span>) <span class="hljs-comment">// 选择所有 type=&quot;text&quot; 的 input 元素</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>事件：使用 <code>on()</code> 函数来为元素绑定事件处理程序，例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs javascript">$(<span class="hljs-string">&#x27;#myButton&#x27;</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;Button clicked!&#x27;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure>
</li>
<li><p>操作元素：使用 <code>jQuery</code> 提供的函数可以对 <code>HTML</code> 元素进行操作，例如：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs javascript">$(<span class="hljs-string">&#x27;#myDiv&#x27;</span>).<span class="hljs-title function_">html</span>(<span class="hljs-string">&#x27;Hello world!&#x27;</span>); <span class="hljs-comment">// 修改元素内容</span><br>$(<span class="hljs-string">&#x27;#myInput&#x27;</span>).<span class="hljs-title function_">val</span>(<span class="hljs-string">&#x27;default value&#x27;</span>); <span class="hljs-comment">// 设置 input 元素的默认值</span><br>$(<span class="hljs-string">&#x27;#myImage&#x27;</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;src&#x27;</span>, <span class="hljs-string">&#x27;newimage.jpg&#x27;</span>); <span class="hljs-comment">// 修改元素属性</span><br>$(<span class="hljs-string">&#x27;#myDiv&#x27;</span>).<span class="hljs-title function_">hide</span>(); <span class="hljs-comment">// 隐藏元素</span><br></code></pre></td></tr></table></figure></li>
</ol>
<h4 id="操作DOM"><a href="#操作DOM" class="headerlink" title="操作DOM"></a>操作DOM</h4><ul>
<li><p>jQuery对象的<code>text()</code>和<code>html()</code>方法分别获取节点的文本和原始HTML文本</p>
</li>
<li><p>一个jQuery对象可以包含0个或任意个DOM对象，它的方法实际上会作用在对应的每个DOM节点上。所以jQuery对象的另一个好处是我们可以执行一个操作，作用在对应的一组DOM节点上。即jQuery对象有&#x3D;&#x3D;“批量操作”&#x3D;&#x3D;的特点</p>
</li>
<li><p>jQuery对象有<code>css(&#39;name&#39;, &#39;value&#39;)</code>方法，并且所有jQuery对象的方法的返回值都为jQuery对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> div = $(<span class="hljs-string">&#x27;#test-div&#x27;</span>);<br>div.<span class="hljs-title function_">css</span>(<span class="hljs-string">&#x27;color&#x27;</span>); <span class="hljs-comment">// &#x27;#000033&#x27;, 获取CSS属性</span><br>div.<span class="hljs-title function_">css</span>(<span class="hljs-string">&#x27;color&#x27;</span>, <span class="hljs-string">&#x27;#336699&#x27;</span>); <span class="hljs-comment">// 设置CSS属性</span><br>div.<span class="hljs-title function_">css</span>(<span class="hljs-string">&#x27;color&#x27;</span>, <span class="hljs-string">&#x27;&#x27;</span>); <span class="hljs-comment">// 清除CSS属性</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>修改class：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> div = $(<span class="hljs-string">&#x27;#test-div&#x27;</span>);<br>div.<span class="hljs-title function_">hasClass</span>(<span class="hljs-string">&#x27;highlight&#x27;</span>); <span class="hljs-comment">// false， class是否包含highlight</span><br>div.<span class="hljs-title function_">addClass</span>(<span class="hljs-string">&#x27;highlight&#x27;</span>); <span class="hljs-comment">// 添加highlight这个class</span><br>div.<span class="hljs-title function_">removeClass</span>(<span class="hljs-string">&#x27;highlight&#x27;</span>); <span class="hljs-comment">// 删除highlight这个class</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>隐藏和显示DOM</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> a = $(<span class="hljs-string">&#x27;a[target=_blank]&#x27;</span>);<br>a.<span class="hljs-title function_">hide</span>(time); <span class="hljs-comment">// 隐藏, time ms内逐渐消失</span><br>a.<span class="hljs-title function_">show</span>(); <span class="hljs-comment">// 显示</span><br>a.<span class="hljs-title function_">toggle</span>() <span class="hljs-comment">//方法则根据当前状态决定是show()还是hide()</span><br><br><span class="hljs-title function_">slideUp</span>()和<span class="hljs-title function_">slideDown</span>()则是在垂直方向逐渐展开或收缩的,<span class="hljs-title function_">slideToggle</span>()则根据元素是否可见来决定下一步动作<br><span class="hljs-title function_">fadeIn</span>()和<span class="hljs-title function_">fadeOut</span>()的动画效果是淡入淡出, <span class="hljs-title function_">fadeToggle</span>()则根据元素是否可见来决定下一步动作<br></code></pre></td></tr></table></figure>
</li>
<li><p><code>attr()</code>和<code>removeAttr()</code>方法用于操作DOM节点的属性：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// &lt;div id=&quot;test-div&quot; name=&quot;Test&quot; start=&quot;1&quot;&gt;...&lt;/div&gt;</span><br><span class="hljs-keyword">var</span> div = $(<span class="hljs-string">&#x27;#test-div&#x27;</span>);<br>div.<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;data&#x27;</span>); <span class="hljs-comment">// undefined, 属性不存在</span><br>div.<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;name&#x27;</span>); <span class="hljs-comment">// &#x27;Test&#x27;</span><br>div.<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;name&#x27;</span>, <span class="hljs-string">&#x27;Hello&#x27;</span>); <span class="hljs-comment">// div的name属性变为&#x27;Hello&#x27;</span><br>div.<span class="hljs-title function_">removeAttr</span>(<span class="hljs-string">&#x27;name&#x27;</span>); <span class="hljs-comment">// 删除name属性</span><br></code></pre></td></tr></table></figure>
</li>
<li><p><code>attr()</code>和<code>prop()</code>对于属性<code>checked</code>处理有所不同:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> radio = $(<span class="hljs-string">&#x27;#test-radio&#x27;</span>);<br>radio.<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;checked&#x27;</span>); <span class="hljs-comment">// &#x27;checked&#x27;</span><br>radio.<span class="hljs-title function_">prop</span>(<span class="hljs-string">&#x27;checked&#x27;</span>); <span class="hljs-comment">// true</span><br>radio.<span class="hljs-title function_">is</span>(<span class="hljs-string">&#x27;:checked&#x27;</span>); <span class="hljs-comment">// true</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>对于表单元素，jQuery对象统一提供<code>val()</code>方法获取和设置对应的<code>value</code>属性,一个<code>val()</code>就统一了各种输入框的取值和赋值的问题</p>
</li>
</ul>
<h4 id="修改DOM结构"><a href="#修改DOM结构" class="headerlink" title="修改DOM结构"></a>修改DOM结构</h4><ul>
<li><p>使用<code>append()</code>方法为DOM对象添加元素</p>
</li>
<li><p>除了接受字符串，<code>append()</code>还可以传入原始的DOM对象，jQuery对象和函数对象：</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js">$(<span class="hljs-string">&#x27;#id&#x27;</span>).<span class="hljs-title function_">text</span>(<span class="hljs-string">&#x27;阿巴阿巴&#x27;</span>)<br><br><span class="hljs-comment">// 创建DOM对象:</span><br><span class="hljs-keyword">var</span> ps = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;li&#x27;</span>);<br>ps.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">&#x27;&lt;span&gt;Pascal&lt;/span&gt;&#x27;</span>;<br>更改元素内部文本 .<span class="hljs-title function_">text</span>(<span class="hljs-string">&quot;文本内容&quot;</span>)<br>替换元素内部内容 .<span class="hljs-title function_">html</span>(<span class="hljs-string">&quot;&lt;标签&gt;内容&lt;标签/&gt;&quot;</span>)<br><span class="hljs-comment">// 添加DOM对象:</span><br>ul.<span class="hljs-title function_">append</span>(ps);<br><br><span class="hljs-comment">// 添加jQuery对象:</span><br>ul.<span class="hljs-title function_">append</span>($(<span class="hljs-string">&#x27;#scheme&#x27;</span>));<br><br><span class="hljs-comment">// 添加函数对象:</span><br>ul.<span class="hljs-title function_">append</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">index, html</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;&lt;li&gt;&lt;span&gt;Language - &#x27;</span> + index + <span class="hljs-string">&#x27;&lt;/span&gt;&lt;/li&gt;&#x27;</span>;<br>&#125;);<br></code></pre></td></tr></table></figure>

<ul>
<li><p><code>append()</code>把DOM添加到最后，<code>prepend()</code>则把DOM添加到最前。</p>
</li>
<li><p>同级节点可以用<code>after()</code>或者<code>before()</code>方法。</p>
</li>
</ul>
<h4 id="事件-1"><a href="#事件-1" class="headerlink" title="事件"></a>事件</h4><ul>
<li><p><code>on</code>方法用来绑定一个事件，我们需要传入事件名称和对应的处理函数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> a = $(<span class="hljs-string">&#x27;#test-link&#x27;</span>);<br>a.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;Hello!&#x27;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure>
</li>
<li><p>另一种更简化的写法是直接调用<code>click()</code>方法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">a.<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;Hello!&#x27;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure>
</li>
<li><p>一个已被绑定的事件可以解除绑定，通过<code>off(&#39;click&#39;, function)</code>实现：</p>
<p>为了实现移除效果，可以使用<code>off(&#39;click&#39;)</code>一次性移除已绑定的<code>click</code>事件的所有处理函数。</p>
<p>同理，无参数调用<code>off()</code>一次性移除已绑定的所有类型的事件处理函数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 绑定事件:</span><br>a.<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;hello!&#x27;</span>);<br>&#125;);<br><br><span class="hljs-comment">// 解除绑定:</span><br>a.<span class="hljs-title function_">off</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;hello!&#x27;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="动画-1"><a href="#动画-1" class="headerlink" title="动画"></a>动画</h4><p>基本</p>
<ul>
<li>hide(), show(), toggle()</li>
<li>slideUp(), slideDown(), slideToggle()</li>
<li>fadeIn(), fadeOut(), fadeToggle()</li>
</ul>
<p>自定义动画</p>
<ul>
<li><p>animate ( DOM元素最终的状态，时间，[动画结束时被调用的函数] )</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> div = $(<span class="hljs-string">&#x27;#test-animate&#x27;</span>);<br>div.<span class="hljs-title function_">animate</span>(&#123;<br>    <span class="hljs-attr">opacity</span>: <span class="hljs-number">0.25</span>,<br>    <span class="hljs-attr">width</span>: <span class="hljs-string">&#x27;256px&#x27;</span>,<br>    <span class="hljs-attr">height</span>: <span class="hljs-string">&#x27;256px&#x27;</span><br>&#125;, <span class="hljs-number">3000</span>); <span class="hljs-comment">// 在3秒钟内CSS过渡到设定值</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h2 id="Node-js"><a href="#Node-js" class="headerlink" title="Node.js"></a>Node.js</h2><h3 id="命令行"><a href="#命令行" class="headerlink" title="命令行"></a>命令行</h3><p><a target="_blank" rel="noopener" href="https://xiaoman.blog.csdn.net/article/details/132038424">https://xiaoman.blog.csdn.net/article/details/132038424</a></p>
<p>初始化：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">npm init -y<br></code></pre></td></tr></table></figure>

<p>会生成一个<code>package.json</code>文件夹，<code>-y</code>表示参数使用默认值</p>
<p>运行scripts中的命令：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">npm run &lt;命令&gt;<br></code></pre></td></tr></table></figure>



<p>安装、卸载包：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs sh">npm i  <span class="hljs-comment"># 安装package.json中记录的包</span><br>npm i vue@2.6.0<br>npm uni vue<br></code></pre></td></tr></table></figure>

<p>开发时用到的依赖（如webpack）在devDependencies中</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs sh">npm i 包名 --save-dev<br>npm i 包名 -D<br></code></pre></td></tr></table></figure>

<p>查看npm配置</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">npm config list<br></code></pre></td></tr></table></figure>

<p>配置镜像：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">npm config <span class="hljs-built_in">set</span> registry https://registry.npmmirror.com/<br></code></pre></td></tr></table></figure>

<p>查看当前目录安装的包：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">npm list<br></code></pre></td></tr></table></figure>

<p>查看全局安装的包：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">npm list -g<br></code></pre></td></tr></table></figure>



<h3 id="nvm-pnpm-cnpm-yarn"><a href="#nvm-pnpm-cnpm-yarn" class="headerlink" title="nvm pnpm cnpm yarn"></a>nvm pnpm cnpm yarn</h3><ul>
<li><p><code>nvm</code>：node版本管理工具</p>
</li>
<li><p><code>pnpm</code>：更精简</p>
</li>
<li><p><code>cnpm</code>：淘宝出品，适合国内</p>
</li>
<li><p><code>yarn</code>：facebook出品</p>
</li>
</ul>
<p>配置镜像：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">npm config <span class="hljs-built_in">set</span> registry https://registry.npmmirror.com<br></code></pre></td></tr></table></figure>

<p>把<code>npm</code>改成<code>yarn</code>就可以配置<code>yarn</code>的镜像源</p>
<p><code>nvm</code></p>
<ul>
<li><code>nvm list</code>：查看已安装的node的版本</li>
<li><code>nvm install 20.0.0</code> 安装node.js</li>
<li><code>nvm use 20.0.0</code>：使用这个版本的nodejs。仅在当前终端有效</li>
</ul>
<h3 id="模块化"><a href="#模块化" class="headerlink" title="模块化"></a>模块化</h3><p>模块化规范遵循两套，一套<code>CommonJS</code>规范，另一套<code>esm</code>规范</p>
<h4 id="CommonJS"><a href="#CommonJS" class="headerlink" title="CommonJS"></a>CommonJS</h4><p>node的默认规则</p>
<p><code>package.json</code>中添加：</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;commonjs&quot;</span><span class="hljs-punctuation">,</span><br></code></pre></td></tr></table></figure>

<p>引入模块（require）支持四种格式</p>
<ul>
<li>支持引入内置模块例如 http os fs child_process 等nodejs内置模块</li>
<li>支持引入第三方模块express md5 koa 等</li>
<li>支持引入自己编写的模块 .&#x2F; …&#x2F; 等</li>
<li>支持引入addon C++扩展模块 .node文件</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;node:fs&#x27;</span>);  <span class="hljs-comment">// 导入核心模块</span><br><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;express&#x27;</span>);  <span class="hljs-comment">// 导入 node_modules 目录下的模块</span><br><span class="hljs-keyword">const</span> myModule = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./myModule.js&#x27;</span>);  <span class="hljs-comment">// 导入相对路径下的模块</span><br><span class="hljs-keyword">const</span> nodeModule = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;./myModule.node&#x27;</span>);  <span class="hljs-comment">// 导入扩展模块</span><br></code></pre></td></tr></table></figure>

<p>导出模块exports 和 module.exports</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  <span class="hljs-attr">hello</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Hello, world!&#x27;</span>);<br>  &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>

<p>如果不想导出对象直接导出值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-number">123</span><br></code></pre></td></tr></table></figure>



<h4 id="esm"><a href="#esm" class="headerlink" title="esm"></a>esm</h4><p><a herf="##JavaScript">更多</a></p>
<p><code>package.json</code>中添加</p>
<figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs json"><span class="hljs-attr">&quot;type&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;module&quot;</span><br></code></pre></td></tr></table></figure>



<p>导入：</p>
<ul>
<li>引入模块 <code>import</code> 必须写在头部</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> all <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./esm export.js&quot;</span><br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(all)<br></code></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs yaml">[<span class="hljs-attr">Module:</span> <span class="hljs-literal">null</span> <span class="hljs-string">prototype</span>] &#123;<br>  <span class="hljs-attr">default:</span> &#123; <span class="hljs-attr">success:</span> <span class="hljs-number">1</span>, <span class="hljs-attr">error:</span> <span class="hljs-number">0</span> &#125;,<br>  <span class="hljs-attr">fn:</span> [<span class="hljs-attr">Function:</span> <span class="hljs-string">fn</span>],<br>  <span class="hljs-attr">name:</span> <span class="hljs-string">&#x27;111&#x27;</span><br>&#125;<br></code></pre></td></tr></table></figure>





<ul>
<li>动态导入模块：import静态加载不支持掺杂在逻辑中。如果想动态加载请，使用import函数模式</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">if</span>(<span class="hljs-literal">true</span>)&#123;<br>    <span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;./test.js&#x27;</span>).<span class="hljs-title function_">then</span>()<br>&#125;<br></code></pre></td></tr></table></figure>











<p>导出</p>
<ul>
<li>导出一个默认对象，default只能有一个，不可重复export default</li>
<li>导出定义而不是值</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;test&#x27;</span>,<br>&#125;<br></code></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> name = <span class="hljs-string">&quot;1&quot;</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fn</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-keyword">return</span> <span class="hljs-number">111</span> &#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> baseURL = <span class="hljs-string">&#x27;http://hmajax.itheima.net&#x27;</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> <span class="hljs-title function_">getArraySum</span> = arr =&gt; arr.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">sum, item</span>) =&gt;</span> sum += item, <span class="hljs-number">0</span>)<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>    <span class="hljs-attr">success</span>: <span class="hljs-number">1</span>,<br>    <span class="hljs-attr">error</span>: <span class="hljs-number">0</span><br>&#125;<br></code></pre></td></tr></table></figure>







<p>Cjs 和 ESM 的区别</p>
<ul>
<li>Cjs是基于运行时的同步加载，esm是基于编译时的异步加载</li>
<li>Cjs是可以修改值的，esm值并且不可修改（可读的）</li>
<li>Cjs不可以tree shaking，esm支持tree shaking</li>
<li>commonjs中顶层的this指向这个模块本身，而ES6中顶层this指向undefined</li>
</ul>
<h3 id="服务端"><a href="#服务端" class="headerlink" title="服务端"></a>服务端</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;http&#x27;</span>);<br><span class="hljs-keyword">var</span> app = http.<span class="hljs-title function_">createServer</span>();<br>app.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;request&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>    res.<span class="hljs-title function_">end</span>(<span class="hljs-string">&#x27;hello world&#x27;</span>)<br>&#125;);<br>app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">8080</span>)<br></code></pre></td></tr></table></figure>

<h3 id="fs"><a href="#fs" class="headerlink" title="fs"></a>fs</h3><p><code>fs.readFile(path[, option], callback)</code>读取指定文件中的内容，异步</p>
<ol>
<li>path	必选参数，字符串，文件路径</li>
<li>option	可选参数，设置字符集</li>
<li>callback	必选参数，文件读取完成后的回调函数</li>
</ol>
<ul>
<li>‘a’: 打开文件进行追加。 如果文件不存在，则创建该文件。</li>
<li>‘ax’: 类似于 ‘a’ 但如果路径存在则失败。</li>
<li>‘a+’: 打开文件进行读取和追加。 如果文件不存在，则创建该文件。</li>
<li>‘ax+’: 类似于 ‘a+’ 但如果路径存在则失败。</li>
<li>‘as’: 以同步模式打开文件进行追加。 如果文件不存在，则创建该文件。</li>
<li>‘as+’: 以同步模式打开文件进行读取和追加。 如果文件不存在，则创建该文件。</li>
<li>‘r’: 打开文件进行读取。 如果文件不存在，则会发生异常。</li>
<li>‘r+’: 打开文件进行读写。 如果文件不存在，则会发生异常。</li>
<li>‘rs+’: 以同步模式打开文件进行读写。 指示操作系统绕过本地文件系统缓存。</li>
<li><code>&#39;w&#39;</code>: 打开文件进行写入。 创建（如果它不存在）或截断（如果它存在）该文件。</li>
<li><code>&#39;wx&#39;</code>: 类似于 <code>&#39;w&#39;</code> 但如果路径存在则失败。</li>
<li><code>&#39;w+&#39;</code>: 打开文件进行读写。 创建（如果它不存在）或截断（如果它存在）该文件。</li>
<li><code>&#39;wx+&#39;</code>: 类似于 <code>&#39;w+&#39;</code> 但如果路径存在则失败。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 1. 导入 fs 模块，来操作文件</span><br><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;fs&#x27;</span>)<br><br><span class="hljs-comment">// 2. 调用 fs.readFile() 方法读取文件</span><br><span class="hljs-comment">//    参数1：读取文件的存放路径</span><br><span class="hljs-comment">//    参数2：读取文件时候采用的编码格式，一般默认指定 utf8</span><br><span class="hljs-comment">//    参数3：回调函数，拿到读取失败和成功的结果  err  dataStr</span><br>fs.<span class="hljs-title function_">readFile</span>(<span class="hljs-string">&#x27;./files/1.txt&#x27;</span>, <span class="hljs-string">&#x27;utf8&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">err, dataStr</span>) &#123;<br>  <br>  <span class="hljs-comment">// 2.1 打印失败的结果</span><br>  <span class="hljs-comment">// 如果读取成功，则 err 的值为 null</span><br>  <span class="hljs-comment">// 如果读取失败，则 err 的值为 错误对象，dataStr 的值为 undefined</span><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err)<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;-------&#x27;</span>)<br>  <br>  <span class="hljs-comment">// 2.2 打印成功的结果</span><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(dataStr)<br>&#125;)<br><br>fs.<span class="hljs-title function_">readFile</span>(<span class="hljs-string">&#x27;./files/11.txt&#x27;</span>, <span class="hljs-string">&#x27;utf8&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">err, dataStr</span>) &#123;<br>  <span class="hljs-keyword">if</span> (err) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;读取文件失败！&#x27;</span> + err.<span class="hljs-property">message</span>)<br>  &#125;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;读取文件成功！&#x27;</span> + dataStr)<br>&#125;)<br></code></pre></td></tr></table></figure>

<p><code>fs.writeFile(path, data[, option], callback)</code>向指定的文件中写入内容</p>
<ul>
<li>path	必选参数，字符串，文件路径</li>
<li>data	必选参数，写入的内容</li>
<li>option	可选参数，设置字符集，默认值是 utf8</li>
<li>callback	必选参数，文件写入完成后的回调函数</li>
<li>注意：写入会覆盖原内容</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;fs&#x27;</span>)<br><br><span class="hljs-comment">// 2. 调用 fs.writeFile() 方法，写入文件的内容</span><br><span class="hljs-comment">//    参数1：表示文件的存放路径</span><br><span class="hljs-comment">//    参数2：表示要写入的内容</span><br><span class="hljs-comment">//    参数3：回调函数</span><br>fs.<span class="hljs-title function_">writeFile</span>(<span class="hljs-string">&#x27;./files/3.txt&#x27;</span>, <span class="hljs-string">&#x27;ok123&#x27;</span>, <span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>) &#123;<br>  <span class="hljs-comment">// 2.1 如果文件写入成功，则 err 的值等于 null</span><br>  <span class="hljs-comment">// 2.2 如果文件写入失败，则 err 的值等于一个 错误对象</span><br>  <span class="hljs-comment">// console.log(err)</span><br><br>  <span class="hljs-keyword">if</span> (err) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;文件写入失败！&#x27;</span> + err.<span class="hljs-property">message</span>)<br>  &#125;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;文件写入成功！&#x27;</span>)<br>&#125;)<br></code></pre></td></tr></table></figure>

<h3 id="http"><a href="#http" class="headerlink" title="http"></a>http</h3><p><strong>参考蓝桥杯模拟赛一第八题</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 1. 导入 http 模块</span><br><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;http&quot;</span>);<br><br><span class="hljs-comment">// 2. 创建 web 服务器实例</span><br><span class="hljs-keyword">const</span> server = http.<span class="hljs-title function_">createServer</span>();<br><br><span class="hljs-comment">// 3. 为服务器实例绑定 request 事件，监听客户端的请求</span><br>server.<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;request&quot;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>    <span class="hljs-comment">// 定义一个字符串，包含中文的内容</span><br>    <span class="hljs-comment">// req.url 是客户端请求的 URL 地址</span><br>    <span class="hljs-comment">// req.method 是客户端请求的 method 类型</span><br>  <span class="hljs-keyword">const</span> str = <span class="hljs-string">`您请求的 URL 地址是 <span class="hljs-subst">$&#123;req.url&#125;</span>，请求的 method 类型为 <span class="hljs-subst">$&#123;req.method&#125;</span>`</span>;<br><br>  <span class="hljs-comment">// 调用 res.setHeader() 方法，设置 Content-Type 响应头，解决中文乱码的问题</span><br>  res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">&quot;Content-Type&quot;</span>, <span class="hljs-string">&quot;text/html; charset=utf-8&quot;</span>);<br><br>  <span class="hljs-comment">// res.end() 将内容响应给客户端</span><br>  res.<span class="hljs-title function_">end</span>(str);<br>&#125;);<br><br><span class="hljs-comment">// 4. 启动服务器</span><br>server.<span class="hljs-title function_">listen</span>(<span class="hljs-number">8080</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;  <br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;server running at http://127.0.0.1:8080&#x27;</span>)<br>&#125;)<br></code></pre></td></tr></table></figure>

<ul>
<li><code>http.createServer() </code>:  就能方便的把一台普通的电脑，变成一台 Web 服务器，从而对外提供 Web 资源服务</li>
<li><code>server.on(&quot;request&quot;, (req, res)=&gt;&#123;&#125;)</code>：为服务器绑定<code>request</code>事件，监听客户端的请求 <ul>
<li><code>req</code>其他事件：</li>
<li><code>data</code>：当接收到请求体的一部分数据时触发。</li>
<li><code>end</code>：当接收到所有请求体数据时触发。<ul>
<li>当接受完全部数据后，我们就可以开始构建响应<code>response</code>了</li>
<li><code>res.write(xx.html)</code>可以把数据写回，而写这个函数可以多次调用，写回多次</li>
<li><code>res.end([xxx])</code>这里也可以写，然后会结束响应</li>
</ul>
</li>
<li><code>close</code>：当底层连接（socket）被关闭时触发。</li>
<li><code>error</code>：当接收和解析请求时出现错误时触发。</li>
<li><code>aborted</code>：当请求被客户端中止时触发。</li>
</ul>
</li>
<li><code>serve.listen(8080, ()=&gt;&#123;&#125;)</code>：</li>
</ul>
<p>服务端</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;http&quot;</span>)<br><span class="hljs-keyword">const</span> url = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;node:url&#x27;</span>)<br><br><span class="hljs-keyword">let</span> server = http.<span class="hljs-title function_">createServer</span>(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> &#123; pathname, query &#125; = url.<span class="hljs-title function_">parse</span>(req.<span class="hljs-property">url</span>, <span class="hljs-literal">true</span>)<br>    <span class="hljs-keyword">if</span> (req.<span class="hljs-property">method</span> === <span class="hljs-string">&quot;POST&quot;</span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(pathname);<br>        <span class="hljs-keyword">if</span> (pathname === <span class="hljs-string">&#x27;/login&#x27;</span>) &#123;<br>            <span class="hljs-keyword">let</span> data = <span class="hljs-string">&quot;&quot;</span><br>            req.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;data&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">chunk</span>) =&gt;</span> &#123;<br>                data+=chunk<br>            &#125;)<br>            req.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;end&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>                res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">&#x27;content-type&#x27;</span>, <span class="hljs-string">&quot;application/json&quot;</span>)<br>                res.<span class="hljs-property">statusCode</span> = <span class="hljs-number">200</span><br>                res.<span class="hljs-title function_">end</span>(data)<br>            &#125;)<br>            <br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            res.<span class="hljs-property">statusCode</span> = <span class="hljs-number">404</span><br>            res.<span class="hljs-title function_">end</span>(<span class="hljs-string">&#x27;404&#x27;</span>)<br>        &#125;<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (req.<span class="hljs-property">method</span> === <span class="hljs-string">&quot;GET&quot;</span>) &#123;<br>        <span class="hljs-keyword">if</span> (pathname === <span class="hljs-string">&quot;/api/list&quot;</span>) &#123;<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(query);<br>            res.<span class="hljs-title function_">end</span>(<span class="hljs-string">&#x27;get&#x27;</span>)<br>        &#125; <span class="hljs-keyword">else</span>&#123;<br>            res.<span class="hljs-property">statusCode</span> = <span class="hljs-number">404</span><br>            res.<span class="hljs-title function_">end</span>(<span class="hljs-string">&#x27;404&#x27;</span>)<br>        &#125;<br>    &#125;<br>&#125;)<br><br>server.<span class="hljs-title function_">listen</span>(<span class="hljs-number">98</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;server is running&#x27;</span>);<br>&#125;)<br></code></pre></td></tr></table></figure>

<p>请求端（使用cost cilent插件）：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable constant_">GET</span> <span class="hljs-attr">http</span>:<span class="hljs-comment">//localhost:98/api/listx?page=1&amp;num=10 HTTP/1.1</span><br><br><br><br># <span class="hljs-variable constant_">POST</span> <span class="hljs-attr">http</span>:<span class="hljs-comment">//localhost:98/login HTTP/1.1</span><br><br># <span class="hljs-title class_">Content</span>-<span class="hljs-title class_">Type</span>: application/json<br><br># &#123;<br>#     <span class="hljs-string">&quot;name&quot;</span>:<span class="hljs-string">&quot;小满zs&quot;</span><br># &#125;<br></code></pre></td></tr></table></figure>





<p>解析请求</p>
<p>在 Node.js 的 HTTP 模块中，请求参数通常通过两种方式传递：查询字符串（query string）和请求体（request body）。处理这两种参数的方式略有不同。</p>
<ol>
<li>查询字符串参数：这些参数通常附加在 URL 的末尾，以 <code>?</code> 开始，参数之间以 <code>&amp;</code> 分隔。例如，在 URL <code>http://example.com/?name=Alice&amp;age=25</code> 中，<code>name</code> 和 <code>age</code> 就是查询字符串参数。在 Node.js 中，你可以使用内置的 <code>url</code> 模块来解析这些参数：</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;http&#x27;</span>);<br><span class="hljs-keyword">const</span> url = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;url&#x27;</span>);<br><br><span class="hljs-keyword">const</span> server = http.<span class="hljs-title function_">createServer</span>(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">const</span> queryParameters = url.<span class="hljs-title function_">parse</span>(req.<span class="hljs-property">url</span>, <span class="hljs-literal">true</span>).<span class="hljs-property">query</span>;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(queryParameters);  <span class="hljs-comment">// 输出：&#123; name: &#x27;Alice&#x27;, age: &#x27;25&#x27; &#125;</span><br>&#125;);<br><br>server.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>);<br></code></pre></td></tr></table></figure>

<ol start="2">
<li>请求体参数：这些参数通常在 POST 或 PUT 请求中发送，包含在请求体中。在 Node.js 中，你需要手动读取和解析请求体。如果请求体是 JSON 格式的，你可以使用 <code>JSON.parse()</code> 函数来解析它：</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;http&#x27;</span>);<br><br><span class="hljs-keyword">const</span> server = http.<span class="hljs-title function_">createServer</span>(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>  <span class="hljs-keyword">let</span> body = <span class="hljs-string">&#x27;&#x27;</span>;<br>  req.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;data&#x27;</span>, <span class="hljs-function"><span class="hljs-params">chunk</span> =&gt;</span> &#123;<br>    body += chunk.<span class="hljs-title function_">toString</span>(); <span class="hljs-comment">// 将请求体数据转为字符串</span><br>  &#125;);<br>  req.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;end&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> requestBody = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(body); <span class="hljs-comment">// 解析 JSON 格式的请求体</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(requestBody); <span class="hljs-comment">// 输出：&#123; name: &#x27;Alice&#x27;, age: 25 &#125;</span><br>  &#125;);<br>&#125;);<br><br>server.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>);<br></code></pre></td></tr></table></figure>

<p>注意，以上代码只处理了 JSON 格式的请求体。如果请求体是其他格式（例如 URL 编码的表单数据），你需要使用其他方法来解析。</p>
<p>另外，这些只是基本的处理方式。在实际开发中，你可能会使用 Express 这样的框架，它提供了更方便的方法来处理请求参数。</p>
<p>实例：<br>根据不同的 url 响应不同的 html 内容</p>
<ol>
<li><p>获取请求的 url地址</p>
</li>
<li><p>设置默认的响应内容为 404 Not found</p>
</li>
<li><p>判断用户请求的是否为 &#x2F; 或 &#x2F;index.html 首页</p>
</li>
<li><p>判断用户请求的是否为 &#x2F;about.html 关于页面</p>
</li>
<li><p>设置 Content-Type 响应头，防止中文乱码</p>
</li>
<li><p>使用 res.end() 把内容响应给客户端</p>
</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;http&#x27;</span>)<br><span class="hljs-keyword">const</span> server = http.<span class="hljs-title function_">createServer</span>()<br><br>server.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;request&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>  <span class="hljs-comment">// 1. 获取请求的 url 地址</span><br>  <span class="hljs-keyword">const</span> url = req.<span class="hljs-property">url</span><br>  <br>  <span class="hljs-comment">// 2. 设置默认的响应内容为 404 Not found</span><br>  <span class="hljs-keyword">let</span> content = <span class="hljs-string">&#x27;&lt;h1&gt;404 Not found!&lt;/h1&gt;&#x27;</span><br>  <br>  <span class="hljs-comment">// 3. 判断用户请求的是否为 / 或 /index.html 首页</span><br>  <span class="hljs-comment">// 4. 判断用户请求的是否为 /about.html 关于页面</span><br>  <span class="hljs-keyword">if</span> (url === <span class="hljs-string">&#x27;/&#x27;</span> || url === <span class="hljs-string">&#x27;/index.html&#x27;</span>) &#123;<br>    content = <span class="hljs-string">&#x27;&lt;h1&gt;首页&lt;/h1&gt;&#x27;</span><br>  &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (url === <span class="hljs-string">&#x27;/about.html&#x27;</span>) &#123;<br>    content = <span class="hljs-string">&#x27;&lt;h1&gt;关于页面&lt;/h1&gt;&#x27;</span><br>  &#125;<br>  <br>  <span class="hljs-comment">// 5. 设置 Content-Type 响应头，防止中文乱码</span><br>  res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">&#x27;Content-Type&#x27;</span>, <span class="hljs-string">&#x27;text/html; charset=utf-8&#x27;</span>)<br>  <br>  <span class="hljs-comment">// 6. 使用 res.end() 把内容响应给客户端</span><br>  res.<span class="hljs-title function_">end</span>(content)<br>&#125;)<br><br>server.<span class="hljs-title function_">listen</span>(<span class="hljs-number">80</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;server running at http://127.0.0.1&#x27;</span>)<br>&#125;)<br></code></pre></td></tr></table></figure>



<h3 id="express"><a href="#express" class="headerlink" title="express"></a>express</h3><p>服务端：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;express&#x27;</span>)<br><br><span class="hljs-keyword">let</span> app = <span class="hljs-title function_">express</span>()<br><br><span class="hljs-comment">// post想要使用req.body，需要这个中间件</span><br>app.<span class="hljs-title function_">use</span>(express.<span class="hljs-title function_">json</span>())<br><br><span class="hljs-comment">// get的参数在req.query</span><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/get&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(req.<span class="hljs-property">query</span>);<br>    res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;get&#x27;</span>)<br>&#125;)<br><br><span class="hljs-comment">// 监听/post上的post请求</span><br><span class="hljs-comment">// 动态参数：加冒号</span><br><span class="hljs-comment">// post的参数在req.body中</span><br>app.<span class="hljs-title function_">post</span>(<span class="hljs-string">&#x27;/post/:id&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(req.<span class="hljs-property">body</span>);<br>    res.<span class="hljs-title function_">send</span>(<span class="hljs-string">`post<span class="hljs-subst">$&#123;req.params.id&#125;</span>`</span>)<br>&#125;)<br><br>app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">98</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;server is running in 98&quot;</span>);<br>&#125;)<br></code></pre></td></tr></table></figure>

<p>请求（注意空行也要相同）：</p>
<figure class="highlight http"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs http"># GET http://localhost:98/get?page=1&amp;num=10 HTTP/1.1<br><br><span class="hljs-keyword">POST</span> <span class="hljs-string">http://localhost:98/post/996</span> <span class="hljs-meta">HTTP/1.1</span><br><span class="hljs-attribute">Content-Type</span><span class="hljs-punctuation">: </span>application/json<br><br><span class="language-json"><span class="hljs-punctuation">&#123;</span></span><br><span class="language-json">    <span class="hljs-attr">&quot;name&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-string">&quot;zs&quot;</span><span class="hljs-punctuation">,</span></span><br><span class="language-json">    <span class="hljs-attr">&quot;age&quot;</span><span class="hljs-punctuation">:</span><span class="hljs-number">18</span></span><br><span class="language-json"><span class="hljs-punctuation">&#125;</span></span><br></code></pre></td></tr></table></figure>



<h4 id="模块化-1"><a href="#模块化-1" class="headerlink" title="模块化"></a>模块化</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> express <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;express&#x27;</span><br><br><span class="hljs-keyword">const</span> router = express.<span class="hljs-title class_">Router</span>() <span class="hljs-comment">//路由模块</span><br><br><br>router.<span class="hljs-title function_">post</span>(<span class="hljs-string">&#x27;/login&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>    res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;login&#x27;</span>)<br>&#125;)<br><br>router.<span class="hljs-title function_">post</span>(<span class="hljs-string">&#x27;/register&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>    res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;register&#x27;</span>)<br>&#125;)<br><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router<br></code></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> express <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;express&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">User</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./src/user.js&#x27;</span><br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>()<br>app.<span class="hljs-title function_">use</span>(express.<span class="hljs-title function_">json</span>())<br>app.<span class="hljs-title function_">use</span>(<span class="hljs-string">&#x27;/user&#x27;</span>, <span class="hljs-title class_">User</span>)<br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(req.<span class="hljs-property">query</span>)<br>    res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;get&#x27;</span>)<br>&#125;)<br><br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/:id&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(req.<span class="hljs-property">params</span>)<br>    res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;get id&#x27;</span>)<br>&#125;)<br><br>app.<span class="hljs-title function_">post</span>(<span class="hljs-string">&#x27;/create&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(req.<span class="hljs-property">body</span>)<br>    res.<span class="hljs-title function_">send</span>(<span class="hljs-string">&#x27;post&#x27;</span>)<br>&#125;)<br><br><br>app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>, <span class="hljs-function">() =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;Listening on port 3000&#x27;</span>))<br></code></pre></td></tr></table></figure>

<h4 id="中间件"><a href="#中间件" class="headerlink" title="中间件"></a>中间件</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> log4js <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;log4js&#x27;</span>;<br><br><span class="hljs-comment">// 配置 log4js</span><br>log4js.<span class="hljs-title function_">configure</span>(&#123;<br>  <span class="hljs-attr">appenders</span>: &#123;<br>    <span class="hljs-attr">out</span>: &#123;<br>      <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;stdout&#x27;</span>, <span class="hljs-comment">// 输出到控制台</span><br>      <span class="hljs-attr">layout</span>: &#123;<br>        <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;colored&#x27;</span> <span class="hljs-comment">// 使用带颜色的布局</span><br>      &#125;<br>    &#125;,<br>    <span class="hljs-attr">file</span>: &#123;<br>      <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;file&#x27;</span>, <span class="hljs-comment">// 输出到文件</span><br>      <span class="hljs-attr">filename</span>: <span class="hljs-string">&#x27;./logs/server.log&#x27;</span>, <span class="hljs-comment">// 指定日志文件路径和名称</span><br>    &#125;<br>  &#125;,<br>  <span class="hljs-attr">categories</span>: &#123;<br>    <span class="hljs-attr">default</span>: &#123;<br>      <span class="hljs-attr">appenders</span>: [<span class="hljs-string">&#x27;out&#x27;</span>, <span class="hljs-string">&#x27;file&#x27;</span>], <span class="hljs-comment">// 使用 out 和 file 输出器</span><br>      <span class="hljs-attr">level</span>: <span class="hljs-string">&#x27;debug&#x27;</span> <span class="hljs-comment">// 设置日志级别为 debug</span><br>    &#125;<br>  &#125;<br>&#125;);<br><br><span class="hljs-comment">// 获取 logger</span><br><span class="hljs-keyword">const</span> logger = log4js.<span class="hljs-title function_">getLogger</span>(<span class="hljs-string">&#x27;default&#x27;</span>);<br><br><span class="hljs-comment">// 日志中间件</span><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">loggerMiddleware</span> = (<span class="hljs-params">req, res, next</span>) =&gt; &#123;<br>  logger.<span class="hljs-title function_">debug</span>(<span class="hljs-string">`<span class="hljs-subst">$&#123;req.method&#125;</span> <span class="hljs-subst">$&#123;req.url&#125;</span>`</span>); <span class="hljs-comment">// 记录请求方法和URL</span><br>  <span class="hljs-title function_">next</span>();<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> loggerMiddleware;<br></code></pre></td></tr></table></figure>



<p>使用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> express <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;express&#x27;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">User</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./src/user.js&#x27;</span><br><span class="hljs-keyword">import</span> loggerMiddleware <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./middleware/logger.js&#x27;</span>;<br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>()<br>app.<span class="hljs-title function_">use</span>(loggerMiddleware)<br></code></pre></td></tr></table></figure>

















<h2 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h2><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">wget https://labfile.oss.aliyuncs.com/courses/1262/vue.min.js<br></code></pre></td></tr></table></figure>

<h3 id="工程化"><a href="#工程化" class="headerlink" title="工程化"></a>工程化</h3><h4 id="计算、侦听与过滤器、生命周期钩子"><a href="#计算、侦听与过滤器、生命周期钩子" class="headerlink" title="计算、侦听与过滤器、生命周期钩子"></a>计算、侦听与过滤器、生命周期钩子</h4><ul>
<li>计算属性</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>我名字正着写：&#123;&#123;name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- reverseName 计算属性  可以像绑定普通属性一样在模板中绑定计算属性--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>计算出我名字倒着写：&#123;&#123;reverseName&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">            <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">                <span class="hljs-attr">goodsList</span>: &#123;,</span><br><span class="language-javascript">                <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;实验楼&quot;</span>,</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-attr">computed</span>: &#123;</span><br><span class="language-javascript">                <span class="hljs-comment">// reverseName 是一个计算属性</span></span><br><span class="language-javascript">                <span class="hljs-attr">reverseName</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;&quot;</span>).<span class="hljs-title function_">reverse</span>().<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot;&quot;</span>);</span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-comment">// 一个只在内面挂载完毕，才开始执行的函数</span></span><br><span class="language-javascript">            <span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">                axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;goodsList.json&#x27;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">val</span> =&gt;</span> &#123;</span><br><span class="language-javascript">                <span class="hljs-variable language_">this</span>.<span class="hljs-property">goodsList</span> = val.<span class="hljs-property">data</span>;</span><br><span class="language-javascript">            &#125;)</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>生命周期函数是在特定时间点执行的函数，其中<code>this</code>的指向为<code>vm</code>或<code>组件</code></p>
<p>当你的计算属性的依赖数据发生改变时，你的相关计算属性也会重新计算</p>
<p>set与get: 给<code>this.计算属性</code>赋值会自动调用<code>计算属性.set</code></p>
<p><code>set:</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>firstName:&#123;&#123;firstName&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>lastName:&#123;&#123;lastName&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>全名是:&#123;&#123;fullName&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">v-on:click</span>=<span class="hljs-string">&quot;changeName&quot;</span>&gt;</span>改姓<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">            <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">                <span class="hljs-attr">firstName</span>: <span class="hljs-string">&quot;王&quot;</span>,</span><br><span class="language-javascript">                <span class="hljs-attr">lastName</span>: <span class="hljs-string">&quot;花花&quot;</span>,</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">                <span class="hljs-comment">// changeName 定义一个方法改变 计算属性 fullName 的值</span></span><br><span class="language-javascript">                <span class="hljs-attr">changeName</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-comment">// 修改计算属性 fullName 等于李花花</span></span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">fullName</span> = <span class="hljs-string">&quot;李花花&quot;</span>;</span><br><span class="language-javascript">                    <span class="hljs-comment">// 上面一句等于触发了 fullName 属性的 setter</span></span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-attr">computed</span>: &#123;</span><br><span class="language-javascript">                <span class="hljs-attr">fullName</span>: &#123;</span><br><span class="language-javascript">                    <span class="hljs-comment">// getter</span></span><br><span class="language-javascript">                    <span class="hljs-attr">get</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">                        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">firstName</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastName</span>;</span><br><span class="language-javascript">                    &#125;,</span><br><span class="language-javascript">                    <span class="hljs-comment">// setter  直接改变计算属性 fullName 的值就可以触发 setter this.fullName=&#x27;XX&#x27;</span></span><br><span class="language-javascript">                    <span class="hljs-attr">set</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">newName</span>) &#123;</span><br><span class="language-javascript">                        <span class="hljs-keyword">var</span> name = newName;</span><br><span class="language-javascript">                        <span class="hljs-variable language_">this</span>.<span class="hljs-property">firstName</span> = name.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>); <span class="hljs-comment">// 取新值的第一个字符</span></span><br><span class="language-javascript">                        <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastName</span> = name.<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>); <span class="hljs-comment">// 从新值的第二个字符开始取值</span></span><br><span class="language-javascript">                    &#125;,</span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">                <span class="hljs-comment">// 不需要set时，可简写：</span></span><br><span class="language-javascript">                fullname :<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">                    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">firstName</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastName</span>;</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">                <span class="hljs-comment">// ES6中，如果属性值是函数，则可以省略`:function`, 如:</span></span><br><span class="language-javascript">                <span class="hljs-title function_">fullname</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">                    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">firstName</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastName</span>;</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">        &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure>

<ul>
<li>侦听属性</li>
</ul>
<p>观察和响应 Vue 实例上的数据变动，侦听属性</p>
<p>监控<code>msg</code>，当<code>msg</code>改变是，调用对应的函数</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>      <span class="hljs-comment">&lt;!-- v-on:click 简写为 @click --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleClick(&#x27;hello syl&#x27;)&quot;</span>&gt;</span>改变msg<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">msg</span>: <span class="hljs-string">&quot;hello&quot;</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-comment">// 改变 msg 的值</span></span><br><span class="language-javascript">          <span class="hljs-attr">handleClick</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">val</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">msg</span> = val;</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-comment">// watch 监听属性</span></span><br><span class="language-javascript">        <span class="hljs-attr">watch</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-comment">// 监听新旧值  监听属性有两个参数，第一个新值，第二个旧值</span></span><br><span class="language-javascript">          <span class="hljs-attr">msg</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">newVal, oldVal</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(<span class="hljs-string">&quot;新值&quot;</span> + newVal + <span class="hljs-string">&quot;----&quot;</span> + <span class="hljs-string">&quot;旧值&quot;</span> + oldVal);</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure>

<ul>
<li>过滤器</li>
</ul>
<p>在 Vue 中我们有一个专门处理数据过滤的东西：过滤器。过滤器可以用在两个地方：<strong>双花括号插值和 v-bind 表达式</strong></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123;msg2|getString&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-bind:class</span>=<span class="hljs-string">&quot;msg2|getString&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>// 等价于：<br><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-bind:class</span>=<span class="hljs-string">&quot;getstring(msg2)&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>      <span class="hljs-comment">&lt;!-- toUpperCase   getString  为自定义的过滤器--&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>小写转换大写：过滤前：&#123;&#123;msg&#125;&#125; 过滤后： &#123;&#123;msg|toUpperCase&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>去除数字：过滤前：&#123;&#123;msg2&#125;&#125; 过滤后： &#123;&#123;msg2|getString&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">msg</span>: <span class="hljs-string">&quot;hello&quot;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">msg2</span>: <span class="hljs-string">&quot;1s2y3l&quot;</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-comment">// filters 过滤器选项</span></span><br><span class="language-javascript">        <span class="hljs-attr">filters</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-comment">// toUpperCase 定义一个字符串转大写的过滤器</span></span><br><span class="language-javascript">          <span class="hljs-attr">toUpperCase</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">val</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> val.<span class="hljs-title function_">toUpperCase</span>();</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">          <span class="hljs-comment">// getString 定义一个获取去除数字的过滤器</span></span><br><span class="language-javascript">          <span class="hljs-attr">getString</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">val</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> newVal = <span class="hljs-string">&quot;&quot;</span>;</span><br><span class="language-javascript">            val.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;&quot;</span>).<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) &#123;</span><br><span class="language-javascript">              <span class="hljs-keyword">if</span> (<span class="hljs-number">9</span> &gt;= item &amp;&amp; item &gt;= <span class="hljs-number">0</span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">return</span>;</span><br><span class="language-javascript">              &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">return</span> (newVal += item);</span><br><span class="language-javascript">              &#125;</span><br><span class="language-javascript">            &#125;);</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> newVal;</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h4 id="组件"><a href="#组件" class="headerlink" title="组件"></a>组件</h4><h5 id="简介-1"><a href="#简介-1" class="headerlink" title="简介"></a>简介</h5><p>非单文件组件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>    // 使用<br>    <span class="hljs-tag">&lt;<span class="hljs-name">xuexiao</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">xuexiao</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-comment">// 创建</span></span><br><span class="language-javascript">    <span class="hljs-comment">// const school = Vue.extend(options) 可简写为 const school = options</span></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> school = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">extend</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">template</span>: <span class="hljs-string">`</span></span><br><span class="hljs-string"><span class="language-javascript">          &lt;div&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">            &lt;h2&gt;学生姓名：&#123;&#123;studentName&#125;&#125; &lt;/h2&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">            &lt;h2&gt;学生年龄：&#123;&#123;age&#125;&#125; &lt;/h2&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">          &lt;/div&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">        `</span>,<span class="hljs-comment">// template会完全替换xuaxiao对象</span></span><br><span class="language-javascript">        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">                <span class="hljs-attr">studentName</span>: <span class="hljs-string">&quot;张三&quot;</span>,</span><br><span class="language-javascript">                <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,</span><br><span class="language-javascript">            &#125;;</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">    &#125;);</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-comment">// (局部)注册</span></span><br><span class="language-javascript">        <span class="hljs-attr">components</span>: &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">xuexiao</span>: school,</span><br><span class="language-javascript">            <span class="hljs-comment">//xuesheng: student,</span></span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">    &#125;);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>单文件组件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;tempalte&gt;<br>    &lt;div&gt;<br><br>    &lt;/div&gt;<br>&lt;/tempalte&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>    name: &#x27;&#x27;,<br>    data() &#123;<br>        return &#123;<br>            schoolName: &#x27;&#x27;,<br>            address: &#x27;&#x27;<br>        &#125;<br>    &#125;,<br>    methods: &#123;<br>        showName() &#123;<br>            alert(this.showName)<br>        &#125;<br>    &#125;,<br>&#125;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>div&#123;<br>    color: pink;<br>&#125;<br>&lt;/style&gt;<br><br><br>// main.js 入口文件<br>import App from &#x27;./App&#x27;<br><br>new Vue(&#123;<br>    el:&#x27;#root&#x27;,<br>    template: `&lt;App&gt;&lt;/App&gt;`,<br>    components: &#123;App&#125;,<br>&#125;)<br></code></pre></td></tr></table></figure>

<ul>
<li><p>全局组件：<code>Vue.component</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">syl</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">syl</span>&gt;</span><br>Vue.component(&quot;syl&quot;, &#123;<br>  template: &quot;<span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>实验楼全局组件<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>&quot;,<br>&#125;);<br></code></pre></td></tr></table></figure>
</li>
<li><p>局部组件</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;header&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">syl-header</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">syl-header</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;mid&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">syl-mid</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">syl-mid</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-comment">// 头部组件</span></span><br><span class="language-javascript">      <span class="hljs-keyword">var</span> childComponent = &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">template</span>: <span class="hljs-string">&quot;&lt;h2&gt;我是实验楼局部组件header，只有我们父级才能调用&lt;/h2&gt;&quot;</span>,</span><br><span class="language-javascript">      &#125;;</span><br><span class="language-javascript">      <span class="hljs-comment">// 中间部分组件</span></span><br><span class="language-javascript">      <span class="hljs-keyword">var</span> childComponent2 = &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">template</span>: <span class="hljs-string">&quot;&lt;h2&gt;我是实验楼局部组件mid，只有我们父级才能调用&lt;/h2&gt;&quot;</span>,</span><br><span class="language-javascript">      &#125;;</span><br><span class="language-javascript">      <span class="hljs-comment">// header vm</span></span><br><span class="language-javascript">      <span class="hljs-keyword">var</span> header = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#header&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-comment">// 子组件必须声明后使用，不然不能起效</span></span><br><span class="language-javascript">        <span class="hljs-attr">components</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-string">&quot;syl-header&quot;</span>: childComponent,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">      <span class="hljs-keyword">var</span> mid = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#mid&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-comment">// 子组件必须声明后使用，不然不能起效</span></span><br><span class="language-javascript">        <span class="hljs-attr">components</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-string">&quot;syl-mid&quot;</span>: childComponent2,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<p>组件的优点就在于能够复用，一次代码编写，整个项目受用。</p>
<p><strong>注意：</strong> 复用组件内的 data 必须是一个函数，如果是一个对象（引用类型），组件与组件间会相互影响，组件数据不能独立管理</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">component</span>(<span class="hljs-string">&quot;button-counter&quot;</span>, &#123;<br>    <span class="hljs-comment">// data 必须是一个函数不然会影响其他组件</span><br>    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> &#123;<br>            <span class="hljs-attr">counter</span>: <span class="hljs-number">0</span>,<br>        &#125;;<br>    &#125;,<br>    <span class="hljs-attr">template</span>: <span class="hljs-string">&#x27;&lt;button @click=&quot;counter++&quot;&gt;&#123;&#123;counter&#125;&#125;&lt;/button&gt;&#x27;</span>,<br>&#125;);<br><span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>    <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,<br>&#125;);<br></code></pre></td></tr></table></figure>

<h5 id="通信"><a href="#通信" class="headerlink" title="通信"></a>通信</h5><p>父子：<code>props</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">title-component</span> <span class="hljs-attr">post-title</span>=<span class="hljs-string">&quot;syl1&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">title-component</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">title-component</span> <span class="hljs-attr">post-title</span>=<span class="hljs-string">&quot;syl2&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">title-component</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">title-component</span> <span class="hljs-attr">post-title</span>=<span class="hljs-string">&quot;syl3&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">title-component</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-comment">// 注册一个 title 组件，通过传入不同的 title 值，渲染不同的东西</span></span><br><span class="language-javascript">      <span class="hljs-comment">// 组件上 传递的 props 属性名为 kebab-case（短横线分隔命名）的要转换为驼峰命名</span></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">component</span>(<span class="hljs-string">&quot;title-component&quot;</span>, &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">props</span>: [<span class="hljs-string">&quot;postTitle&quot;</span>], <span class="hljs-comment">// post-title 转换为驼峰命名</span></span><br><span class="language-javascript">        <span class="hljs-attr">template</span>: <span class="hljs-string">&quot;&lt;p&gt;&#123;&#123;postTitle&#125;&#125;&lt;/p&gt;&quot;</span>,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">      <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>子父通信<code>this.$emit(&#39;自定义事件名&#39;，参数)</code></p>
<p>子组件向父组件数据传递套路：</p>
<p>第一步：子组件绑定事件。</p>
<p>第二步：子组件绑定事件触发，使用 $emit 创建自定义事件并传入需要传值给父组件的数据。</p>
<p>第三步：在子组件标签上 用 v-on 绑定自定义事件，在父组件中声明自定义事件处理的方法。</p>
<p>第四步：父组件方法，接受自定义事件传的参数，就完成了整个由下到上的数据流。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">child-component</span> <span class="hljs-attr">v-on:send-msg</span>=<span class="hljs-string">&quot;getMsg&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">child-component</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-comment">// 定义一个子组件，template 绑定 click 事件</span></span><br><span class="language-javascript">      <span class="hljs-comment">// 当 click 事件触发就使用 emit 自定义一个事件 send-msg，传入参数 “我是子组件请求与你通信”</span></span><br><span class="language-javascript">      <span class="hljs-comment">// $emit(&#x27;send-msg&#x27;,&#x27;我是子组件请求与你通信&#x27;)</span></span><br><span class="language-javascript">      <span class="hljs-comment">// 子组件标签上绑定自定义事件 send-msg，并绑定上父级的方法 getMsg，即可完成了子父组件通信</span></span><br><span class="language-javascript">      <span class="hljs-comment">// &lt;child-component v-on:send-msg=&quot;getMsg&quot;&gt;&lt;/child-component&gt;</span></span><br><span class="language-javascript">      <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">component</span>(<span class="hljs-string">&quot;child-component&quot;</span>, &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">template</span>: <span class="hljs-string">`&lt;button v-on:click=&quot;$emit(&#x27;send-msg&#x27;,&#x27;我是子组件请求与你通信&#x27;)&quot;&gt;Click me&lt;/button&gt;`</span>,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">      <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">getMsg</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">msg</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">// 弹出子组件传递的信息</span></span><br><span class="language-javascript">            <span class="hljs-title function_">alert</span>(msg);</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h5 id="props类型检测"><a href="#props类型检测" class="headerlink" title="props类型检测"></a>props类型检测</h5><p>通常你希望每个 prop 都有指定的值类型。这时，你可以以对象形式列出 prop，这些属性的名称和值分别是 prop 各自的名称和类型</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">child-component</span></span><br><span class="hljs-tag">        <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;1&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">title</span>=<span class="hljs-string">&quot;hello syl&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;you are welcom&quot;</span></span><br><span class="hljs-tag">      &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">child-component</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span><br><span class="language-xml"><span class="language-handlebars">      // 注册一个子组件</span></span><br><span class="language-xml"><span class="language-handlebars">      Vue.component(&quot;child-component&quot;, &#123;</span></span><br><span class="language-xml"><span class="language-handlebars">        // props 对象形式，传递属性值 进行类型检测，在脚手架环境中很有用</span></span><br><span class="language-xml"><span class="language-handlebars">        props: &#123;</span></span><br><span class="language-xml"><span class="language-handlebars">          id: Number,</span></span><br><span class="language-xml"><span class="language-handlebars">          title: String,</span></span><br><span class="language-xml"><span class="language-handlebars">          content: String,</span></span><br><span class="language-xml"><span class="language-handlebars">        &#125;,</span></span><br><span class="language-xml"><span class="language-handlebars">        // 使用 es6 模板字符串书写格式更优美</span></span><br><span class="language-xml"><span class="language-handlebars">        template: `<span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>id:</span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">id</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>title:</span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">title</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>content:</span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">content</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>`,</span></span><br><span class="language-xml"><span class="language-handlebars">      &#125;);</span></span><br><span class="language-xml"><span class="language-handlebars">      var app = new Vue(&#123;</span></span><br><span class="language-xml"><span class="language-handlebars">        el: &quot;#app&quot;,</span></span><br><span class="language-xml"><span class="language-handlebars">      &#125;);</span></span><br><span class="language-xml"><span class="language-handlebars">    </span></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h5 id="动态组件、实例生命周期"><a href="#动态组件、实例生命周期" class="headerlink" title="动态组件、实例生命周期"></a>动态组件、实例生命周期</h5><h3 id="本地应用"><a href="#本地应用" class="headerlink" title="本地应用"></a>本地应用</h3><h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script src=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;&lt;/script&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#vue_det&#x27;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// 或 vm.$mount(&#x27;#vue_det&#x27;)</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">// 对象式：</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">data</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-attr">site</span>: <span class="hljs-string">&quot;菜鸟教程&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-attr">url</span>: <span class="hljs-string">&quot;www.runoob.com&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-attr">alexa</span>: <span class="hljs-string">&quot;10000&quot;</span></span></span><br><span class="language-javascript"><span class="language-xml">        &#125;,</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-comment">//函数式：</span></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-keyword">return</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">                <span class="hljs-attr">site</span>: <span class="hljs-string">&quot;菜鸟教程&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">            &#125;</span></span><br><span class="language-javascript"><span class="language-xml">        &#125;</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">methods</span>: &#123;</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-comment">// 数据变化会触发Vue响应系统, 进而触发这个函数重新执行.</span></span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-attr">details</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span></span><br><span class="language-javascript"><span class="language-xml">                <span class="hljs-keyword">return</span>  <span class="hljs-variable language_">this</span>.<span class="hljs-property">site</span> + <span class="hljs-string">&quot; - 学的不仅是技术，更是梦想！&quot;</span>;</span></span><br><span class="language-javascript"><span class="language-xml">            &#125;</span></span><br><span class="language-javascript"><span class="language-xml">        &#125;</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;)</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<ul>
<li>初始化：向Vue构造函数中传入一个集合</li>
<li><ul>
<li><p><code>el</code>: 选择器，设置<code>Vue</code>实例挂载（管理）的元素</p>
</li>
<li><p><code>data</code>:  插值数据</p>
</li>
<li><p><code>method</code>:  方法</p>
</li>
</ul>
</li>
<li><code>vm.sute</code>可以这样用</li>
<li><code>vm.$el</code>,  <code>vm.$data</code>  它们都有前缀 $，以便与用户定义的属性区分开来</li>
</ul>
<h3 id="模板语法"><a href="#模板语法" class="headerlink" title="模板语法"></a>模板语法</h3><h4 id="插值"><a href="#插值" class="headerlink" title="插值"></a>插值</h4><p><code>&#123;&#123; name &#125;&#125;</code></p>
<blockquote>
<p>name 为Vue中data的元素</p>
</blockquote>
<h4 id="v-html、v-text"><a href="#v-html、v-text" class="headerlink" title="v-html、v-text"></a>v-html、v-text</h4><p>用于替换为<code>html</code>代码</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;div id=<span class="hljs-string">&quot;app2&quot;</span>&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-html</span>=<span class="hljs-string">&quot;message&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/div&gt;<br><br><span class="hljs-keyword">let</span> app2 = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>    <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#app2&#x27;</span>,<br>    <span class="hljs-attr">data</span>: &#123;<br>        <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;&lt;h1&gt;菜鸟教程&lt;/h1&gt;&#x27;</span><br>    &#125;<br>&#125;)     <br></code></pre></td></tr></table></figure>

<h4 id="v-on"><a href="#v-on" class="headerlink" title="v-on"></a>v-on</h4><ul>
<li>绑定事件</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;input v-<span class="hljs-attr">on</span>:click=<span class="hljs-string">&quot;doIt&quot;</span>&gt;<br>或：<br>&lt;input @click=<span class="hljs-string">&quot;doIt(p1, p2)&quot;</span>&gt;  <span class="hljs-comment">//自定义参数</span><br>或<br>&lt;input @keyup.<span class="hljs-property">enter</span>=<span class="hljs-string">&quot;sayHi&quot;</span>&gt;   <span class="hljs-comment">//事件修饰符</span><br><br><span class="hljs-keyword">let</span> vm=<span class="hljs-title class_">Vue</span>(&#123;<br>    <span class="hljs-attr">data</span>:&#123;<br>        <span class="hljs-attr">food</span>: <span class="hljs-string">&quot;西蓝花&quot;</span>,<br>    &#125;<br>    <span class="hljs-attr">methods</span>:&#123;<br>        <span class="hljs-attr">doIt</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params">p1, p2</span>)&#123;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">food</span><br>        &#125;<br>    &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>

<ul>
<li><p>动态的事件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">@[event]=<span class="hljs-string">&#x27;doIt&#x27;</span><br><br>event=<span class="hljs-string">&#x27;click&#x27;</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>默认有冒泡，添加<code>.prevent</code>可以阻止冒泡</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">@click.<span class="hljs-property">p</span><br></code></pre></td></tr></table></figure></li>
</ul>
<p>键盘事件：</p>
<p>在监听键盘事件时，我们经常需要检查详细的按键。Vue 允许为 <code>v-on</code> 在监听键盘事件时添加按键修饰符</p>
<ul>
<li><p><code>keyup.enter</code></p>
</li>
<li><p><code>click.ctrl</code>同时鼠标左击和按 ctrl 弹出提示 </p>
</li>
<li><p><code>.exact</code> 精确按键修饰符，允许你控制由精确的系统修饰符组合触发的事件。</p>
<ul>
<li><code>click.ctrl</code>即使 Alt 或 Shift 被一同按下时也会触发</li>
<li><code>click.ctrl.exact</code>有且只有 ctrl 键 + 鼠标左键 被按下的时候才触发</li>
</ul>
</li>
<li><p>这些修饰符会限制处理函数仅响应特定的鼠标按钮。</p>
<ul>
<li><p><code>.left</code></p>
</li>
<li><p><code>.right</code></p>
</li>
<li><p><code>.middle</code></p>
</li>
</ul>
</li>
<li></li>
</ul>
<h4 id="v-show、v-if"><a href="#v-show、v-if" class="headerlink" title="v-show、v-if"></a>v-show、v-if</h4><p>根据表达式的真假，切换元素的显示和隐藏</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js">v-show=<span class="hljs-string">&quot;isShow&quot;</span><br>v-show=<span class="hljs-string">&quot;age&gt;=18&quot;</span><br><br><span class="hljs-attr">data</span>:&#123;<br>    <span class="hljs-attr">isShow</span>: <span class="hljs-literal">false</span>,<br>    <span class="hljs-attr">age</span>: <span class="hljs-number">16</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p><code>v-if</code>:  同上，但操作dom元素（转换为注释节点），性能差</p>
<h4 id="v-bind"><a href="#v-bind" class="headerlink" title="v-bind"></a>v-bind</h4><p>单向数据绑定：<code>v-bind</code></p>
<p>双向数据绑定：<code>v-model</code></p>
<p>&#x3D;&#x3D;属性变量化&#x3D;&#x3D;</p>
<p>设置元素的属性(src,  title,  class)</p>
<p>可以多个</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js">v-<span class="hljs-attr">bind</span>:src=<span class="hljs-string">&quot;imgSrc&quot;</span><br><br><span class="hljs-attr">data</span>:&#123;<br>    imgSrc=<span class="hljs-string">&quot;   &quot;</span><br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js">v-<span class="hljs-attr">bind</span>: <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;isActive ? &#x27;active&#x27; : &#x27;&#x27; &quot;</span><br>v-<span class="hljs-attr">bind</span>: <span class="hljs-keyword">class</span>=<span class="hljs-string">&quot;&#123;&#x27;active&#x27;: isActive, &#x27;red-bg&#x27;: isRed&#125;&quot;</span><br><span class="hljs-comment">// active为构建好的类</span><br><span class="hljs-attr">data</span>:&#123;<br>    <span class="hljs-attr">isActive</span>: <span class="hljs-literal">true</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;div class=&#x27;c&#x27; :class=&quot;[&#x27;a&#x27;, &#x27;b&#x27;]&quot;&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>

<ul>
<li><p><code>bind</code>可以是数组</p>
</li>
<li><p>可以同时有动态否认和静态的<code>class</code></p>
</li>
</ul>
<p><code>v-bind</code>可以省略，如：</p>
<p><code>:src=&quot;imgSrc&quot;</code></p>
<p>元素style绑定：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">v-bind:style</span>=<span class="hljs-string">&quot;&#123;fontSize:size,backgroundColor:bgColor&#125;&quot;</span>&gt;</span>你好，实验楼<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">size</span>: <span class="hljs-string">&quot;26px&quot;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">bgColor</span>: <span class="hljs-string">&quot;pink&quot;</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h4 id="v-for"><a href="#v-for" class="headerlink" title="v-for"></a>v-for</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;ul id=<span class="hljs-string">&quot;app&quot;</span>&gt;<br>    <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item, index) in arr&quot;</span>&gt;</span> </span><br><span class="language-xml">        &#123;&#123;index&#125;&#125;  &#123;&#123; item &#125;&#125; </span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br>&lt;/ul&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">var</span> app=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">el</span>:<span class="hljs-string">&quot;#app&quot;</span>,</span></span><br><span class="language-javascript"><span class="language-xml">        <span class="hljs-attr">data</span>:&#123;</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-attr">arr</span>:[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>],</span></span><br><span class="language-javascript"><span class="language-xml">            <span class="hljs-attr">objArr</span>:[</span></span><br><span class="language-javascript"><span class="language-xml">                &#123;<span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;jack&#x27;</span>&#125;,</span></span><br><span class="language-javascript"><span class="language-xml">                &#123;<span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;rose&#x27;</span>&#125;,</span></span><br><span class="language-javascript"><span class="language-xml">            ]</span></span><br><span class="language-javascript"><span class="language-xml">        &#125;</span></span><br><span class="language-javascript"><span class="language-xml">    &#125;)</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<ul>
<li><code>v-for</code>一般和<code>:key=&#39;&#39;</code>搭配使用</li>
</ul>
<p>还是由于 JavaScript 的限制，Vue 不能检测对象属性的添加或删除，直接进行 <code>app.userInfo.height=&#39;180cm&#39;</code> 这样操作是不会构成响应式，不会触发视图更新。必须使用 <code>Vue.set(object, key, value)</code> 方法向嵌套对象添加响应式属性</p>
<p>eg.</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">set</span>(app.<span class="hljs-property">objArr</span>, <span class="hljs-string">&#x27;name&#x27;</span>, <span class="hljs-string">&#x27;andy&#x27;</span>);<br></code></pre></td></tr></table></figure>

<h4 id="v-once"><a href="#v-once" class="headerlink" title="v-once"></a>v-once</h4><p>内容只渲染一次，不会改变</p>
<h4 id="v-memo"><a href="#v-memo" class="headerlink" title="v-memo"></a>v-memo</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script setup lang=<span class="hljs-string">&quot;ts&quot;</span>&gt;<br><span class="hljs-keyword">const</span> <span class="hljs-attr">arr</span>:number[] = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>,<span class="hljs-number">8</span>,<span class="hljs-number">9</span>,<span class="hljs-number">10</span>];<br>&lt;/script&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in arr&quot;</span> <span class="hljs-attr">v-mome</span>=<span class="hljs-string">&quot;[item == 2]&quot;</span>&gt;</span></span><br><span class="language-xml">&#123;&#123; item &#125;&#125;</span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span></span><br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<ul>
<li>当<code>item!=2</code>时，重新渲染</li>
</ul>
<h5 id="v-cloak"><a href="#v-cloak" class="headerlink" title="v-cloak"></a>v-cloak</h5><p>当vue初始化完成时，这个属性会直接消失</p>
<p>用例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-attr">[v-cloak]</span>&#123;<br>    <span class="hljs-attribute">display</span>: none;<br>&#125;<br></code></pre></td></tr></table></figure>

































<h3 id="官方文档"><a href="#官方文档" class="headerlink" title="官方文档"></a>官方文档</h3><h4 id="组件基础"><a href="#组件基础" class="headerlink" title="组件基础"></a>组件基础</h4><h5 id="监听事件"><a href="#监听事件" class="headerlink" title="监听事件"></a>监听事件</h5><p>子组件可以用<code>$emit</code>来抛出事件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>&lt;div class=&quot;blog-post&quot;&gt;<br>    &lt;h4&gt;&#123;&#123; title &#125;&#125;&lt;/h4&gt;<br>    &lt;span&gt;&#123;&#123; content &#125;&#125;&lt;/span&gt;<br>    &lt;button @click=&quot;$emit(&#x27;enlarge-text&#x27;)&quot;&gt;Rnlarge text&lt;/button&gt;<br>&lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup lang=&#x27;ts&#x27;&gt;<br>defineProps([&#x27;title&#x27;, &#x27;content&#x27;])<br>defineEmits([&#x27;enlarge-text&#x27;])<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br><br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>&lt;div :style=&quot;&#123;fontSize: postFontSize + &#x27;em&#x27;&#125;&quot;&gt;<br>    &lt;BlogPost <br>        v-for=&quot;post in posts&quot;<br>        :key=&quot;post.id&quot;<br>        :title=&quot;post.title&quot;<br>        @enlarge-text=&quot;postFontSize+=0.1&quot;&gt;<br>    &lt;/BlogPost&gt;<br>&lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import &#123; ref &#125; from &#x27;vue&#x27;;<br>import BlogPost from &#x27;./components/BlogPost.vue&#x27;;<br>const posts = ref([<br>  &#123; id: 1, title: &#x27;My journey with Vue&#x27; &#125;,<br>  &#123; id: 2, title: &#x27;Blogging with Vue&#x27; &#125;,<br>  &#123; id: 3, title: &#x27;Why Vue is so fun&#x27; &#125;<br>])<br>const postFontSize=ref(1)<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br><br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<p>描述：</p>
<ol>
<li>子组件中，可以以<code>@click=&quot;$emit(&#39;enlarge-text&#39;)&quot;</code>这样的形式，把点击事件绑定到<code>enlarge-text</code>函数上（官方描述：<em>子组件可以通过调用内置的 <code>$emit</code>方法，通过传入事件名称来抛出一个事件</em>。父组件有<code>@enlarge-text</code>监听，会完成这一事件的效果）</li>
<li>在子组件中，需要使用<code>defineEmits</code>宏来声明需要抛出的事件</li>
</ol>
<h4 id="深入组件"><a href="#深入组件" class="headerlink" title="深入组件"></a>深入组件</h4><h5 id="注册"><a href="#注册" class="headerlink" title="注册"></a>注册</h5><h6 id="全局注册"><a href="#全局注册" class="headerlink" title="全局注册"></a>全局注册</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;createApp&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><br><span class="hljs-keyword">const</span> app=<span class="hljs-title function_">createApp</span>(&#123;&#125;)<br>app.<span class="hljs-title function_">component</span>(<br>    <span class="hljs-string">&#x27;MyComponent&#x27;</span>,<br>    &#123;<br>        <span class="hljs-comment">// 实现</span><br>    &#125;<br>)<br></code></pre></td></tr></table></figure>

<p>注册导入的单文件组件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">MyComponent</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App.vue&#x27;</span><br><br>app.<span class="hljs-title function_">component</span>(<span class="hljs-string">&#x27;MyComponent&#x27;</span>, <span class="hljs-title class_">MyComponent</span>)<br></code></pre></td></tr></table></figure>

<p>使用：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!-- 这在当前应用的任意组件中都可用 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">ComponentA</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">ComponentB</span>/&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">ComponentC</span>/&gt;</span><br></code></pre></td></tr></table></figure>



<h6 id="局部注册"><a href="#局部注册" class="headerlink" title="局部注册"></a>局部注册</h6><ul>
<li><p>在使用 <code>&lt;script setup&gt;</code> 的单文件组件中，导入的组件可以直接在模板中使用，无需注册</p>
</li>
<li><p>如果没有使用 <code>&lt;script setup&gt;</code>，则需要使用 <code>components</code> 选项来显式注册：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">ComponentA</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./ComponentA.js&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>  <span class="hljs-attr">components</span>: &#123;<br>    <span class="hljs-title class_">ComponentA</span><br>  &#125;,<br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// ...</span><br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<p>关于VueComponent：</p>
<p>1.school组件本质是一个名为VueComponent的构造函数，且不是程序员定义的，是Vue.extend生成的。*</p>
<p>2.我们只需要写<school/>或<school></school>，Vue解析时会帮我们创建school组件的实例对象，</p>
<p>  即Vue帮我们执行的：new VueComponent(options)。</p>
<p>3.特别注意：每次调用Vue.extend，返回的都是一个全新的VueComponent！！！！</p>
<p>4.关于this指向：</p>
<p>  (1).组件配置中：</p>
<p>​        data函数、methods中的函数、watch中的函数、computed中的函数 它们的this均是【VueComponent实例对象】。</p>
<p>  (2).new Vue(options)配置中：</p>
<p>​        data函数、methods中的函数、watch中的函数、computed中的函数 它们的this均是【Vue实例对象】。</p>
<p>5.VueComponent的实例对象，以后简称vc（也可称之为：组件实例对象）。</p>
<p>  Vue的实例对象，以后简称vm。*</p>
<p><img src="/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230923160822252.png" srcset="/img/loading.gif" lazyload alt="image-20230923160822252"></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">类.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> === 对象.<span class="hljs-property">__proto__</span><br></code></pre></td></tr></table></figure>

<p>他们指向同一个东西</p>
<h3 id="尚硅谷"><a href="#尚硅谷" class="headerlink" title="尚硅谷"></a>尚硅谷</h3><p>文档：<a target="_blank" rel="noopener" href="https://v2.cn.vuejs.org/v2/guide/">https://v2.cn.vuejs.org/v2/guide/</a></p>
<p>个人笔记：</p>
<ul>
<li><p><a target="_blank" rel="noopener" href="https://www.yuque.com/cessstudy/kak11d">https://www.yuque.com/cessstudy/kak11d</a></p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://wekenw.gitee.io/vuedoc/">https://wekenw.gitee.io/vuedoc/</a></p>
</li>
</ul>
<h4 id="核心"><a href="#核心" class="headerlink" title="核心"></a>核心</h4><p>挂载</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">	<span class="hljs-keyword">new</span> <span class="hljs-title function_">vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#root&#x27;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>:&#123;</span><br><span class="language-javascript">            <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;尚硅谷&#x27;</span></span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">            <span class="hljs-title function_">func</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">                <span class="hljs-comment">// 这里this的指向是vm或者组件实例对象</span></span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">    &#125;)</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>或者：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> &#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;atguigu&quot;</span> &#125;;</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">    &#125;);</span><br><span class="language-javascript">    vm.$mount(<span class="hljs-string">&quot;#root&quot;</span>);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>可以直接通过<code>vm</code>访问<code>data</code>的属性，这是因为<code>data</code>的所有属性都通过<code>Object.defineProperty方法</code>进行了<em>数据代理</em>，代理到了<code>vm</code>上</p>
<p>Object.defineProperty方法</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> &gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">let</span> number = <span class="hljs-number">18</span></span><br><span class="language-javascript">    <span class="hljs-keyword">let</span> person = &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">name</span>:<span class="hljs-string">&#x27;张三&#x27;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">sex</span>:<span class="hljs-string">&#x27;男&#x27;</span>,</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(person,<span class="hljs-string">&#x27;age&#x27;</span>,&#123;</span><br><span class="language-javascript">        <span class="hljs-comment">// value:18,</span></span><br><span class="language-javascript">        <span class="hljs-comment">// enumerable:true, //控制属性是否可以枚举，默认值是false</span></span><br><span class="language-javascript">        <span class="hljs-comment">// writable:true, //控制属性是否可以被修改，默认值是false</span></span><br><span class="language-javascript">        <span class="hljs-comment">// configurable:true //控制属性是否可以被删除，默认值是false</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//当有人读取person的age属性时，get函数(getter)就会被调用，且返回值就是age的值</span></span><br><span class="language-javascript">        <span class="hljs-title function_">get</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;有人读取age属性了&#x27;</span>)</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> number</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//当有人修改person的age属性时，set函数(setter)就会被调用，且会收到修改的具体值</span></span><br><span class="language-javascript">        <span class="hljs-title function_">set</span>(<span class="hljs-params">value</span>)&#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;有人修改了age属性，且值是&#x27;</span>,value)</span><br><span class="language-javascript">            number = value</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">    &#125;)</span><br><span class="language-javascript">&lt;script/&gt;</span><br></code></pre></td></tr></table></figure>



<h5 id="计算属性-1"><a href="#计算属性-1" class="headerlink" title="计算属性"></a>计算属性</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span> <span class="hljs-comment">//阻止 vue 在启动时生成生产提示。</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>:<span class="hljs-string">&#x27;#root&#x27;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>:&#123;</span><br><span class="language-javascript">            <span class="hljs-attr">firstName</span>:<span class="hljs-string">&#x27;张&#x27;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">lastName</span>:<span class="hljs-string">&#x27;三&#x27;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">x</span>:<span class="hljs-string">&#x27;你好&#x27;</span></span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">computed</span>:&#123;</span><br><span class="language-javascript">            <span class="hljs-attr">fullName</span>:&#123;</span><br><span class="language-javascript">                <span class="hljs-comment">//get有什么作用？当有人读取fullName时，get就会被调用，且返回值就作为fullName的值</span></span><br><span class="language-javascript">                <span class="hljs-comment">//get什么时候调用？1.初次读取fullName时。2.所依赖的数据发生变化时。</span></span><br><span class="language-javascript">                <span class="hljs-title function_">get</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;get被调用了&#x27;</span>)</span><br><span class="language-javascript">                    <span class="hljs-comment">// console.log(this) //此处的this是vm</span></span><br><span class="language-javascript">                    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">firstName</span> + <span class="hljs-string">&#x27;-&#x27;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastName</span></span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">                <span class="hljs-comment">// //set什么时候调用? 当fullName被修改时。</span></span><br><span class="language-javascript">                <span class="hljs-title function_">set</span>(<span class="hljs-params">value</span>)&#123;</span><br><span class="language-javascript">                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;set&#x27;</span>,value)</span><br><span class="language-javascript">                    <span class="hljs-keyword">const</span> arr = value.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;-&#x27;</span>)</span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">firstName</span> = arr[<span class="hljs-number">0</span>]</span><br><span class="language-javascript">                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastName</span> = arr[<span class="hljs-number">1</span>]</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    &#125;)</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<ul>
<li><code>setter</code>：这个函数会在<code>fullName</code>被修改的时候执行。如果计算属性要被修改，那必须写set函数去响应修改，且set中要引起计算时依赖的数据发生改变（如修改<code>firstName</code>和<code>lastName</code>）。</li>
<li><code>getter</code>：<code>fullName</code>以来的数据发生变化时被调用</li>
</ul>
<p>计算属性可以只写<code>getter</code>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">computed</span>:&#123;<br>	<span class="hljs-title function_">fullName2</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">firstName</span> + <span class="hljs-string">&quot;-&quot;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">lastName</span>;<br>    &#125;,<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="监视属性"><a href="#监视属性" class="headerlink" title="监视属性"></a>监视属性</h5><p>首先指定要监视的值，当这个值放生改变时，会自动执行指定的函数</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>今天天气&#123;&#123; val &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;change&quot;</span>&gt;</span>change<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">flag</span>: <span class="hljs-literal">true</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">computed</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">val</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">flag</span> ? <span class="hljs-string">&quot;炎热&quot;</span> : <span class="hljs-string">&quot;凉爽&quot;</span>;</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-title function_">change</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">this</span>.<span class="hljs-property">flag</span> = !<span class="hljs-variable language_">this</span>.<span class="hljs-property">flag</span>;</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">watch</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">flag</span>: &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">immediate</span>: <span class="hljs-literal">true</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">deep</span>: <span class="hljs-literal">true</span>,</span><br><span class="language-javascript">            <span class="hljs-title function_">handler</span>(<span class="hljs-params">newVal, oldVal</span>) &#123;</span><br><span class="language-javascript">              <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;修改了!&quot;</span>);</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>简写：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">watch</span>: &#123;<br>    <span class="hljs-title function_">flag</span>(<span class="hljs-params">newVal, oldVal</span>) &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;修改了!&quot;</span>);<br>    &#125;,<br>&#125;,<br></code></pre></td></tr></table></figure>

<p>有的功能，<code>watch</code>可以完成，但<code>computed</code>不一定能完成</p>
<ol>
<li><p>所被Vue管理的函数，最好写成普通函数，这样this的指向才是vm 或 组件实例对象。</p>
</li>
<li><p>所有不被Vue所管理的函数（定时器的回调函数、ajax的回调函数等、Promise的回调函数），最好写成箭头函数，这样this的指向才是vm 或 组件实例对象。</p>
</li>
</ol>
<h5 id="添加一个属性"><a href="#添加一个属性" class="headerlink" title="添加一个属性"></a>添加一个属性</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">set</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">student</span>, <span class="hljs-string">&#x27;sex&#x27;</span>, <span class="hljs-string">&#x27;男&#x27;</span>)<br></code></pre></td></tr></table></figure>



<h5 id="过滤属性"><a href="#过滤属性" class="headerlink" title="过滤属性"></a>过滤属性</h5><p>要用到管道运算符</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span> &#123;&#123;111111 | timeFormater&#125;&#125; <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">filters</span>: &#123;</span><br><span class="language-javascript">             <span class="hljs-title function_">timeFormater</span>(<span class="hljs-params">time</span>) &#123;</span><br><span class="language-javascript">             <span class="hljs-keyword">return</span> time / <span class="hljs-number">1000</span>;</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;,</span><br><span class="language-javascript">    &#125;)</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h5 id="自定义指令"><a href="#自定义指令" class="headerlink" title="自定义指令"></a>自定义指令</h5><p>函数式：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>      大大大：<br>      <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-big</span>=<span class="hljs-string">&quot;n&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">      <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,</span><br><span class="language-javascript">      <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">n</span>: <span class="hljs-number">99</span>,</span><br><span class="language-javascript">      &#125;,</span><br><span class="language-javascript">      <span class="hljs-attr">directives</span>: &#123;</span><br><span class="language-javascript">        <span class="hljs-title function_">big</span>(<span class="hljs-params">element, binding</span>) &#123;</span><br><span class="language-javascript">          element.<span class="hljs-property">innerText</span>=binding.<span class="hljs-property">value</span> *<span class="hljs-number">10</span></span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;,</span><br><span class="language-javascript">    &#125;);</span><br><span class="language-javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><code>big</code> 函数调用时机：</p>
<ol>
<li>指令与元素成功绑定时（一上来）</li>
<li>指令所在的模块被重新解析时</li>
</ol>
<p>对象式：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">directives</span>:&#123;<br>    <span class="hljs-attr">fbind</span>:&#123;<br>        <span class="hljs-comment">//指令与元素成功绑定时（一上来）</span><br>        <span class="hljs-title function_">bind</span>(<span class="hljs-params">element,binding</span>)&#123;<br>            element.<span class="hljs-property">value</span> = binding.<span class="hljs-property">value</span><br>        &#125;,<br>		<span class="hljs-comment">//指令所在元素被插入页面时</span><br>        <span class="hljs-title function_">inserted</span>(<span class="hljs-params">element,binding</span>)&#123;<br>	        element.<span class="hljs-title function_">focus</span>()<br>        &#125;,<br>        <span class="hljs-comment">//指令所在的模板被重新解析时</span><br>		<span class="hljs-title function_">update</span>(<span class="hljs-params">element,binding</span>)&#123;<br>            element.<span class="hljs-property">value</span> = binding.<span class="hljs-property">value</span><br>		&#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<p>全局指令：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">directive</span>(<span class="hljs-string">&#x27;fbind&#x27;</span>,&#123;<br>    <span class="hljs-comment">//指令与元素成功绑定时（一上来）</span><br>    <span class="hljs-title function_">bind</span>(<span class="hljs-params">element,binding</span>)&#123;<br>        element.<span class="hljs-property">value</span> = binding.<span class="hljs-property">value</span><br>    &#125;,<br>    <span class="hljs-comment">//指令所在元素被插入页面时</span><br>    <span class="hljs-title function_">inserted</span>(<span class="hljs-params">element,binding</span>)&#123;<br>        element.<span class="hljs-title function_">focus</span>()<br>    &#125;,<br>    <span class="hljs-comment">//指令所在的模板被重新解析时</span><br>    <span class="hljs-title function_">update</span>(<span class="hljs-params">element,binding</span>)&#123;<br>        element.<span class="hljs-property">value</span> = binding.<span class="hljs-property">value</span><br>    &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>



<h4 id="组件基础-1"><a href="#组件基础-1" class="headerlink" title="组件基础"></a>组件基础</h4><h5 id="创建组件"><a href="#创建组件" class="headerlink" title="创建组件"></a>创建组件</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;root&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">school</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">school</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">hr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">stu</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">stu</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;../js/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span><br><span class="language-xml"><span class="language-handlebars">    const school = Vue.extend(&#123;</span></span><br><span class="language-xml"><span class="language-handlebars">        template:`</span></span><br><span class="language-xml"><span class="language-handlebars">            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">                <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>姓名：</span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">name</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">                <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>地址：</span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">address</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">        `,</span></span><br><span class="language-xml"><span class="language-handlebars">        data()&#123;</span></span><br><span class="language-xml"><span class="language-handlebars">            return &#123;</span></span><br><span class="language-xml"><span class="language-handlebars">                name: &#x27;阿巴阿巴&#x27;,</span></span><br><span class="language-xml"><span class="language-handlebars">                address: &#x27;唐宁街一号&#x27;,</span></span><br><span class="language-xml"><span class="language-handlebars">            &#125;</span></span><br><span class="language-xml"><span class="language-handlebars">        &#125;</span></span><br><span class="language-xml"><span class="language-handlebars">    &#125;)</span></span><br><span class="language-xml"><span class="language-handlebars">    const stu = Vue.extend(&#123;</span></span><br><span class="language-xml"><span class="language-handlebars">        template:`</span></span><br><span class="language-xml"><span class="language-handlebars">            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">                <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>姓名：</span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">name</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">                <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>性别：</span><span class="hljs-template-variable">&#123;&#123;<span class="hljs-name">sex</span>&#125;&#125;</span><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span></span><br><span class="language-xml"><span class="language-handlebars">        `,</span></span><br><span class="language-xml"><span class="language-handlebars">        data()&#123;</span></span><br><span class="language-xml"><span class="language-handlebars">            return &#123;</span></span><br><span class="language-xml"><span class="language-handlebars">                name: &#x27;张三&#x27;,</span></span><br><span class="language-xml"><span class="language-handlebars">                sex: &#x27;男&#x27;,</span></span><br><span class="language-xml"><span class="language-handlebars">            &#125;</span></span><br><span class="language-xml"><span class="language-handlebars">        &#125;</span></span><br><span class="language-xml"><span class="language-handlebars">    &#125;)</span></span><br><span class="language-xml"><span class="language-handlebars">    const vm = new Vue(&#123;</span></span><br><span class="language-xml"><span class="language-handlebars">        el:&#x27;#root&#x27;,</span></span><br><span class="language-xml"><span class="language-handlebars">        // 局部注册</span></span><br><span class="language-xml"><span class="language-handlebars">        components:&#123;</span></span><br><span class="language-xml"><span class="language-handlebars">            school,</span></span><br><span class="language-xml"><span class="language-handlebars">            stu</span></span><br><span class="language-xml"><span class="language-handlebars">        &#125;</span></span><br><span class="language-xml"><span class="language-handlebars">    &#125;)</span></span><br><span class="language-xml"><span class="language-handlebars"></span></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>



<p>组件需要复用，故<code>data</code>应写成函数，并把数据包裹在返回值中</p>
<p>全局组件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> hello = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">extend</span>(&#123;<br>	<span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;我是hello&#x27;</span>, <span class="hljs-comment">// 指定在开发者工具中的名字</span><br>    <span class="hljs-attr">template</span>:<span class="hljs-string">`&lt;div&gt;&#123;&#123; hello &#125;&#125;&lt;/div&gt;`</span>,<br>    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">return</span> &#123;<br>            <span class="hljs-attr">hello</span>: <span class="hljs-string">&#x27;hello&#x27;</span><br>        &#125;<br>    &#125;<br>&#125;)<br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">component</span>(<span class="hljs-string">&#x27;hello&#x27;</span>, hello)<br></code></pre></td></tr></table></figure>

<p><code>const hello = Vue.extend(&#123;&#125;)</code>可以简写为：<code>const hello = &#123;&#125;</code></p>
<h5 id="props"><a href="#props" class="headerlink" title="props"></a>props</h5><p>父组件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;StudentCom name=&quot;张三&quot; sex=&quot;男&quot; age=&quot;18&quot;&gt;&lt;/StudentCom&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import StudentCom from &#x27;./components/StudentCom.vue&#x27;<br><br>export default &#123;<br>  name: &#x27;App&#x27;,<br>  components: &#123;<br>    StudentCom<br>  &#125;<br>&#125;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br><br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<p>子组件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;div&gt;<br>        &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;/h1&gt;<br>        &lt;h2&gt;学生姓名：&#123;&#123; name &#125;&#125;&lt;/h2&gt;<br>        &lt;h2&gt;学生性别：&#123;&#123; sex &#125;&#125;&lt;/h2&gt;<br>        &lt;h2&gt;学生年龄：&#123;&#123; age &#125;&#125;&lt;/h2&gt;<br>    &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>    name: &#x27;StudentCom&#x27;,<br>    data() &#123;<br>        return &#123;<br>            msg:&#x27;我是一个普通的学生&#x27;<br>        &#125;<br>    &#125;,<br>    props: [&#x27;name&#x27;, &#x27;age&#x27;, &#x27;sex&#x27;]<br>&#125;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br><br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<p>上面父组件的传参写法中，传出的只能是字符串，</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">StudentCom</span> <span class="hljs-attr">:name</span>=<span class="hljs-string">&quot;张三&quot;</span> <span class="hljs-attr">:sex</span>=<span class="hljs-string">&quot;男&quot;</span> <span class="hljs-attr">:age</span>=<span class="hljs-string">&quot;18&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">StudentCom</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>这样，传出去的是表达式</p>
<p>对于子组件，这些数据是<strong>只读</strong>的</p>
<h5 id="mixin"><a href="#mixin" class="headerlink" title="mixin"></a>mixin</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;div&gt;<br>        &lt;h1&gt;&#123;&#123; msg &#125;&#125;&lt;/h1&gt;<br>        &lt;h2&gt;学生姓名：&#123;&#123; name &#125;&#125;&lt;/h2&gt;<br>        &lt;h2&gt;学生性别：&#123;&#123; sex &#125;&#125;&lt;/h2&gt;<br>        &lt;h2&gt;学生年龄：&#123;&#123; age &#125;&#125;&lt;/h2&gt;<br>        &lt;button @click=&quot;showName&quot;&gt;点击展示姓名&lt;/button&gt;<br>    &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import &#123;hunhe&#125; from &#x27;../minin.js&#x27;<br>export default &#123;<br>    name: &#x27;StudentCom&#x27;,<br>    data() &#123;<br>        return &#123;<br>            msg:&#x27;我是一个普通的学生&#x27;<br>        &#125;<br>    &#125;,<br>    mixins:[hunhe],<br>&#125;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br><br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// mixin.js</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> hunhe = &#123;<br>    <span class="hljs-attr">methods</span>: &#123;<br>        <span class="hljs-title function_">showName</span>(<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-title function_">alert</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">msg</span>)<br>        &#125;<br>    &#125;,<br>    <span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;泥嚎呀&#x27;</span>)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>完成属性的复用</p>
<p>全局混合：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// main.js</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">mixin</span>(hunhe)<br></code></pre></td></tr></table></figure>

<h5 id="插件"><a href="#插件" class="headerlink" title="插件"></a>插件</h5><p>定义：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// src/plugins.js</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;<br>	<span class="hljs-title function_">install</span>(<span class="hljs-params">Vue,x,y,z</span>)&#123;<br>		<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(x,y,z)<br>		<span class="hljs-comment">//全局过滤器</span><br>		<span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-string">&#x27;mySlice&#x27;</span>,<span class="hljs-keyword">function</span>(<span class="hljs-params">value</span>)&#123;<br>			<span class="hljs-keyword">return</span> value.<span class="hljs-title function_">slice</span>(<span class="hljs-number">0</span>,<span class="hljs-number">4</span>)<br>		&#125;)<br><br>		<span class="hljs-comment">//定义全局指令</span><br>		<span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">directive</span>(<span class="hljs-string">&#x27;fbind&#x27;</span>,&#123;<br>			<span class="hljs-comment">//指令与元素成功绑定时（一上来）</span><br>			<span class="hljs-title function_">bind</span>(<span class="hljs-params">element,binding</span>)&#123;<br>				element.<span class="hljs-property">value</span> = binding.<span class="hljs-property">value</span><br>			&#125;,<br>			<span class="hljs-comment">//指令所在元素被插入页面时</span><br>			<span class="hljs-title function_">inserted</span>(<span class="hljs-params">element,binding</span>)&#123;<br>				element.<span class="hljs-title function_">focus</span>()<br>			&#125;,<br>			<span class="hljs-comment">//指令所在的模板被重新解析时</span><br>			<span class="hljs-title function_">update</span>(<span class="hljs-params">element,binding</span>)&#123;<br>				element.<span class="hljs-property">value</span> = binding.<span class="hljs-property">value</span><br>			&#125;<br>		&#125;)<br><br>		<span class="hljs-comment">//定义混入</span><br>		<span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">mixin</span>(&#123;<br>			<span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>				<span class="hljs-keyword">return</span> &#123;<br>					<span class="hljs-attr">x</span>:<span class="hljs-number">100</span>,<br>					<span class="hljs-attr">y</span>:<span class="hljs-number">200</span><br>				&#125;<br>			&#125;,<br>		&#125;)<br><br>		<span class="hljs-comment">//给Vue原型上添加一个方法（vm和vc就都能用了）</span><br>		<span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">hello</span> = <span class="hljs-function">()=&gt;</span>&#123;<span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;你好啊&#x27;</span>)&#125;<br>	&#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>使用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> plugins <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./plugins&#x27;</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(plugins, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<br></code></pre></td></tr></table></figure>



<h5 id="传参"><a href="#传参" class="headerlink" title="传参"></a>传参</h5><p>父：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div id=&quot;root&quot;&gt;<br>    &lt;div class=&quot;todo-container&quot;&gt;<br>      &lt;div class=&quot;todo-wrap&quot;&gt;<br>        &lt;MyHeader :addTodo=&quot;addTodo&quot; /&gt;<br>        &lt;MyList :todos=&quot;todos&quot; :deleteTodo=&quot;deleteTodo&quot; :checkTodo=&quot;checkTodo&quot; /&gt;<br>        &lt;MyFooter :todos=&quot;todos&quot; :changeDone=&quot;changeDone&quot; :clearAll=&quot;clearAll&quot;/&gt;<br>      &lt;/div&gt;<br>    &lt;/div&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import MyHeader from &#x27;./components/MyHeader.vue&#x27;;<br>import MyList from &quot;./components/MyList.vue&quot;;<br>import MyFooter from &#x27;./components/MyFooter.vue&#x27;;<br><br>export default &#123;<br>  name: &#x27;App&#x27;,<br>  data() &#123;<br>    return &#123;<br>      todos: [<br>        &#123; id: &#x27;001&#x27;, title: &#x27;抽烟&#x27;, done: true &#125;,<br>        &#123; id: &#x27;002&#x27;, title: &#x27;喝酒&#x27;, done: false &#125;,<br>        &#123; id: &#x27;003&#x27;, title: &#x27;烫头&#x27;, done: true &#125;,<br>      ],<br>    &#125;<br>  &#125;,<br>  methods: &#123;<br>    addTodo(todo) &#123;<br>      this.todos.unshift(todo)<br>    &#125;,<br>    checkTodo(id) &#123;<br>      this.todos.forEach((obj) =&gt; &#123;<br>        if (obj.id === id) obj.done = !obj.done<br>      &#125;)<br>    &#125;,<br>    deleteTodo(id) &#123;<br>      // this.todos.splice(this.todos.forEach(todo =&gt; todo.id === id), 1)<br>      this.todos = this.todos.filter(obj =&gt; obj.id !== id)<br>    &#125;,<br>    changeDone(done) &#123;<br>      this.todos.forEach(obj =&gt; &#123; obj.done = done &#125;)<br>    &#125;,<br>    clearAll() &#123;<br>      this.todos = this.todos.filter(obj =&gt; !obj.done)<br>    &#125;<br>  &#125;,<br>  components: &#123;<br>    MyHeader,<br>    MyList,<br>    MyFooter,<br>  &#125;<br>&#125;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div class=&quot;todo-footer&quot; v-show=&quot;numTodo&quot;&gt;<br>    &lt;label&gt;<br>      &lt;input type=&quot;checkbox&quot; v-model=&quot;isAll&quot;/&gt;<br>    &lt;/label&gt;<br>    &lt;span&gt;<br>      &lt;span&gt;已完成&#123;&#123; doneTodo &#125;&#125; &lt;/span&gt; / 全部&#123;&#123; numTodo &#125;&#125;<br>    &lt;/span&gt;<br>    &lt;button class=&quot;btn btn-danger&quot; @click=&quot;claerAllDone&quot;&gt;清除已完成任务&lt;/button&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>  name: &#x27;MyFooter&#x27;,<br>  props: [&#x27;todos&#x27;, &#x27;changeDone&#x27;, &#x27;clearAll&#x27;],<br>  methods: &#123;<br>    claerAllDone() &#123;<br>      this.clearAll()<br>    &#125;<br>  &#125;,<br>  computed: &#123;<br>    isAll: &#123;<br>      get() &#123;<br>        return this.doneTodo === this.numTodo &amp;&amp; this.numTodo<br>      &#125;,<br>      set(value) &#123;<br>        this.changeDone(value)<br>      &#125;<br>    &#125;,<br>    numTodo() &#123;<br>      return this.todos.length<br>    &#125;,<br>    doneTodo() &#123;<br>      // return this.todos.filter(obj=&gt;obj.done).length<br>      // console.log(this.todos.reduce((pre, now) =&gt; &#123;  pre + (now.done ? 1 : 0) &#125;, 1));<br>      return this.todos.reduce((pre, now) =&gt; pre + (now.done ? 1 : 0), 0)<br>    &#125;,<br>  &#125;<br>&#125;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h5 id="emit传参"><a href="#emit传参" class="headerlink" title="$emit传参"></a>$emit传参</h5><p>自定义事件</p>
<p>父<code>App.vue</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>&lt;aSchool @atguigu=&quot;demo&quot;/&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import aSchool from &#x27;./components/aSchool.vue&#x27;<br>export default &#123;<br>  name: &#x27;App&#x27;,<br>  data()&#123;<br>    return&#123;<br>      msg:&#x27;泥嚎&#x27;,<br>    &#125;<br>  &#125;,<br>  methods: &#123;<br>    demo(name) &#123;<br>      console.log(&#x27;传过来了: &#x27;, name);<br>    &#125;<br>  &#125;,<br>  components: &#123;<br>    aSchool,<br>  &#125;<br>&#125;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br><br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<p>子：<code>aSchool.vue</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;div&gt;<br>        &lt;div&gt;学校名称&#123;&#123; name &#125;&#125;&lt;/div&gt;<br>        &lt;div&gt;学校地址&#123;&#123; address &#125;&#125;&lt;/div&gt;<br>        &lt;button @click=&quot;send&quot;&gt;发送&lt;/button&gt;<br>        &lt;button @click=&quot;revoke&quot;&gt;取消&lt;/button&gt;<br>    &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br><br>export default &#123;<br>    name: &#x27;aSchool&#x27;,<br>    data() &#123;<br>        return &#123;<br>            name: &#x27;张飒&#x27;,<br>            address:&#x27;纽约&#x27;<br>        &#125;<br>    &#125;,<br>    methods: &#123;<br>        send() &#123;<br>            this.$emit(&#x27;atguigu&#x27;, this.name)<br>        &#125;,<br>        // 解绑<br>        revoke() &#123;<br>            this.$off(&#x27;atguigu&#x27;)<br>        &#125;<br>    &#125;<br>&#125;<br>&lt;/script&gt;<br><br>&lt;style&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<h5 id="总线"><a href="#总线" class="headerlink" title="总线"></a>总线</h5><p>适用于任意组件之间通信</p>
<ol>
<li><p>安装：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// main.js</span><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>    <span class="hljs-title function_">beforeCreate</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-title class_">Vue</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">$bus</span>=<span class="hljs-variable language_">this</span><br>    &#125;,<br>    ......<br>&#125;)<br></code></pre></td></tr></table></figure>
</li>
<li><p>使用：</p>
<ol>
<li><p>接收数据</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">methods</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-title function_">demo</span>(<span class="hljs-params">data</span>)&#123;......&#125;<br>&#125;<br>    <br><span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">$bus</span>.$on(<span class="hljs-string">&#x27;xxx&#x27;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">demo</span>)<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>提供数据：<code>this.$bus.$emit(&#39;xxx&#39;, 数据)</code></p>
</li>
</ol>
</li>
<li><p>销毁：在<code>beforeDestroy</code>中用<code>$off</code>解绑当前组件所用到的事件</p>
</li>
</ol>
<h5 id="消息订阅与发布"><a href="#消息订阅与发布" class="headerlink" title="消息订阅与发布"></a>消息订阅与发布</h5><p>使用<code>pubsub-js</code>库</p>
<p>任意组件之间调用函数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;div&gt;<br>        &lt;div&gt;学校名称&#123;&#123; name &#125;&#125;&lt;/div&gt;<br>        &lt;div&gt;学校地址&#123;&#123; address &#125;&#125;&lt;/div&gt;<br>        &lt;button @click=&quot;send&quot;&gt;发送&lt;/button&gt;<br>        &lt;button @click=&quot;revoke&quot;&gt;取消&lt;/button&gt;<br>    &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import pubsub from &#x27;pubsub-js&#x27;<br>export default &#123;<br>    name: &#x27;aSchool&#x27;,<br>    data() &#123;<br>        return &#123;<br>            name: &#x27;张飒&#x27;,<br>            address:&#x27;纽约&#x27;<br>        &#125;<br>    &#125;,<br>    methods: &#123;<br>        send() &#123;<br>            this.$emit(&#x27;atguigu&#x27;, this.name)<br>        &#125;,<br>        // 解绑<br>        revoke() &#123;<br>            this.$off(&#x27;atguigu&#x27;)<br>        &#125;<br>    &#125;,<br>    mounted() &#123;<br>        this.pubId= pubsub.subscribe(&#x27;hello&#x27;, function (num,a) &#123;<br>            console.log(&#x27;发出了订阅请求&#x27;, num,a);<br>        &#125;)<br>    &#125;,<br>    beforeDestroy() &#123;<br>        pubsub.unsubscribe(this.pubId)<br>    &#125;<br>&#125;<br>&lt;/script&gt;<br><br>&lt;style&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure>



<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;div&gt;<br>        &lt;div&gt;学校名称&#123;&#123; name &#125;&#125;&lt;/div&gt;<br>        &lt;div&gt;学校地址&#123;&#123; address &#125;&#125;&lt;/div&gt;<br>        &lt;button @click=&quot;send&quot;&gt;发送&lt;/button&gt;<br>        &lt;button @click=&quot;revoke&quot;&gt;取消&lt;/button&gt;<br>        &lt;button @click=&quot;sendPub&quot;&gt;发布&lt;/button&gt;<br>    &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import pubsub from &#x27;pubsub-js&#x27;<br>export default &#123;<br>    name: &#x27;aSchool&#x27;,<br>    data() &#123;<br>        return &#123;<br>            name: &#x27;张飒&#x27;,<br>            address:&#x27;纽约&#x27;<br>        &#125;<br>    &#125;,<br>    methods: &#123;<br>        send() &#123;<br>            this.$emit(&#x27;atguigu&#x27;, this.name)<br>        &#125;,<br>        // 解绑<br>        revoke() &#123;<br>            this.$off(&#x27;atguigu&#x27;)<br>        &#125;,<br>        sendPub() &#123;<br>            pubsub.publish(&#x27;hello&#x27;, 666)<br>        &#125;<br>    &#125;,<br>&#125;<br>&lt;/script&gt;<br><br>&lt;style&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<h5 id="nextTick"><a href="#nextTick" class="headerlink" title="$nextTick"></a>$nextTick</h5><ol>
<li>语法：<code>this.$nextTick(回调函数)</code></li>
<li>作用：在下一次DOM更新结束后执行其指定的回调</li>
<li>什么时候用：当改变数据后，要基于更新后的新DOM进行某些操作时，要在<code>nextTick</code>所指定的回调函数中执行</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">this</span>.$nextTick(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">inputT</span><br>&#125;)<br></code></pre></td></tr></table></figure>

<h5 id="动画-2"><a href="#动画-2" class="headerlink" title="动画"></a>动画</h5><h6 id="1"><a href="#1" class="headerlink" title="1"></a>1</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>	&lt;div&gt;<br>		&lt;button @click=&quot;isShow = !isShow&quot;&gt;显示/隐藏&lt;/button&gt;<br>		&lt;transition name=&quot;hello&quot; appear&gt;<br>			&lt;h1 v-show=&quot;isShow&quot;&gt;你好啊！&lt;/h1&gt;<br>		&lt;/transition&gt;<br>	&lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>	export default &#123;<br>		name:&#x27;MyTest&#x27;,<br>		data() &#123;<br>			return &#123;<br>				isShow:true<br>			&#125;<br>		&#125;,<br>	&#125;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>	h1&#123;<br>		background-color: orange;<br>	&#125;<br><br>	.hello-enter-active&#123;<br>		animation: atguigu 0.5s linear;<br>	&#125;<br><br>	.hello-leave-active&#123;<br>		animation: atguigu 0.5s linear reverse;<br>	&#125;<br><br>	@keyframes atguigu &#123;<br>		from&#123;<br>			transform: translateX(-100%);<br>		&#125;<br>		to&#123;<br>			transform: translateX(0px);<br>		&#125;<br>	&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<h6 id="2"><a href="#2" class="headerlink" title="2"></a>2</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>	&lt;div&gt;<br>		&lt;button @click=&quot;isShow = !isShow&quot;&gt;显示/隐藏&lt;/button&gt;<br>		&lt;transition-group name=&quot;hello&quot; appear&gt;<br>			&lt;h1 v-show=&quot;!isShow&quot; key=&quot;1&quot;&gt;你好啊！&lt;/h1&gt;<br>			&lt;h1 v-show=&quot;isShow&quot; key=&quot;2&quot;&gt;尚硅谷！&lt;/h1&gt;<br>		&lt;/transition-group&gt;<br>	&lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>	export default &#123;<br>		name:&#x27;MyTest&#x27;,<br>		data() &#123;<br>			return &#123;<br>				isShow:true<br>			&#125;<br>		&#125;,<br>	&#125;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>	h1&#123;<br>		background-color: orange;<br>	&#125;<br>	/* 进入的起点、离开的终点 */<br>	.hello-enter,.hello-leave-to&#123;<br>		transform: translateX(-100%);<br>	&#125;<br>	.hello-enter-active,.hello-leave-active&#123;<br>		transition: 0.5s linear;<br>	&#125;<br>	/* 进入的终点、离开的起点 */<br>	.hello-enter-to,.hello-leave&#123;<br>		transform: translateX(0);<br>	&#125;<br><br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<ul>
<li><p>离开时触发：</p>
<p><code>v-leave</code>, <code>v-leave-active</code>, <code>v-leave-to</code></p>
</li>
<li><p>进入时触发：</p>
<p><code>v-enter</code>, <code>v-enter-active</code>, <code>v-enter-to</code></p>
</li>
</ul>
<h4 id="Vuex"><a href="#Vuex" class="headerlink" title="Vuex"></a>Vuex</h4><p><a target="_blank" rel="noopener" href="https://vuex.vuejs.org/zh/">https://vuex.vuejs.org/zh/</a></p>
<h5 id="基础-1"><a href="#基础-1" class="headerlink" title="基础"></a>基础</h5><p><code>./src/store/index.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vuex&quot;</span>;<br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>);<br><br><span class="hljs-keyword">const</span> actions = &#123;<br>  <span class="hljs-comment">//   add(context, value) &#123;</span><br>  <span class="hljs-comment">//     context.commit(&quot;ADD&quot;, value);</span><br>  <span class="hljs-comment">//   &#125;,</span><br>  <span class="hljs-comment">//   subtract(context, value) &#123;</span><br>  <span class="hljs-comment">//     context.commit(&quot;SUBTRACT&quot;, value);</span><br>  <span class="hljs-comment">//   &#125;,</span><br>  <span class="hljs-title function_">addOdd</span>(<span class="hljs-params">context, value</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;context: &quot;</span>, context);<br>    <span class="hljs-keyword">if</span> (context.<span class="hljs-property">state</span>.<span class="hljs-property">sum</span> % <span class="hljs-number">2</span>) context.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;ADD&quot;</span>, value);<br>  &#125;,<br>  <span class="hljs-title function_">addWait</span>(<span class="hljs-params">context, value</span>) &#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      context.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;ADD&quot;</span>, value);<br>    &#125;, <span class="hljs-number">500</span>);<br>  &#125;,<br>&#125;;<br><br><span class="hljs-keyword">const</span> mutations = &#123;<br>  <span class="hljs-title function_">ADD</span>(<span class="hljs-params">state, value</span>) &#123;<br>    state.<span class="hljs-property">sum</span> += value;<br>  &#125;,<br>  <span class="hljs-title function_">SUBTRACT</span>(<span class="hljs-params">state, value</span>) &#123;<br>    state.<span class="hljs-property">sum</span> -= value;<br>  &#125;,<br>&#125;;<br><span class="hljs-keyword">const</span> state = &#123;<br>  <span class="hljs-attr">sum</span>: <span class="hljs-number">0</span>,<br>&#125;;<br><br><span class="hljs-keyword">const</span> getters = &#123;<br>  <span class="hljs-title function_">bigSum</span>(<span class="hljs-params">state</span>) &#123;<br>    <span class="hljs-keyword">return</span> state.<span class="hljs-property">sum</span> * <span class="hljs-number">10</span>;<br>  &#125;,<br>&#125;;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>  actions,<br>  mutations,<br>  state,<br>  getters,<br>&#125;);<br></code></pre></td></tr></table></figure>

<p><code>./src/main.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App.vue&#x27;</span><br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span><br><br><span class="hljs-keyword">import</span> store <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./store&#x27;</span>;<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-params">h</span> =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>  store,<br>&#125;).$mount(<span class="hljs-string">&#x27;#app&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p><code>./src/App.vue</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div&gt;<br>    &lt;MyCount&gt;&lt;/MyCount&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import MyCount from &#x27;./components/MyCount.vue&#x27;;<br><br>export default &#123;<br>  name: &#x27;App&#x27;,<br><br>  components: &#123;<br>    MyCount,<br>  &#125;<br>&#125;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>button &#123;<br>  margin-left: 10px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<p><code>./src/components/MyCount.vue</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;div&gt;<br>        &lt;h1&gt;当前求和为：&#123;&#123; $store.state.sum &#125;&#125;&lt;/h1&gt;<br>        &lt;h2&gt;他的十倍为：&#123;&#123; $store.getters.bigSum &#125;&#125;&lt;/h2&gt;<br>        &lt;select v-model.number=&quot;n&quot;&gt;<br>            &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;<br>            &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;<br>            &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;<br>        &lt;/select&gt;<br>        &lt;button @click=&quot;increment&quot;&gt;+&lt;/button&gt;<br>        &lt;button @click=&quot;decrement&quot;&gt;-&lt;/button&gt;<br>        &lt;button @click=&quot;incrementOdd&quot;&gt;当前求和为奇数再加&lt;/button&gt;<br>        &lt;button @click=&quot;incrementWait&quot;&gt;等一等再加&lt;/button&gt;<br>    &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br><br>export default &#123;<br>    name: &#x27;MyCount&#x27;,<br>    data() &#123;<br>        return &#123;<br>            n: 1,<br>        &#125;<br>    &#125;,<br>    methods: &#123;<br>        increment() &#123;<br>            console.log(&quot;this: &quot;, this);<br>            this.$store.commit(&#x27;ADD&#x27;, this.n)<br>        &#125;,<br>        decrement() &#123;<br>            this.$store.commit(&#x27;SUBTRACT&#x27;, this.n)<br>        &#125;,<br>        incrementOdd() &#123;<br>            this.$store.dispatch(&#x27;addOdd&#x27;, this.n)<br>        &#125;,<br>        incrementWait() &#123;<br>            this.$store.dispatch(&#x27;addWait&#x27;, this.n)<br>        &#125;,<br>    &#125;<br>&#125;<br>&lt;/script&gt;<br><br>&lt;style&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure>



<p>一个更轻松的写法，定义别名：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;div&gt;<br>        &lt;h1&gt;当前求和为：&#123;&#123; $store.state.sum &#125;&#125;&lt;/h1&gt;<br>        &lt;h2&gt;他的十倍为：&#123;&#123; $store.getters.bigSum &#125;&#125;&lt;/h2&gt;<br>        &lt;select v-model.number=&quot;n&quot;&gt;<br>            &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;<br>            &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;<br>            &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;<br>        &lt;/select&gt;<br>        &lt;button @click=&quot;increment&quot;&gt;+&lt;/button&gt;<br>        &lt;button @click=&quot;decrement&quot;&gt;-&lt;/button&gt;<br>        &lt;button @click=&quot;incrementOdd&quot;&gt;当前求和为奇数再加&lt;/button&gt;<br>        &lt;button @click=&quot;incrementWait&quot;&gt;等一等再加&lt;/button&gt;<br>        &lt;hr&gt;<br>        &lt;div&gt;&#123;&#123; he &#125;&#125;, &#123;&#123; xuexiao &#125;&#125;, &#123;&#123; kemu &#125;&#125;, &#123;&#123; shibei &#125;&#125;&lt;/div&gt;<br>        &lt;div&gt;&#123;&#123; sum&#125;&#125;, &#123;&#123; school &#125;&#125;, &#123;&#123; subject &#125;&#125;, &#123;&#123; bigSum &#125;&#125;&lt;/div&gt;<br>    &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import &#123;mapState, mapGetters&#125; from &#x27;vuex&#x27;<br>export default &#123;<br>    name: &#x27;MyCount&#x27;,<br>    data() &#123;<br>        return &#123;<br>            n: 1,<br>        &#125;<br>    &#125;,<br>    computed: &#123;<br>        ...mapState(&#123; he: &#x27;sum&#x27;, xuexiao: &#x27;school&#x27;, kemu: &#x27;subject&#x27; &#125;),<br>        ...mapState([&#x27;sum&#x27;, &#x27;school&#x27;, &#x27;subject&#x27;]),<br>        ...mapGetters(&#123;shibei:&#x27;bigSum&#x27;&#125;),<br>        ...mapGetters([&#x27;shibei&#x27;]),<br>    &#125;,<br>    methods: &#123;<br>        increment() &#123;<br>            console.log(&quot;this: &quot;, this);<br>            this.$store.commit(&#x27;ADD&#x27;, this.n)<br>        &#125;,<br>        decrement() &#123;<br>            this.$store.commit(&#x27;SUBTRACT&#x27;, this.n)<br>        &#125;,<br>        incrementOdd() &#123;<br>            this.$store.dispatch(&#x27;addOdd&#x27;, this.n)<br>        &#125;,<br>        incrementWait() &#123;<br>            this.$store.dispatch(&#x27;addWait&#x27;, this.n)<br>        &#125;,<br>    &#125;<br>&#125;<br>&lt;/script&gt;<br><br>&lt;style&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<p><code>Mutations</code>和<code>Actions</code>也可以映射：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;div&gt;<br>        &lt;h1&gt;当前求和为：&#123;&#123; $store.state.sum &#125;&#125;&lt;/h1&gt;<br>        &lt;h2&gt;他的十倍为：&#123;&#123; $store.getters.bigSum &#125;&#125;&lt;/h2&gt;<br>        &lt;select v-model.number=&quot;n&quot;&gt;<br>            &lt;option value=&quot;1&quot;&gt;1&lt;/option&gt;<br>            &lt;option value=&quot;2&quot;&gt;2&lt;/option&gt;<br>            &lt;option value=&quot;3&quot;&gt;3&lt;/option&gt;<br>        &lt;/select&gt;<br>        &lt;button @click=&quot;increment(n)&quot;&gt;+&lt;/button&gt;<br>        &lt;button @click=&quot;decrement(n)&quot;&gt;-&lt;/button&gt;<br>        &lt;button @click=&quot;incrementOdd(n)&quot;&gt;当前求和为奇数再加&lt;/button&gt;<br>        &lt;button @click=&quot;incrementWait(n)&quot;&gt;等一等再加&lt;/button&gt;<br>        &lt;hr&gt;<br>        &lt;div&gt;&#123;&#123; he &#125;&#125;, &#123;&#123; xuexiao &#125;&#125;, &#123;&#123; kemu &#125;&#125;, &#123;&#123; shibei &#125;&#125;&lt;/div&gt;<br>        &lt;div&gt;&#123;&#123; sum&#125;&#125;, &#123;&#123; school &#125;&#125;, &#123;&#123; subject &#125;&#125;, &#123;&#123; bigSum &#125;&#125;&lt;/div&gt;<br>    &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import &#123;mapState, mapGetters, mapActions, mapMutations&#125; from &#x27;vuex&#x27;<br>export default &#123;<br>    name: &#x27;MyCount&#x27;,<br>    data() &#123;<br>        return &#123;<br>            n: 1,<br>        &#125;<br>    &#125;,<br>    computed: &#123;<br>        ...mapState(&#123; he: &#x27;sum&#x27;, xuexiao: &#x27;school&#x27;, kemu: &#x27;subject&#x27; &#125;),<br>        ...mapState([&#x27;sum&#x27;, &#x27;school&#x27;, &#x27;subject&#x27;]),<br>        ...mapGetters(&#123;shibei:&#x27;bigSum&#x27;&#125;),<br>        ...mapGetters([&#x27;bigSum&#x27;]),<br>    &#125;,<br>    methods: &#123;<br>        ...mapMutations(&#123;increment:&#x27;ADD&#x27;, decrement:&#x27;SUBTRACT&#x27;&#125;),<br>        ...mapActions(&#123; incrementOdd: &#x27;addOdd&#x27;, incrementWait: &#x27;addWait&#x27; &#125;)<br>        // increment() &#123;<br>        //     console.log(&quot;this: &quot;, this);<br>        //     this.$store.commit(&#x27;ADD&#x27;, this.n)<br>        // &#125;,<br>        // decrement() &#123;<br>        //     this.$store.commit(&#x27;SUBTRACT&#x27;, this.n)<br>        // &#125;,<br>        // incrementOdd() &#123;<br>        //     this.$store.dispatch(&#x27;addOdd&#x27;, this.n)<br>        // &#125;,<br>        // incrementWait() &#123;<br>        //     this.$store.dispatch(&#x27;addWait&#x27;, this.n)<br>        // &#125;,<br>    &#125;<br>&#125;<br>&lt;/script&gt;<br><br>&lt;style&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<h5 id="蓝桥"><a href="#蓝桥" class="headerlink" title="蓝桥"></a>蓝桥</h5><p>引入：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://unpkg.com/vuex&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-comment">// 导入Vuex包</span></span><br><span class="language-javascript"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vuex&#x27;</span></span><br><span class="language-javascript"><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>)</span><br><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-comment">//创建store对象</span></span><br><span class="language-javascript"><span class="hljs-keyword">const</span> store = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;</span><br><span class="language-javascript">    <span class="hljs-comment">// store中存放的就是全局共享的数据</span></span><br><span class="language-javascript">    <span class="hljs-attr">state</span>: &#123;<span class="hljs-attr">count</span>: <span class="hljs-number">0</span>&#125;,</span><br><span class="language-javascript">&#125;)</span><br><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">    <span class="hljs-attr">el</span>:<span class="hljs-string">&#x27;#app&#x27;</span>,</span><br><span class="language-javascript">    <span class="hljs-attr">render</span>: <span class="hljs-function"><span class="hljs-params">h</span>=&gt;</span><span class="hljs-title function_">h</span>(app),<span class="hljs-comment">//渲染app和组件</span></span><br><span class="language-javascript">    router,<span class="hljs-comment">//挂载路由</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 将创建的共享数据对象，挂载到Vue实例中</span></span><br><span class="language-javascript">    <span class="hljs-comment">// 所有的组件，就可以直接总store中获取全局的数据</span></span><br><span class="language-javascript">    store</span><br><span class="language-javascript">&#125;)</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>在一个模块化的打包系统中，我们必须显式地通过 <code>Vue.use()</code> 来安装 Vuex：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vuex&quot;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>);<br></code></pre></td></tr></table></figure>

<p>Vuex 中有五个核心概念，它们分别是 <a target="_blank" rel="noopener" href="https://v3.vuex.vuejs.org/zh/guide/state.html">State</a>、<a target="_blank" rel="noopener" href="https://v3.vuex.vuejs.org/zh/guide/getters.html">Getters</a>、<a target="_blank" rel="noopener" href="https://v3.vuex.vuejs.org/zh/guide/mutations.html">Mutations</a>、<a target="_blank" rel="noopener" href="https://v3.vuex.vuejs.org/zh/guide/actions.html">Actions</a> 和 <a target="_blank" rel="noopener" href="https://v3.vuex.vuejs.org/zh/guide/modules.html">Modules</a>。</p>
<p>首先，在 <code>main.js</code> 文件中写入以下代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./App.vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vuex</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vuex&quot;</span>; <span class="hljs-comment">// 导入 Vuex</span><br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">Vuex</span>); <span class="hljs-comment">// 使用 Vuex，让 Vuex 可以访问到 Vue</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span>;<br><br><span class="hljs-comment">// 创建 Store 实例</span><br><span class="hljs-keyword">const</span> store = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>  <span class="hljs-attr">state</span>: &#123;<br>    <span class="hljs-attr">count</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// 计数器的初始值</span><br>  &#125;,<br>&#125;);<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  store, <span class="hljs-comment">// 注入 Store</span><br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>&#125;).$mount(<span class="hljs-string">&quot;#app&quot;</span>);<br></code></pre></td></tr></table></figure>

<p>有同学可能会问：为啥不叫 vuex 而是 store 呢？🤔</p>
<p>这是因为，Vuex 应用的核心就是 store（仓库）。它是一个用于存储组件共享状态（state）的容器，就像一个小型的数据仓库。它所有的功能和操作都是用于处理这个仓库中的状态而存在的，所以我们在创建 Vuex 配置的时候都是以 store 命名。</p>
<p>接下来，我们在 <code>App.vue</code> 中将计数器的状态展示出来，在文件中写入以下代码。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span>&#123;&#123;count&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> &#123;</span><br><span class="language-javascript">    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;App&quot;</span>,</span><br><span class="language-javascript">    <span class="hljs-comment">// 通过计算属性来访问 count</span></span><br><span class="language-javascript">    <span class="hljs-attr">computed</span>: &#123;</span><br><span class="language-javascript">      <span class="hljs-title function_">count</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-property">state</span>.<span class="hljs-property">count</span>;</span><br><span class="language-javascript">      &#125;,</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">  &#125;;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>来这里我们就可以在页面上访问到 count 的数据了，当前页面会显示 0。</p>
<p>接下来，我们要实现点击按钮计数的功能，每点一次按钮数据 +1。</p>
<p>在 <code>App.vue</code> 文件中定义一个按钮，新增代码如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-comment">&lt;!--绑定一个点击事件，用 increment 来执行 count++ 的逻辑--&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;$store.commit(&#x27;increment&#x27;)&quot;</span>&gt;</span>++<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>我们在 <code>main.js</code> 文件中增加 <code>mutations</code>，代码如下：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> store = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>  <span class="hljs-comment">// 此处省略 ...</span><br>  <span class="hljs-attr">mutations</span>: &#123;<br>    <span class="hljs-title function_">increment</span>(<span class="hljs-params">state</span>) &#123;<br>      state.<span class="hljs-property">count</span>++; <span class="hljs-comment">// 执行 count++ 的操作</span><br>    &#125;,<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure>

<p>计数器的功能就实现啦～ 🎉 效果如下：</p>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/6166336bf2d9cde9377a48e254cb9099-0.gif" srcset="/img/loading.gif" lazyload alt="图片描述"></p>
<p>到此我们已经实现了一个最简单的 Vuex 状态管理，从上面的使用我们可以看出 <code>state</code> 就是用来存储和初始化状态。</p>
<p>通过上面简单的示例，我们知道了 Vuex 主要是用来存储并管理组件共享状态的。</p>
<p>有时候我们需要向后台发出一些异步请求，我们不能直接在 <code>mutations</code> 里进行操作，这时就可以在 <code>actions</code> 中定义一些异步操作。</p>
<p>下面我们来模拟一下异步操作，在页面上新增一个按钮，触发 <code>count--</code> 的操作。在 <code>App.vue</code> 中新增以下代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;$store.dispatch(&#x27;decrement&#x27;)&quot;</span>&gt;</span>--<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br></code></pre></td></tr></table></figure>

<blockquote>
<p>注意哦！！！ Actions 是通过 <code>store.dispatch</code> 方法来触发 <code>actions</code> 更新 <code>state</code> 状态。</p>
</blockquote>
<p>在 <code>main.js</code> 文件中新增以下内容。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> store = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>  <span class="hljs-attr">mutations</span>: &#123;<br>    <span class="hljs-title function_">decrement</span>(<span class="hljs-params">state</span>) &#123;<br>      state.<span class="hljs-property">count</span>--;<br>    &#125;,<br>  &#125;,<br>  <span class="hljs-attr">actions</span>: &#123;<br>    <span class="hljs-title function_">decrement</span>(<span class="hljs-params">&#123; commit &#125;</span>) &#123;<br>      <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-comment">// 通过 commit 交给 mutations 去处理</span><br>        <span class="hljs-title function_">commit</span>(<span class="hljs-string">&quot;decrement&quot;</span>);<br>      &#125;, <span class="hljs-number">500</span>);<br>    &#125;,<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure>

<p>到这里我们 <code>count--</code> 的功能也实现了，效果如下：</p>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/23828431d3d026838a875127d37f4ca2-0.gif" srcset="/img/loading.gif" lazyload alt="图片描述"></p>
<p>&#x3D;&#x3D;actions 与 mutations 的区别&#x3D;&#x3D;</p>
<p><code>actions</code> 类似于 <code>mutations</code>，不同的是：</p>
<ul>
<li><code>actions</code> 中的更新函数最终仍是通过调用 <code>mutations</code> 中的函数来更新状态的，不能通过它直接变更状态。</li>
<li>与 <code>mutations</code> 不同，<code>actions</code> 中可以包含任意异步操作。</li>
</ul>
<p>关于 <code>mutations</code>、<code>actions</code> 等的用法还有其它形式，这些在官网上都有详细的 API，大家可以根据<a target="_blank" rel="noopener" href="https://next.vuex.vuejs.org/zh/guide/actions.html">官网 API</a> 对它们进行更多更深入的了解，这里就不再一一细说了。</p>
<p><code>getters</code> 可以帮助我们缓存数据。</p>
<p>我们增加一个每次计数增加两倍的功能，在 <code>main.js</code> 中新增以下代码：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">getters</span>: &#123;<br>    <span class="hljs-title function_">doubleCount</span>(<span class="hljs-params">state</span>) &#123;<br>      <span class="hljs-keyword">return</span> state.<span class="hljs-property">count</span> * <span class="hljs-number">2</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>然后在页面上获取数据，在 <code>App</code> 文件中新增以下代码：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html">&#123;&#123;$store.getters.doubleCount&#125;&#125;<br></code></pre></td></tr></table></figure>

<p>这样，当点击 ++ 按钮时，计数会以乘 2 的形式增加。效果如下：</p>
<p><a src="https://vuex.vuejs.org/zh/guide/">Vuex官方文档</a></p>
<p>你不能直接改变 store 中的状态。改变 store 中的状态的唯一途径就是显式地<strong>提交 (commit) mutation</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; createApp &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> &#123; createStore &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vuex&#x27;</span><br><br><span class="hljs-comment">// 创建一个新的 store 实例</span><br><span class="hljs-keyword">const</span> store = <span class="hljs-title function_">createStore</span>(&#123;<br>  state () &#123;<br>    <span class="hljs-keyword">return</span> &#123;<br>      <span class="hljs-attr">count</span>: <span class="hljs-number">0</span><br>    &#125;<br>  &#125;,<br>  <span class="hljs-attr">mutations</span>: &#123;<br>    increment (state) &#123;<br>      state.<span class="hljs-property">count</span>++<br>    &#125;<br>  &#125;<br>&#125;)<br><br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(&#123; <span class="hljs-comment">/* 根组件 */</span> &#125;)<br><br><span class="hljs-comment">// 将 store 实例作为插件安装</span><br>app.<span class="hljs-title function_">use</span>(store)<br></code></pre></td></tr></table></figure>

<p>现在，你可以通过 <code>store.state</code> 来获取状态对象，并通过 <code>store.commit</code> 方法触发状态变更：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js">store.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&#x27;increment&#x27;</span>)<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(store.<span class="hljs-property">state</span>.<span class="hljs-property">count</span>) <span class="hljs-comment">// -&gt; 1</span><br></code></pre></td></tr></table></figure>

<p>在 Vue 组件中， 可以通过 <code>this.$store</code> 访问store实例。现在我们可以从组件的方法提交一个变更：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">methods</span>: &#123;<br>  <span class="hljs-title function_">increment</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&#x27;increment&#x27;</span>)<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">$store</span>.<span class="hljs-property">state</span>.<span class="hljs-property">count</span>)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>组件之间共享数据的方式</p>
<ul>
<li>父向子传值：<code>v-bind</code>属性绑定</li>
<li>子向父传值：<code>v-on</code>事件绑定</li>
<li>兄弟组件之间共享数据：<code>EventBus</code><ul>
<li><code>$on</code>接收数据的那个组件</li>
<li><code>$emit</code>发送数据的按个组件</li>
</ul>
</li>
</ul>
<h6 id="State"><a href="#State" class="headerlink" title="State"></a>State</h6><p>State提供唯一的数据源，所有的共享数据都要放到state中</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> store = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vuex</span>.<span class="hljs-title class_">Store</span>(&#123;<br>    <span class="hljs-attr">state</span>: &#123;<span class="hljs-attr">count</span>: <span class="hljs-number">0</span>,&#125;,<br>&#125;)<br></code></pre></td></tr></table></figure>

<p>组件访问state中数据：</p>
<ul>
<li><code>this.$store.state.全局数据名称</code>  template实例中可以省掉<code>this</code></li>
<li><img src="前端笔记/image-20230325165358147.png" srcset="/img/loading.gif" lazyload width=700px></li>
</ul>
<img src="前端笔记/image-20230325170321186.png" srcset="/img/loading.gif" lazyload width=700px>

<img src='前端笔记/image-20230327210304577.png' width =700px >







<h4 id="路由"><a href="#路由" class="headerlink" title="路由"></a>路由</h4><h5 id="基础-2"><a href="#基础-2" class="headerlink" title="基础"></a>基础</h5><p>普通跳转：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:;&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;$router.push(&#x27;/login&#x27;)&quot;</span>&gt;</span>请先登录<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><code>./src/router/index.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 该文件专门用于创建整个应用的路由器</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">VueRouter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue-router&quot;</span>;<br><span class="hljs-comment">//引入组件</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">MyAbout</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../pages/MyAbout&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">MyHome</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../pages/MyHome&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">MyNews</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../pages/MyNews.vue&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">MyMessage</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;../pages/MyMessage.vue&quot;</span>;<br><br><span class="hljs-comment">//创建并暴露一个路由器</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">VueRouter</span>(&#123;<br>  <span class="hljs-attr">routes</span>: [<br>    &#123;<br>      <span class="hljs-attr">bane</span>:<span class="hljs-string">&#x27;guanyu&#x27;</span><br>      <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/about&quot;</span>,<br>      <span class="hljs-attr">component</span>: <span class="hljs-title class_">MyAbout</span>,<br>    &#125;,<br>    &#123;<br>      <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/home&quot;</span>,<br>      <span class="hljs-attr">component</span>: <span class="hljs-title class_">MyHome</span>,<br>      <span class="hljs-attr">children</span>: [<br>        &#123;<br>          <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;news&quot;</span>,<br>          <span class="hljs-attr">component</span>: <span class="hljs-title class_">MyNews</span>,<br>        &#125;,<br>        &#123;<br>          <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;message&quot;</span>,<br>          <span class="hljs-attr">component</span>: <span class="hljs-title class_">MyMessage</span>,<br>        &#125;,<br>      ],<br>    &#125;,<br>  ],<br>&#125;);<br></code></pre></td></tr></table></figure>

<p><code>./src/main.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">Vue</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App.vue&#x27;</span><br><span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./router&quot;</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-title class_">VueRouter</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue-router&#x27;</span>;<br><br><span class="hljs-title class_">Vue</span>.<span class="hljs-property">config</span>.<span class="hljs-property">productionTip</span> = <span class="hljs-literal">false</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">VueRouter</span>)<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">render</span>: <span class="hljs-function">(<span class="hljs-params">h</span>) =&gt;</span> <span class="hljs-title function_">h</span>(<span class="hljs-title class_">App</span>),<br>  <span class="hljs-attr">router</span>: router,<br>&#125;).$mount(<span class="hljs-string">&quot;#app&quot;</span>);<br></code></pre></td></tr></table></figure>

<p><code>./src/pages/Myhome.vue</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>	&lt;div&gt;<br>		&lt;h2&gt;Home组件内容&lt;/h2&gt;<br>		&lt;div&gt;<br>			&lt;ul class=&quot;nav nav-tabs&quot;&gt;<br>				&lt;li&gt;<br>					&lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/news&quot;&gt;News&lt;/router-link&gt;<br>				&lt;/li&gt;<br>				&lt;li&gt;<br>					&lt;router-link class=&quot;list-group-item&quot; active-class=&quot;active&quot; to=&quot;/home/message&quot;&gt;Message&lt;/router-link&gt;<br>				&lt;/li&gt;<br>			&lt;/ul&gt;<br>			&lt;ul&gt;<br>				&lt;router-view&gt;&lt;/router-view&gt;<br>			&lt;/ul&gt;<br>		&lt;/div&gt;<br>	&lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import &#123; RouterView &#125; from &#x27;vue-router&#x27;;<br><br>export default &#123;<br>    name: &#x27;MyHome&#x27;,<br>    components: &#123; RouterView &#125;<br>&#125;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<ul>
<li><code>router-view</code>用于渲染url匹配的子组件</li>
<li><code>router-link</code>可以当做<code>a</code>标签，其中的<code>to</code>指明了跳转目标</li>
</ul>
<p>只有在<code>setup</code>语法糖中才能使用<code>useRouter()</code>，其他地方可以这样：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/router&#x27;</span>;<br></code></pre></td></tr></table></figure>

<p><code>router/index.js</code>中：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createRouter</span>(&#123;......&#125;)<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> router<br></code></pre></td></tr></table></figure>



<p>这与下面的效果相同：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script setup&gt;<br>import &#123; useRouter &#125; from &#x27;vue-router&#x27;<br>const router = useRouter()<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>





<h5 id="query参数"><a href="#query参数" class="headerlink" title="query参数"></a>query参数</h5><p>发送：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">:to</span>=<span class="hljs-string">&quot;&#123;</span></span><br><span class="hljs-string"><span class="hljs-tag">	path:&#x27;/home/message/detail&#x27;,</span></span><br><span class="hljs-string"><span class="hljs-tag">	query:&#123;</span></span><br><span class="hljs-string"><span class="hljs-tag">		id:m.id,</span></span><br><span class="hljs-string"><span class="hljs-tag">        title:m.title</span></span><br><span class="hljs-string"><span class="hljs-tag">    &#125;</span></span><br><span class="hljs-string"><span class="hljs-tag">&#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>接收：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;ul&gt;<br>        &lt;li&gt;消息编号：&#123;&#123; $route.query.id &#125;&#125;&lt;/li&gt;<br>        &lt;li&gt;消息标题：&#123;&#123; $route.query.title &#125;&#125;&lt;/li&gt;<br>    &lt;/ul&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>export default &#123;<br>    name: &#x27;MyDetail&#x27;,<br>    mounted() &#123;<br>        console.log(this.$route)<br>    &#125;,<br>&#125;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h5 id="params参数"><a href="#params参数" class="headerlink" title="params参数"></a>params参数</h5><p><code>router/index.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js">&#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;xiangxi&quot;</span>,<br>	<span class="hljs-attr">path</span>: <span class="hljs-string">&quot;detail/:id/:title&quot;</span>,<br>    <span class="hljs-attr">component</span>: <span class="hljs-title class_">MyDetail</span>,<br>&#125;,<br></code></pre></td></tr></table></figure>

<p>使用：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">:to</span>=<span class="hljs-string">&quot;&#123;</span></span><br><span class="hljs-string"><span class="hljs-tag">	// path:&#x27;/home/message/detail&#x27;,</span></span><br><span class="hljs-string"><span class="hljs-tag">	name: &#x27;xiangxi&#x27;,</span></span><br><span class="hljs-string"><span class="hljs-tag">	params: &#123;</span></span><br><span class="hljs-string"><span class="hljs-tag">	id: m.id,</span></span><br><span class="hljs-string"><span class="hljs-tag">	title: m.title</span></span><br><span class="hljs-string"><span class="hljs-tag">	&#125;</span></span><br><span class="hljs-string"><span class="hljs-tag">&#125;&quot;</span>&gt;</span>&#123;&#123; m.title &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>读取：</p>
<p><code>&#123;&#123; $route.params.id &#125;&#125;</code></p>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20231004162939423.png" srcset="/img/loading.gif" lazyload alt="image-20231004162939423"></p>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20231004165105155.png" srcset="/img/loading.gif" lazyload alt="image-20231004165105155"></p>
<ol>
<li><code>$route</code> 是 Vue.js 中一个特殊的变量，它代表当前的路由状态</li>
<li>this.$router.push(path): 相当于点击路由链接(可以返回到当前路由界面)</li>
<li>this.$router.replace(path): 用新路由替换当前路由(不可以返回到当前路由界面)</li>
<li>this.$router.back(): 请求(返回)上一个记录路由</li>
<li>this.$router.go(-1): 请求(返回)上一个记录路由</li>
<li>this.$router.go(1): 请求下一个记录路由</li>
</ol>
<h5 id="缓存-keep-alive"><a href="#缓存-keep-alive" class="headerlink" title="缓存: keep-alive"></a>缓存: keep-alive</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">keep-alive</span> <span class="hljs-attr">:include</span>=<span class="hljs-string">&quot;[&#x27;MyNews&#x27;, &#x27;MyMessage&#x27;]&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">router-view</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">router-view</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">keep-alive</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>新的生命周期：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">activated</span>(<span class="hljs-params"></span>) &#123;<br>	<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;News组件被激活了&#x27;</span>)<br>	<span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span> = <span class="hljs-built_in">setInterval</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>		<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;@&#x27;</span>)<br>		<span class="hljs-variable language_">this</span>.<span class="hljs-property">opacity</span> -= <span class="hljs-number">0.01</span><br>		<span class="hljs-keyword">if</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">opacity</span> &lt;= <span class="hljs-number">0</span>) <span class="hljs-variable language_">this</span>.<span class="hljs-property">opacity</span> = <span class="hljs-number">1</span><br>	&#125;,<span class="hljs-number">16</span>)<br>&#125;,<br><span class="hljs-title function_">deactivated</span>(<span class="hljs-params"></span>) &#123;<br>	<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;News组件失活了&#x27;</span>)<br>	<span class="hljs-built_in">clearInterval</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">timer</span>)<br>&#125;,<br></code></pre></td></tr></table></figure>



<h5 id="路由守卫"><a href="#路由守卫" class="headerlink" title="路由守卫"></a>路由守卫</h5><p>对路由进行权限控制</p>
<h6 id="全局守卫"><a href="#全局守卫" class="headerlink" title="全局守卫"></a>全局守卫</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 全局前置守卫：初始化时、每次路由切换前执行</span><br>router.<span class="hljs-title function_">beforeEach</span>(<span class="hljs-function">(<span class="hljs-params">to,<span class="hljs-keyword">from</span>,next</span>) =&gt;</span> &#123;<br>	<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;beforeEach&#x27;</span>,to,<span class="hljs-keyword">from</span>)<br>	<span class="hljs-keyword">if</span>(to.<span class="hljs-property">meta</span>.<span class="hljs-property">isAuth</span>)&#123; <span class="hljs-comment">// 判断当前路由是否需要进行权限控制</span><br>		<span class="hljs-keyword">if</span>(<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&#x27;school&#x27;</span>) === <span class="hljs-string">&#x27;atguigu&#x27;</span>)&#123; <span class="hljs-comment">// 权限控制的具体规则</span><br>			<span class="hljs-title function_">next</span>()	<span class="hljs-comment">// 放行</span><br>		&#125;<span class="hljs-keyword">else</span>&#123;<br>			<span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;暂无权限查看&#x27;</span>)<br>		&#125;<br>	&#125;<span class="hljs-keyword">else</span>&#123;<br>		<span class="hljs-title function_">next</span>()	<span class="hljs-comment">// 放行</span><br>	&#125;<br>&#125;)<br><br><span class="hljs-comment">// 全局后置守卫：初始化时、每次路由切换后执行</span><br>router.<span class="hljs-title function_">afterEach</span>(<span class="hljs-function">(<span class="hljs-params">to,<span class="hljs-keyword">from</span></span>) =&gt;</span> &#123;<br>	<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;afterEach&#x27;</span>,to,<span class="hljs-keyword">from</span>)<br>	<span class="hljs-keyword">if</span>(to.<span class="hljs-property">meta</span>.<span class="hljs-property">title</span>)&#123; <br>		<span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = to.<span class="hljs-property">meta</span>.<span class="hljs-property">title</span> <span class="hljs-comment">//修改网页的title</span><br>	&#125;<span class="hljs-keyword">else</span>&#123;<br>		<span class="hljs-variable language_">document</span>.<span class="hljs-property">title</span> = <span class="hljs-string">&#x27;vue_test&#x27;</span><br>	&#125;<br>&#125;)<br></code></pre></td></tr></table></figure>

<h6 id="独享守卫"><a href="#独享守卫" class="headerlink" title="独享守卫"></a>独享守卫</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">beforeEnter</span>(<span class="hljs-params">to,<span class="hljs-keyword">from</span>,next</span>)&#123;<br>	<span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;beforeEnter&#x27;</span>,to,<span class="hljs-keyword">from</span>)<br>    <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&#x27;school&#x27;</span>) === <span class="hljs-string">&#x27;atguigu&#x27;</span>)&#123;<br>        <span class="hljs-title function_">next</span>()<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;暂无权限查看&#x27;</span>)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h6 id="组件内守卫"><a href="#组件内守卫" class="headerlink" title="组件内守卫"></a>组件内守卫</h6><p>使用带有参数的路由时需要注意的是，当用户从&#x2F;users&#x2F;johnny导航到&#x2F;users&#x2F;jolyne时，<strong>相同的组件实例将被重复使用</strong></p>
<p>因为两个路由都渲染同个组件，比起销毁再创建，复用则显得更加高效。不过，这也意味着<strong>组件的生命周期钩子不会被调用</strong>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//进入守卫：通过路由规则，进入该组件时被调用</span><br>beforeRouteEnter (to, <span class="hljs-keyword">from</span>, next) &#123;... <span class="hljs-title function_">next</span>()&#125;,<br><br><span class="hljs-comment">//离开守卫：通过路由规则，离开该组件时被调用</span><br>beforeRouteLeave (to, <span class="hljs-keyword">from</span>, next) &#123;... <span class="hljs-title function_">next</span>()&#125;,<br></code></pre></td></tr></table></figure>



<h5 id="蓝桥-1"><a href="#蓝桥-1" class="headerlink" title="蓝桥"></a>蓝桥</h5><p>引入：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">https://unpkg.com/vue-router@2.0.0/dist/vue-router.js<br></code></pre></td></tr></table></figure>

<p>我们通过一个单页面应用来看看 Vue-Router 的使用，其基本步骤如下所示：</p>
<ul>
<li>使用 <code>router-link</code> 组件来导航，其通过 <code>to</code> 属性来指定跳转链接（这相当于 HTML 中的 a 标签）。</li>
<li>使用 <code>router-view</code> 组件定义路由出口，路由匹配到的组件将会渲染到此处。</li>
<li>使用 <code>const routes = [&#123; path, component &#125;]</code> 来定义路由（路径和组件名）。</li>
<li>使用 <code>const router = new VueRouter(&#123;&#125;)</code> 来创建路由实例，在其中传入上一步定义的路由配置 <code>routes</code>。</li>
<li>创建和挂载根实例，在 <code>new Vue</code> 中挂载上一步创建的路由实例 <code>router</code>。</li>
</ul>
<p>步骤清楚了，我们来举个例子吧～</p>
<p>使用以下命令获取 Vue 和 Vue-Router 文件。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">wget https://labfile.oss.aliyuncs.com/courses/10532/vue-router.js<br></code></pre></td></tr></table></figure>

<p>新建一个 <code>index.html</code> 文件，在文件中写入以下内容：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;vue.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;vue-router.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>路由的使用<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- 使用 router-link 组件来导航 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/home&quot;</span>&gt;</span>首页<span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/hot&quot;</span>&gt;</span>热门<span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">router-link</span> <span class="hljs-attr">to</span>=<span class="hljs-string">&quot;/class&quot;</span>&gt;</span>分类<span class="hljs-tag">&lt;/<span class="hljs-name">router-link</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>      <span class="hljs-comment">&lt;!-- 路由出口 --&gt;</span><br>      <span class="hljs-comment">&lt;!-- 路由匹配到的组件将渲染在这里 --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">router-view</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">router-view</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> <span class="hljs-title class_">Home</span> = &#123; <span class="hljs-attr">template</span>: <span class="hljs-string">&quot;&lt;div&gt;首页&lt;/div&gt;&quot;</span> &#125;;</span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> <span class="hljs-title class_">Hot</span> = &#123; <span class="hljs-attr">template</span>: <span class="hljs-string">&quot;&lt;div&gt;热门&lt;/div&gt;&quot;</span> &#125;;</span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> <span class="hljs-title class_">Class</span> = &#123; <span class="hljs-attr">template</span>: <span class="hljs-string">&quot;&lt;div&gt;分类&lt;/div&gt;&quot;</span> &#125;;</span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-comment">// 定义路由</span></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> routes = [</span><br><span class="language-javascript">        &#123; <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/home&quot;</span>, <span class="hljs-attr">component</span>: <span class="hljs-title class_">Home</span> &#125;,</span><br><span class="language-javascript">        &#123; <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/hot&quot;</span>, <span class="hljs-attr">component</span>: <span class="hljs-title class_">Hot</span> &#125;,</span><br><span class="language-javascript">        &#123; <span class="hljs-attr">path</span>: <span class="hljs-string">&quot;/class&quot;</span>, <span class="hljs-attr">component</span>: <span class="hljs-title class_">Class</span> &#125;,</span><br><span class="language-javascript">      ];</span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-comment">// 创建 router 实例，然后传 routes 配置</span></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> router = <span class="hljs-keyword">new</span> <span class="hljs-title class_">VueRouter</span>(&#123;</span><br><span class="language-javascript">        routes,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-comment">// 创建和挂载根实例</span></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        router,</span><br><span class="language-javascript">      &#125;).$mount(<span class="hljs-string">&quot;#app&quot;</span>);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>效果如下所示：</p>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/c60ce628cc702cc13e22bfb688fbf9e0-0.gif" srcset="/img/loading.gif" lazyload alt="图片描述"></p>
<h2 id="小满VUE"><a href="#小满VUE" class="headerlink" title="小满VUE"></a>小满VUE</h2><h3 id="Vue3"><a href="#Vue3" class="headerlink" title="Vue3"></a>Vue3</h3><h4 id="数组更新检测"><a href="#数组更新检测" class="headerlink" title="数组更新检测"></a>数组更新检测</h4><p>一些操作数组的方法，编译会检测，从而会促使视图更新。</p>
<ul>
<li>变异方法</li>
</ul>
<ul>
<li><code>push()</code></li>
<li><code>pop()</code></li>
<li><code>shift()</code>  删除并返回第一个</li>
<li><code>unshift()</code>  向开头添加多个元素，返回新长度</li>
<li><code>splice()</code>   删除 &#x2F; 删除并添加</li>
<li><code>sort()</code></li>
<li><code>reverse()</code></li>
</ul>
<p>上面这些数组操作方法，会直接改变原始数组称为变异方法，会促使视图自动更新。</p>
<ul>
<li>替换数组</li>
</ul>
<p>学了 JavaScript 标准对象库，都知道有些数组方法是不直接改变原数组的，这里称它们为非变异方法，例如：filter()、slice()、concat()，它们都是返回一个新数组，那么，在 Vue 中使用到这些方法，怎么样才能促使视图更新呢？我们就必须使用数组替换法，将非变异方法返回的新数组直接赋值给的旧数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">this</span>.<span class="hljs-property">nav</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">nav</span>.<span class="hljs-title function_">slice</span>(<span class="hljs-number">1</span>, <span class="hljs-number">4</span>);<br></code></pre></td></tr></table></figure>

<ul>
<li>注意</li>
</ul>
<p>由于 JavaScript 的限制，Vue 不能检测以下变动的数组：</p>
<ol>
<li>当你利用索引直接设置一个项时，例如：<code>vm.items[indexOfItem] = newValue</code>。</li>
<li>当你修改数组的长度时，例如：<code>vm.items.length = newLength</code>。</li>
</ol>
<p>例子：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>  <span class="hljs-attr">data</span>: &#123;<br>    <span class="hljs-attr">items</span>: [<span class="hljs-string">&quot;a&quot;</span>, <span class="hljs-string">&quot;b&quot;</span>, <span class="hljs-string">&quot;c&quot;</span>],<br>  &#125;,<br>&#125;);<br>app.<span class="hljs-property">items</span>[<span class="hljs-number">1</span>] = <span class="hljs-string">&quot;x&quot;</span>; <span class="hljs-comment">// 不是响应性的</span><br>app.<span class="hljs-property">items</span>.<span class="hljs-property">length</span> = <span class="hljs-number">2</span>; <span class="hljs-comment">// 不是响应性的</span><br></code></pre></td></tr></table></figure>

<p>上去直接这样改值操作是没有问题的，但是不是响应式的，并不能触发视图更新，需要用其他方法代替。</p>
<p>例如这样的操作 <code>app.items[indexOfItem] = newValue</code> ，可以用以下两种代替。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// Vue.set</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">set</span>(vm.<span class="hljs-property">items</span>, indexOfItem, newValue);<br><span class="hljs-comment">// Array.prototype.splice</span><br>vm.<span class="hljs-property">items</span>.<span class="hljs-title function_">splice</span>(indexOfItem, <span class="hljs-number">1</span>, newValue);<br></code></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs html">// 不加括号<br><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;number in oddNumber&quot;</span>&gt;</span>&#123;&#123;number&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>computed: &#123;<br>          // 计算 numberArray 中为奇数的 oddNumber 奇数数组<br>          oddNumber: function () &#123;<br>            return this.numberArray.filter(function (number) &#123;<br>              return number % 2 === 1;<br>            &#125;);<br>          &#125;<br>//加括号<br><span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;number in getOddNumber()&quot;</span>&gt;</span>&#123;&#123;number&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>methods: &#123;<br>          // 定一个一个获取数组内奇数的方法 filter 数组对象的过滤方法<br>          getOddNumber: function () &#123;<br>            return this.numberArray.filter(function (number) &#123;<br>              return number % 2 === 1;<br>            &#125;);<br>          &#125;,<br>        &#125;<br></code></pre></td></tr></table></figure>

<h4 id="表单处理"><a href="#表单处理" class="headerlink" title="表单处理"></a>表单处理</h4><p><a target="_blank" rel="noopener" href="https://cn.vuejs.org/examples/#form-bindings">https://cn.vuejs.org/examples/#form-bindings</a></p>
<h5 id="v-module"><a href="#v-module" class="headerlink" title="v-module"></a>v-module</h5><ul>
<li>只适用于input标签</li>
<li>便捷地设置和获取表单元素的值</li>
<li>绑定的数据会和表单元素值相关联</li>
<li>绑定的数据 &lt;–&gt; 表单元素的值：双向绑定</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;div id=<span class="hljs-string">&quot;app&quot;</span>&gt;<br>    <span class="hljs-keyword">import</span> &#123;ref&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br>    &lt;input type=<span class="hljs-string">&quot;text&quot;</span> v-model=<span class="hljs-string">&quot;message&quot;</span> /&gt;<br>&lt;/div&gt;<br><br><span class="hljs-keyword">let</span> app=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>    <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#app&#x27;</span>,<br>    <span class="hljs-attr">data</span>: &#123;<br>        <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;黑馬程序員&quot;</span><br>    &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>

<h5 id="常用表单元素"><a href="#常用表单元素" class="headerlink" title="常用表单元素"></a>常用表单元素</h5><table>
<thead>
<tr>
<th>元素</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>input[type&#x3D;*]</td>
<td>文本输入框</td>
</tr>
<tr>
<td>textarea</td>
<td>多行文本</td>
</tr>
<tr>
<td>radio</td>
<td>单选按钮</td>
</tr>
<tr>
<td>checkbox</td>
<td>复选框</td>
</tr>
<tr>
<td>select</td>
<td>选择框</td>
</tr>
</tbody></table>
<p>&#x3D;&#x3D;注意&#x3D;&#x3D;</p>
<p><strong>注意一</strong>：<code>v-model</code> 会忽略所有表单元素的  <code>value</code>、<code>checked</code>、<code>selected</code> 特性的初始值而总是将 Vue 实例的数据作为数据来源。直接给元素 value 赋值不会生效的，你应该通过 JavaScript 在组件的 <code>data</code> 选项中声明初始值。</p>
<p><strong>注意二</strong>：<code>v-model</code> 在内部使用不同的属性为不同的输入元素并抛出不同的事件，具体体现我们在表单 <strong>修饰符小节</strong>，给大家说明：</p>
<ul>
<li><p>text 和 textarea 元素使用 <code>value</code> 属性和 <code>input</code> 事件（内部监听 input 事件）；</p>
</li>
<li><p>checkbox 和 radio 使用 <code>checked</code> 属性和 <code>change</code> 事件（内部监听 change 事件）；</p>
</li>
<li><p>select 字段将 <code>value</code> 作为 prop 并将 <code>change</code> 作为事件（内部监听 change 事件）。</p>
<p><strong>说明：</strong> change 和 input 区别就是，input 实时更新数据，change 不是实时更新</p>
</li>
</ul>
<h5 id="单选按钮"><a href="#单选按钮" class="headerlink" title="单选按钮"></a>单选按钮</h5><p>将单选按钮绑定到同一个 picked，即可完成数据绑定</p>
<p>当第一个单选被选中 picked 的值为第一个单选按钮的 value，</p>
<p>同样当第二个单选被选中 picked 的值为第二个单选按钮的 value。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>      <span class="hljs-comment">&lt;!-- 将单选按钮绑定到同一个 picked --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;one&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;One&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;picked&quot;</span> /&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;one&quot;</span>&gt;</span>One<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;radio&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;two&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;Two&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;picked&quot;</span> /&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;two&quot;</span>&gt;</span>Two<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">br</span> /&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Picked: &#123;&#123; picked &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">var</span> vue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">picked</span>: <span class="hljs-string">&quot;&quot;</span>,</span><br><span class="language-javascript">          &#125;;</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h5 id="复选框"><a href="#复选框" class="headerlink" title="复选框"></a>复选框</h5><p>复选框绑定的是一个布尔值（true or false），同样在复选框元素上使用 <code>v-model</code> 指令，在实例 data 中声明 checked，即可完成复选框数据的双向绑定。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;checked&quot;</span> /&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;checkbox&quot;</span>&gt;</span>&#123;&#123; checked &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-comment">// 绑定布尔值</span></span><br><span class="language-javascript">      <span class="hljs-keyword">var</span> vue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>:&#123;</span><br><span class="language-javascript">            <span class="hljs-attr">checked</span>: <span class="hljs-literal">false</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><code>v-module=&#39;check&#39;</code>表示</p>
<ul>
<li><p>当选中时，把<code>check = value</code>绑定</p>
</li>
<li><p>如果不存在<code>value</code>，则<code>check</code>为布尔值</p>
</li>
</ul>
<h5 id="修饰符"><a href="#修饰符" class="headerlink" title="修饰符"></a>修饰符</h5><p>&#x3D;&#x3D;lazy&#x3D;&#x3D;</p>
<p>开始介绍表单处理时，我们说了几点注意，不同的元素，使用的值不同，抛出的事件也不同。</p>
<p>可能开发中，我们不需要数据实时更新，那么，我们怎么将 input 事件与 change 事件替换，</p>
<p>可以使用 <strong>.lazy</strong> 修饰符，可以将抛出事件由 input 改为 change，使表单元素惰性更新，不实时更新。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>      <span class="hljs-comment">&lt;!--使用 .lazy 修饰符将文本框 抛出的事件改为 change 事件，不再实时更新，只有文本框失去焦点才更新数据 惰性更新 --&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model.lazy</span>=<span class="hljs-string">&quot;msg&quot;</span> /&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123;msg&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">var</span> vue = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">msg</span>: <span class="hljs-string">&quot;hello&quot;</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p><strong>只有文本框失去焦点才更新数据</strong></p>
<p>&#x3D;&#x3D;number&#x3D;&#x3D;</p>
<p>自动将用户的输入值转为数值类型</p>
<p>即使在  <code>type=&quot;number&quot;</code> 时，HTML 输入元素的值也会返回字符串（默认）</p>
<p>&#x3D;&#x3D;trim&#x3D;&#x3D;</p>
<p>过滤首尾空格</p>
<h4 id="响应式修改"><a href="#响应式修改" class="headerlink" title="响应式修改"></a>响应式修改</h4><p><img src="/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230902171945781.png" srcset="/img/loading.gif" lazyload alt="image-20230902171945781"></p>
<h4 id="Ref全家桶"><a href="#Ref全家桶" class="headerlink" title="Ref全家桶"></a>Ref全家桶</h4><h5 id="ref"><a href="#ref" class="headerlink" title="ref"></a>ref</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script  lang=&#x27;ts&#x27;&gt;<br>export default &#123;<br>  data()&#123;<br>    return&#123;<br>      age:18<br>    &#125;<br>  &#125;<br>&#125;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>以前，只有<code>age:18</code>这样的才是响应式对象</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>&lt;div&gt;&#123;&#123; Man &#125;&#125;&lt;/div&gt;<br>&lt;button @click=&quot;change&quot;&gt;&lt;/button&gt;<br>&lt;/template&gt;<br><br>&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import &#123; ref &#125; from &#x27;vue&#x27;<br>type M = &#123;<br>  name:string<br>&#125;<br>const Man = ref&lt;M&gt;(&#123; name: &#x27;小满&#x27; &#125;)<br><br>function change() &#123;<br>  Man.value.name = &#x27;慢慢慢&#x27;<br>  console.log(Man);<br>&#125;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br><br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<p>可以这样</p>
<ul>
<li><p><code>ref()</code>构造函数返回的对象有一个<code>value</code>属性，指向他的内部值</p>
<p><img src="/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230902210547501.png" srcset="/img/loading.gif" lazyload alt="image-20230902210547501"></p>
</li>
</ul>
<h5 id="isRef"><a href="#isRef" class="headerlink" title="isRef"></a>isRef</h5><p><code>isRef(Man)</code>：判断一个对象是不是<code>ref</code>对象</p>
<ul>
<li>isRef: 检查一个值是否为一个 ref 对象</li>
<li>isReactive: 检查一个对象是否是由 <code>reactive</code> 创建的响应式代理</li>
<li>isReadonly: 检查一个对象是否是由 <code>readonly</code> 创建的只读代理</li>
<li>isProxy: 检查一个对象是否是由 <code>reactive</code> 或者 <code>readonly</code> 方法创建的代理</li>
</ul>
<h5 id="shallowRef"><a href="#shallowRef" class="headerlink" title="shallowRef"></a>shallowRef</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import &#123; shallowRef &#125; from &#x27;vue&#x27;<br>const Man = shallowRef(&#123; name: &#x27;小满&#x27; &#125;)<br><br>function change() &#123;<br>  Man.value = &#123;<br>    name:&#x27;慢慢慢&#x27;<br>  &#125;<br>  console.log(Man);<br>&#125;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p><code>shallowRef</code>是浅层的响应式，属性需要直接挂载到<code>Man.value</code>上，它的响应式只到<code>.value</code>上</p>
<p>（内部会更新，但不会响应式地渲染到页面上）</p>
<p><strong>注意：</strong><code>ref</code>和<code>shallowRef</code>不可以混写，否则会影响<code>shallowRef</code>，造成视图的更新</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import &#123; ref, shallowRef &#125; from &#x27;vue&#x27;<br>const Man = ref(&#123; name: &#x27;小满&#x27; &#125;)<br>const Man2 = shallowRef(&#123; name: &#x27;小满&#x27; &#125;)<br><br>function change() &#123;<br>  Man.value.name = &#x27;慢慢慢&#x27;;<br>  Man2.value = &#x27;慢慢慢&#x27;;<br>  console.log(Man);<br>  console.log(Man2);<br>&#125;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h5 id="triggerRef"><a href="#triggerRef" class="headerlink" title="triggerRef"></a>triggerRef</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import &#123; ref, shallowRef, triggerRef &#125; from &#x27;vue&#x27;<br>const Man2 = shallowRef(&#123; name: &#x27;小满&#x27; &#125;)<br><br>function change() &#123;<br>  triggerRef(Man2);<br>  Man2.value.name = &#x27;慢慢慢&#x27;;<br>  console.log(Man2);<br>&#125;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p><code>triggerRef</code>会强制更新<code>shallowRef</code>对象</p>
<h5 id="customRef"><a href="#customRef" class="headerlink" title="customRef"></a>customRef</h5><ul>
<li><p>自定义ref </p>
</li>
<li><p>customRef 是个工厂函数要求我们返回一个对象 并且实现 get 和 set 适合去做防抖之类的</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import &#123; ref, reactive, onMounted, shallowRef, customRef &#125; from &#x27;vue&#x27;<br><br>function myRef&lt;T = any&gt;(value: T) &#123;<br>  let timer:any;<br>  return customRef((track, trigger) =&gt; &#123;<br>    return &#123;<br>      get() &#123;<br>        track()<br>        return value<br>      &#125;,<br>      set(newVal) &#123;<br>        clearTimeout(timer)<br>        timer =  setTimeout(() =&gt; &#123;<br>          console.log(&#x27;触发了set&#x27;)<br>          value = newVal<br>          trigger()<br>        &#125;,500)<br>      &#125;<br>    &#125;<br>  &#125;)<br>&#125;<br><br>const name = myRef&lt;string&gt;(&#x27;小满&#x27;)<br>const change = () =&gt; &#123;<br>  name.value = &#x27;大满&#x27;<br>&#125;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h5 id="模版引用"><a href="#模版引用" class="headerlink" title="模版引用"></a>模版引用</h5><p><code>ref</code>可以获取dom属性</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>  &lt;div ref=&quot;div&quot;&gt;小满Ref&lt;/div&gt;<br>  &lt;hr&gt;<br>  &lt;div ref=&quot;dom&quot;&gt;我是dom&lt;/div&gt;<br>  &lt;hr&gt;<br>  &lt;button @click=&quot;change&quot;&gt;修改 customRef&lt;/button&gt;<br>&lt;/template&gt;<br><br>&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import &#123; ref, reactive, onMounted, shallowRef, customRef &#125; from &#x27;vue&#x27;<br>const dom = ref&lt;HTMLDivElement&gt;()<br><br>const change = () =&gt; &#123;<br>  console.log(dom.value?.innerHTML);<br>&#125;<br><br>&lt;/script&gt;<br>&lt;style scoped&gt;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<p><code>ref=&#39;name&#39;</code>和<code>name=ref()</code>的name要求一致</p>
<h4 id="reactive全家桶"><a href="#reactive全家桶" class="headerlink" title="reactive全家桶"></a>reactive全家桶</h4><h5 id="reactive"><a href="#reactive" class="headerlink" title="reactive"></a>reactive</h5><ul>
<li><code>ref</code>支持所有类型，<code>reactive</code>只支持引用类型</li>
<li><code>ref</code>取值赋值都需要通过<code>.value</code>，<code>reactive</code>不需要</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;template&gt;<br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">      <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in list&quot;</span>&gt;</span>&#123;&#123; item &#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><br><span class="language-xml">    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click.prevent</span>=<span class="hljs-string">&quot;add&quot;</span>&gt;</span>添加<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><br><span class="language-xml">  <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>&lt;/template&gt;<br><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">setup</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&#x27;ts&#x27;</span>&gt;</span><span class="language-javascript"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">import</span> &#123;reactive&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">let</span> list = reactive&lt;string[]&gt;([])</span></span><br><span class="language-javascript"><span class="language-xml"></span></span><br><span class="language-javascript"><span class="language-xml"><span class="hljs-keyword">const</span> <span class="hljs-title function_">add</span> = (<span class="hljs-params"></span>) =&gt; [</span></span><br><span class="language-javascript"><span class="language-xml">  <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-keyword">let</span> res = [<span class="hljs-string">&quot;EDG&quot;</span>, <span class="hljs-string">&#x27;REW&#x27;</span>];</span></span><br><span class="language-javascript"><span class="language-xml">    list = res;</span></span><br><span class="language-javascript"><span class="language-xml">    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(list);</span></span><br><span class="language-javascript"><span class="language-xml">  &#125;, <span class="hljs-number">2000</span>)</span></span><br><span class="language-javascript"><span class="language-xml">]</span></span><br><span class="language-javascript"><span class="language-xml"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">scoped</span>&gt;</span></span><br><span class="language-xml"><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span></span><br></code></pre></td></tr></table></figure>

<p>这样并不能把res的内容渲染到list里面。因为<code>list</code>是<code>reactive proxy</code>值，不能直接复制，否则会破坏响应式对象</p>
<p>但是可以<code>push</code>：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">list.<span class="hljs-title function_">push</span>(..<span class="hljs-property">res</span>)<br></code></pre></td></tr></table></figure>

<h5 id="readonly"><a href="#readonly" class="headerlink" title="readonly"></a>readonly</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import &#123;reactive, readonly&#125; from &#x27;vue&#x27;<br>let obj = reactive(&#123; name: &#x27;小满&#x27; &#125;);<br>const read = readonly(obj)<br>// read.name=&#x27;sss&#x27;  // 无法为“name”赋值，因为它是只读属性。<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>这样可以改变<code>readonly</code>对象的属性</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import &#123;reactive, readonly&#125; from &#x27;vue&#x27;<br>let obj = reactive(&#123; name: &#x27;小满&#x27; &#125;);<br>const read = readonly(obj)<br>// read.name=&#x27;sss&#x27;<br><br>const show = () =&gt; &#123;<br>  obj.name = &#x27;sss&#x27;;<br>  console.log(obj, read);<br>&#125;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h5 id="shallowReactive"><a href="#shallowReactive" class="headerlink" title="shallowReactive"></a>shallowReactive</h5><p>浅层的<code>Reactive</code>：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>&lt;div&gt;<br>  &lt;form&gt;<br>    &lt;div&gt;&#123;&#123; obj &#125;&#125;&lt;/div&gt;<br>    &lt;button @click.prevent=&quot;show&quot;&gt;展示&lt;/button&gt;<br>  &lt;/form&gt;<br>&lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import &#123;reactive, readonly, shallowReactive&#125; from &#x27;vue&#x27;<br>let obj = shallowReactive(&#123;<br>  name: &#123;<br>    value: &#123;<br>      key: 1<br>    &#125;<br>  &#125;<br>&#125;)<br>const show = () =&gt; &#123;<br>  obj.name.value.key = 1111;<br>  console.log(obj);<br>&#125;<br>&lt;/script&gt;<br>&lt;style scoped&gt;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<p><code>shallowReactive</code>也会被<code>Reactive</code>修改</p>
<h4 id="to系列全家桶"><a href="#to系列全家桶" class="headerlink" title="to系列全家桶"></a>to系列全家桶</h4><h5 id="toRef"><a href="#toRef" class="headerlink" title="toRef"></a>toRef</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>&lt;div&gt;<br>  &lt;form&gt;<br>    &lt;div&gt;&#123;&#123; obj &#125;&#125;&lt;/div&gt;<br>    &lt;button @click.prevent=&quot;change&quot;&gt;展示&lt;/button&gt;<br>  &lt;/form&gt;<br>&lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import &#123;reactive, readonly, shallowReactive&#125; from &#x27;vue&#x27;<br>let obj = &#123;name:111&#125;<br>const change = () =&gt; &#123;<br>  obj.name = 12334;<br>  console.log(obj);<br>&#125;<br>&lt;/script&gt;<br>&lt;style scoped&gt;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<p>这样只能修改值，修改不了视图，<strong>不是响应式的</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import &#123;reactive, readonly, shallowReactive, toRef&#125; from &#x27;vue&#x27;<br>let obj = &#123; name: 111, like:&#x27;JK&#x27; &#125;<br>let like = toRef(obj, &#x27;like&#x27;); // toRef应该这样使用<br>const change = () =&gt; &#123;<br>  like.value = &#x27;百褶裙&#x27;; // 要加value才能访问属性<br>  console.log(obj);<br>&#125;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p>这样也不行，因为<code>toRef</code>只能用给响应式对象：</p>
<p><img src="/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230903113559397.png" srcset="/img/loading.gif" lazyload alt="image-20230903113559397"></p>
<p>这样是正确的</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import &#123;reactive, readonly, shallowReactive, toRef&#125; from &#x27;vue&#x27;<br>let obj = reactive(&#123; name: 111, like: &#x27;JK&#x27; &#125;);<br>let like = toRef(obj, &#x27;like&#x27;);<br>const change = () =&gt; &#123;<br>  like.value = &#x27;百褶裙&#x27;;<br>  console.log(obj);<br>&#125;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<p><img src="/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230903113814077.png" srcset="/img/loading.gif" lazyload alt="image-20230903113814077"></p>
<h5 id="toRefs"><a href="#toRefs" class="headerlink" title="toRefs"></a>toRefs</h5><p>对每个属性都调用一遍<code>toRef</code></p>
<p>手动实现：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs vue">const toRefs = &lt;T extends object&gt;(object: T) =&gt; &#123;<br>  const map: any = &#123;&#125;;<br>  for (let key in object) &#123;<br>    map[key]=toRef(object, key)<br>  &#125;<br>  return map;<br>&#125;<br></code></pre></td></tr></table></figure>

<h5 id="toRaw"><a href="#toRaw" class="headerlink" title="toRaw"></a>toRaw</h5><p>脱去代理</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(obj, <span class="hljs-title function_">toRaw</span>(obj));<br></code></pre></td></tr></table></figure>

<p><img src="/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230903115658432.png" srcset="/img/loading.gif" lazyload alt="image-20230903115658432"></p>
<h4 id="计算属性-2"><a href="#计算属性-2" class="headerlink" title="计算属性"></a>计算属性</h4><p>计算属性就是当依赖的属性的值发生变化的时候，才会触发他的更改，如果依赖的值，不发生变化的时候，使用的是缓存中的属性值。</p>
<p>在<code>script</code>中访问时要加上<code>.value</code></p>
<ol>
<li><p>函数形式（常用，只设置setter）</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; computed, reactive, ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">let</span> price = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)<span class="hljs-comment">//$0</span><br><br><span class="hljs-keyword">let</span> m = computed&lt;string&gt;(<span class="hljs-function">()=&gt;</span>&#123;<br>   <span class="hljs-keyword">return</span> <span class="hljs-string">`$`</span> + price.<span class="hljs-property">value</span><br>&#125;)<br><br>price.<span class="hljs-property">value</span> = <span class="hljs-number">500</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>对象形式</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>   &lt;div&gt;&#123;&#123; mul &#125;&#125;&lt;/div&gt;<br>   &lt;div @click=&quot;mul = 100&quot;&gt;click&lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup lang=&quot;ts&quot;&gt;<br>import &#123; computed, ref &#125; from &#x27;vue&#x27;<br>let price = ref&lt;number | string&gt;(1)//$0<br>let mul = computed(&#123;<br>   get: () =&gt; &#123;<br>      return price.value<br>   &#125;,<br>   set: (value) =&gt; &#123;<br>      price.value = &#x27;set&#x27; + value<br>   &#125;<br>&#125;)<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure></li>
</ol>
<h4 id="侦听属性"><a href="#侦听属性" class="headerlink" title="侦听属性"></a>侦听属性</h4><h5 id="watch"><a href="#watch" class="headerlink" title="watch"></a>watch</h5><p><code>watch</code> 需要侦听特定的数据源，并在单独的回调函数中执行副作用</p>
<ol>
<li><p>watch第一个参数监听源</p>
</li>
<li><p>watch第二个参数回调函数cb（newVal,oldVal）</p>
</li>
<li><p>watch第三个参数一个options配置项是一个对象：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">&#123;<br>    <span class="hljs-attr">immediate</span>:<span class="hljs-literal">true</span> <span class="hljs-comment">//是否立即调用一次</span><br>    <span class="hljs-attr">deep</span>:<span class="hljs-literal">true</span> <span class="hljs-comment">//是否开启深度监听</span><br>&#125;<br></code></pre></td></tr></table></figure></li>
</ol>
<ul>
<li>默认是浅层监听</li>
</ul>
<p>实例：</p>
<h6 id="监听一个"><a href="#监听一个" class="headerlink" title="监听一个"></a>监听一个</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; ref, watch &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><br><span class="hljs-keyword">let</span> message = <span class="hljs-title function_">ref</span>(&#123;<br>    <span class="hljs-attr">nav</span>:&#123;<br>        <span class="hljs-attr">bar</span>:&#123;<br>            <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;&quot;</span><br>        &#125;<br>    &#125;<br>&#125;)<br><br><span class="hljs-title function_">watch</span>(message, <span class="hljs-function">(<span class="hljs-params">newVal, oldVal</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;新的值----&#x27;</span>, newVal);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;旧的值----&#x27;</span>, oldVal);<br>&#125;,&#123;<br>    <span class="hljs-attr">immediate</span>:<span class="hljs-literal">true</span>,<br>    <span class="hljs-attr">deep</span>:<span class="hljs-literal">true</span><br>&#125;)<br></code></pre></td></tr></table></figure>

<h6 id="监听多个："><a href="#监听多个：" class="headerlink" title="监听多个："></a>监听多个：</h6><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; ref, watch ,reactive&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><br><span class="hljs-keyword">let</span> message = <span class="hljs-title function_">ref</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-keyword">let</span> message2 = <span class="hljs-title function_">ref</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><br><span class="hljs-title function_">watch</span>([message,message2], <span class="hljs-function">(<span class="hljs-params">newVal, oldVal</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;新的值----&#x27;</span>, newVal);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;旧的值----&#x27;</span>, oldVal);<br>&#125;)<br></code></pre></td></tr></table></figure>

<h6 id="监听Reactive"><a href="#监听Reactive" class="headerlink" title="监听Reactive"></a>监听Reactive</h6><p>使用reactive监听深层对象开启和不开启deep 效果一样</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; ref, watch ,reactive&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><br><span class="hljs-keyword">let</span> message = <span class="hljs-title function_">reactive</span>(&#123;<br>    <span class="hljs-attr">nav</span>:&#123;<br>        <span class="hljs-attr">bar</span>:&#123;<br>            <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;&quot;</span><br>        &#125;<br>    &#125;<br>&#125;)<br><span class="hljs-title function_">watch</span>(message, <span class="hljs-function">(<span class="hljs-params">newVal, oldVal</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;新的值----&#x27;</span>, newVal);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;旧的值----&#x27;</span>, oldVal);<br>&#125;)<br></code></pre></td></tr></table></figure>

<h6 id="只监听reactive的一个值"><a href="#只监听reactive的一个值" class="headerlink" title="只监听reactive的一个值"></a>只监听reactive的一个值</h6><p>需要是一个函数的返回值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; ref, watch ,reactive&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><br><span class="hljs-keyword">let</span> message = <span class="hljs-title function_">reactive</span>(&#123;<br>    <span class="hljs-attr">name</span>:<span class="hljs-string">&quot;&quot;</span>,<br>    <span class="hljs-attr">name2</span>:<span class="hljs-string">&quot;&quot;</span><br>&#125;)<br><span class="hljs-title function_">watch</span>(<span class="hljs-function">()=&gt;</span>message.<span class="hljs-property">name</span>, <span class="hljs-function">(<span class="hljs-params">newVal, oldVal</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;新的值----&#x27;</span>, newVal);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;旧的值----&#x27;</span>, oldVal);<br>&#125;)<br></code></pre></td></tr></table></figure>

<h5 id="watchEffect"><a href="#watchEffect" class="headerlink" title="watchEffect"></a>watchEffect</h5><p>详见：<a target="_blank" rel="noopener" href="https://xiaoman.blog.csdn.net/article/details/122802130">小满vue-watchEffect</a></p>
<p>（页面加载的时候会立即执行一次）</p>
<p>立即执行传入的一个函数，同时响应式追踪其依赖，并在其依赖变更时重新运行该函数。</p>
<p>如果用到message 就只会监听message 就是用到几个监听几个 而且是非惰性 会默认调用一次</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> message = ref&lt;string&gt;(<span class="hljs-string">&#x27;&#x27;</span>)<br><span class="hljs-keyword">let</span> message2 = ref&lt;string&gt;(<span class="hljs-string">&#x27;&#x27;</span>)<br> <span class="hljs-title function_">watchEffect</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-comment">//console.log(&#x27;message&#x27;, message.value);</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;message2&#x27;</span>, message2.<span class="hljs-property">value</span>);<br>&#125;)<br></code></pre></td></tr></table></figure>

<h4 id="组件-amp-生命周期"><a href="#组件-amp-生命周期" class="headerlink" title="组件&amp;生命周期"></a>组件&amp;生命周期</h4><p>引入：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> A form <span class="hljs-string">&#x27;./components/aaa.vue&#x27;</span><br></code></pre></td></tr></table></figure>

<p><code>A</code>可以为任意名称</p>
<p>使用：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;A&gt;&lt;/A&gt;<br>    &lt;A&gt;&lt;/A&gt;<br>&lt;/template&gt;<br></code></pre></td></tr></table></figure>

<p>生命周期：</p>
<ol>
<li><p>在setup语法糖模式下，没有<code>before</code>、<code>created</code>这两个生命周期，可以用<code>setup</code>代替</p>
</li>
<li><p>onBeforeMount()<br>在组件DOM实际渲染安装之前调用。在这一步中，根元素还不存在。</p>
</li>
<li><p>onMounted()<br>在组件的第一次渲染后调用，该元素现在可用，允许直接DOM访问<br><code>v-if</code>会触发这两个，但<code>v-show</code>不会</p>
</li>
<li><p>onBeforeUpdate()<br>数据更新时调用，发生在虚拟 DOM 打补丁之前。</p>
</li>
<li><p>onUpdated()<br>DOM更新后，updated的方法即会调用。</p>
</li>
<li><p>onBeforeUnmount()<br>在卸载组件实例之前调用。在这个阶段，实例仍然是完全正常的。</p>
</li>
<li><p>onUnmounted()<br>卸载组件实例后调用。调用此钩子时，组件实例的所有指令都被解除绑定，所有事件侦听器都被移除，所有子组件实例被卸载。</p>
</li>
</ol>
<h5 id="实操组件和认识less-sass-和-scoped"><a href="#实操组件和认识less-sass-和-scoped" class="headerlink" title="实操组件和认识less sass 和 scoped"></a>实操组件和认识less sass 和 scoped</h5><p>bem架构：</p>
<p>他是一种css架构 <strong>oocss 实现的一种 （面向对象css） ，</strong><code>BEM</code>实际上是<code>block</code>、<code>element</code>、<code>modifier</code>的缩写，分别为块层、元素层、修饰符层，element UI 也使用的是这种架构</p>
<p>BEM 命名约定的模式是：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.block</span> &#123;&#125;<br><br><span class="hljs-selector-class">.block__element</span> &#123;&#125;<br><br><span class="hljs-selector-class">.block--modifier</span> &#123;&#125;<br></code></pre></td></tr></table></figure>

<p>使用sass 最小单元复刻一个bem 架构（写在<code>./src/bem.scss</code>中）：</p>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs scss"><span class="hljs-variable">$block-sel</span>: <span class="hljs-string">&quot;-&quot;</span> !default;<br><span class="hljs-variable">$element-sel</span>: <span class="hljs-string">&quot;__&quot;</span> !default;<br><span class="hljs-variable">$modifier-sel</span>: <span class="hljs-string">&quot;--&quot;</span> !default;<br><span class="hljs-variable">$namespace</span>:<span class="hljs-string">&#x27;xm&#x27;</span> !default;<br><span class="hljs-keyword">@mixin</span> bfc &#123;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">100%</span>;<br>    <span class="hljs-attribute">overflow</span>: hidden;<br>&#125;<br><br><span class="hljs-comment">//混入</span><br><span class="hljs-keyword">@mixin</span> b(<span class="hljs-variable">$block</span>) &#123;<br>   <span class="hljs-variable">$B</span>: <span class="hljs-variable">$namespace</span> + <span class="hljs-variable">$block-sel</span> + <span class="hljs-variable">$block</span>; <span class="hljs-comment">//变量</span><br>   .#&#123;<span class="hljs-variable">$B</span>&#125;&#123; <span class="hljs-comment">//插值语法#&#123;&#125;</span><br>     <span class="hljs-keyword">@content</span>; <span class="hljs-comment">//内容替换</span><br>   &#125;<br>&#125;<br><br><span class="hljs-keyword">@mixin</span> flex &#123;<br>    <span class="hljs-attribute">display</span>: flex;<br>&#125;<br><br><span class="hljs-keyword">@mixin</span> e(<span class="hljs-variable">$element</span>) &#123;<br>    <span class="hljs-variable">$selector</span>:&amp;;<br>    <span class="hljs-keyword">@at-root</span> &#123;<br>        #&#123;<span class="hljs-variable">$selector</span> + <span class="hljs-variable">$element-sel</span> + <span class="hljs-variable">$element</span>&#125; &#123;<br>            <span class="hljs-keyword">@content</span>;<br>        &#125;<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">@mixin</span> m(<span class="hljs-variable">$modifier</span>) &#123;<br>    <span class="hljs-variable">$selector</span>:&amp;;<br>    <span class="hljs-keyword">@at-root</span> &#123;<br>        #&#123;<span class="hljs-variable">$selector</span> + <span class="hljs-variable">$modifier-sel</span> + <span class="hljs-variable">$modifier</span>&#125; &#123;<br>            <span class="hljs-keyword">@content</span>;<br>        &#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>全局扩充scss，（在<code>./vite/config.ts</code>文件中）：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> &#123; defineConfig &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vite&#x27;</span><br><span class="hljs-keyword">import</span> vue <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@vitejs/plugin-vue&#x27;</span><br><br><span class="hljs-comment">// https://vitejs.dev/config/</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>(&#123;<br>    <span class="hljs-attr">plugins</span>: [<span class="hljs-title function_">vue</span>()],<br>    <span class="hljs-attr">css</span>: &#123;<br>        <span class="hljs-attr">preprocessorOptions</span>: &#123;<br>            <span class="hljs-attr">scss</span>: &#123;<br>                <span class="hljs-attr">additionalData</span>: <span class="hljs-string">&quot;@import &#x27;./src/bem.scss&#x27;;&quot;</span><br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>

<h4 id="父子组件传参"><a href="#父子组件传参" class="headerlink" title="父子组件传参"></a>父子组件传参</h4><h5 id="父传子"><a href="#父传子" class="headerlink" title="父传子"></a>父传子</h5><ul>
<li><p>父组件用<code>v-bind</code>也就是<code>:</code>，把这个写在template中子组件的标签上</p>
</li>
<li><p>子组件用<code>defineProps</code>接收，有三种写法。</p>
<p><code>defineProps</code> 接收与 <code>props</code> 选项相同的值，<code>defineEmits</code> 接收与 <code>emits</code> 选项相同的值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 非setup</span><br><br><span class="hljs-comment">// 第一种数组方式</span><br><span class="hljs-attr">props</span>: [xxx, xxx, xxx]<br><span class="hljs-comment">// 第二种对象方式</span><br><span class="hljs-attr">props</span>: &#123; <span class="hljs-attr">xxx</span>: <span class="hljs-title class_">Number</span>, <span class="hljs-attr">xxx</span>: <span class="hljs-title class_">String</span>&#125;<br><span class="hljs-comment">// 第三种对象嵌套对象方式</span><br><span class="hljs-attr">props</span>: &#123;<br>    <span class="hljs-attr">xxx</span>: &#123;<br>        <span class="hljs-comment">//类型不匹配会警告</span><br>        <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>,<br>        <span class="hljs-attr">default</span>: <span class="hljs-number">0</span>,<br>        <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-comment">// 返回值不是 true,会警告</span><br>        <span class="hljs-title function_">validator</span>(<span class="hljs-params">val</span>) &#123; <span class="hljs-keyword">return</span> val === <span class="hljs-number">10</span>&#125;<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
<p>父组件发送：</p>
<p>直接使用<code>v-bind:</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>&lt;waterFall :title=&quot;name&quot;&gt; &lt;/waterFall&gt;<br>&lt;/template&gt;<br><br>&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import waterFall from &quot;./components/water-fall.vue&quot;;<br>let name=&#x27;小满&#x27;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<p>子组件接收：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>&lt;div&gt;子集&lt;/div&gt;<br>&lt;div&gt;值：&#123;&#123; title &#125;&#125;&lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup lang=&quot;ts&quot;&gt;<br>import &#123; ref, reactive &#125; from &#x27;vue&#x27;;<br>const props = defineProps(&#123;<br>  title: &#123;<br>    type: String,<br>    default: &quot;默认值&quot;<br>  &#125;,<br>    // 对象或数组的默认值，须从一个工厂函数返回。<br>    // 该函数接收组件所接收到的原始 prop 作为参数<br>  imageList:&#123;<br>      type:Array,<br>      default:()=&gt;[]<br>  &#125;<br><br>&#125;)<br>console.log(props.title);<br>&lt;/script&gt;<br><br>&lt;style scoped lang=&quot;scss&quot;&gt;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<p>可以在<code>template</code>中直接使用，但在<code>script</code>中使用时，要加上<code>props.</code></p>
<p>使用ts写法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; ref, reactive &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span>;<br><span class="hljs-title function_">withDefaults</span>(defineProps&lt;&#123;<br>  <span class="hljs-attr">title</span>: string,<br>  <span class="hljs-attr">arr</span>:number[]<br>&#125;&gt;(), &#123;<br>    <span class="hljs-attr">arr</span>: <span class="hljs-function">()=&gt;</span>[<span class="hljs-number">666</span>]<br>&#125;)<br></code></pre></td></tr></table></figure>

<h5 id="子传父"><a href="#子传父" class="headerlink" title="子传父"></a>子传父</h5><ul>
<li>传递<strong>事件</strong></li>
<li>父组件使用<code>@</code>给子组件绑定事件</li>
<li>子组件使用<code>defineEmits</code>接收一个事件数组</li>
<li>结果：子组件可以调用父组件的函数</li>
</ul>
<p>子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>&lt;div&gt;子集&lt;/div&gt;<br>&lt;button @click=&quot;send&quot;&gt;给父组件传值&lt;/button&gt;<br>&lt;/template&gt;<br><br><br>&lt;script setup lang=&quot;ts&quot;&gt;<br>const emit=defineEmits([&#x27;on-click&#x27;])<br>const send = () =&gt; &#123;<br>    emit(&#x27;on-click&#x27;, &#x27;小满&#x27;)<br>&#125;<br>&lt;/script&gt;<br><br><br>&lt;style scoped lang=&quot;scss&quot;&gt;<br><br>&lt;/style&gt;    <br></code></pre></td></tr></table></figure>

<p>使用ts：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> emit = defineEmits&lt;&#123;<br>    (<span class="hljs-attr">e</span>:<span class="hljs-string">&#x27;on-click&#x27;</span>, <span class="hljs-attr">name</span>:string):<span class="hljs-keyword">void</span><br>&#125;&gt;()<br><span class="hljs-keyword">const</span> <span class="hljs-title function_">send</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>    <span class="hljs-title function_">emit</span>(<span class="hljs-string">&#x27;on-click&#x27;</span>, <span class="hljs-string">&#x27;小满&#x27;</span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>父：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>&lt;waterFall @on-click=&quot;getName&quot;&gt; &lt;/waterFall&gt;<br>&lt;/template&gt;<br><br>&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import waterFall from &quot;./components/water-fall.vue&quot;;<br>const getName = (name: string) =&gt; &#123;<br>  console.log(name, &#x27;========&gt;我是父组件&#x27;);<br>&#125;<br>&lt;/script&gt;<br><br><br>&lt;style scoped&gt;<br><br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<h5 id="子组件变量暴露给父组件"><a href="#子组件变量暴露给父组件" class="headerlink" title="子组件变量暴露给父组件"></a>子组件变量暴露给父组件</h5><p>父组件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>&lt;waterFallVue ref=&quot;waterFall&quot;&gt; &lt;/waterFallVue&gt;<br>&lt;/template&gt;<br><br>&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import &#123; ref &#125; from &quot;vue&quot;;<br>import waterFallVue from &quot;./components/water-fall.vue&quot;;<br>const waterFall = ref&lt;InstanceType&lt;typeof waterFallVue&gt;&gt;() // 获取dom<br>console.log(waterFall.value?.list);<br>&lt;/script&gt;<br><br><br>&lt;style scoped&gt;<br><br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<p>子组件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>&lt;div&gt;子集&lt;/div&gt;<br>&lt;/template&gt;<br><br><br>&lt;script setup lang=&quot;ts&quot;&gt;<br>import &#123; reactive &#125; from &#x27;vue&#x27;;<br><br>const list = reactive&lt;number[]&gt;([4, 5, 6])<br>defineExpose(&#123;<br>    list<br>&#125;)<br>&lt;/script&gt;<br><br><br>&lt;style scoped lang=&quot;scss&quot;&gt;<br><br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<h4 id="全局组件，局部组件，递归组件"><a href="#全局组件，局部组件，递归组件" class="headerlink" title="全局组件，局部组件，递归组件"></a>全局组件，局部组件，递归组件</h4><p><a target="_blank" rel="noopener" href="https://xiaoman.blog.csdn.net/article/details/122862736">小满</a></p>
<h5 id="注册全局组件："><a href="#注册全局组件：" class="headerlink" title="注册全局组件："></a>注册全局组件：</h5><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-comment">// ./src/main.ts</span><br><span class="hljs-keyword">import</span> &#123; createApp &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;./style.css&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App.vue&#x27;</span><br><br><span class="hljs-keyword">import</span> waterFull <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;./components/water-fall.vue&quot;</span>;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>);<br>app.<span class="hljs-title function_">component</span>(<span class="hljs-string">&#x27;water-full&#x27;</span>,waterFull);<br>app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&#x27;#app&#x27;</span>);<br></code></pre></td></tr></table></figure>

<p>小兔鲜：</p>
<p><code>components/index.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> <span class="hljs-title class_">ImageView</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./ImageView/index.vue&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">Sku</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./XtxSku/index.vue&#x27;</span>;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> componentPlugin=&#123;<br>    <span class="hljs-title function_">install</span>(<span class="hljs-params">app</span>)&#123;<br>        app.<span class="hljs-title function_">component</span>(<span class="hljs-string">&#x27;XtxImageView&#x27;</span>, <span class="hljs-title class_">ImageView</span>)<br>        app.<span class="hljs-title function_">component</span>(<span class="hljs-string">&#x27;XtxSku&#x27;</span>, <span class="hljs-title class_">Sku</span>)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><code>main.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; componentPlugin &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;@/components/index&quot;</span>;<br>app.<span class="hljs-title function_">use</span>(componentPlugin)<br></code></pre></td></tr></table></figure>



<p>注册完毕后，可以在其他地方使用，无需引入</p>
<h5 id="递归组件"><a href="#递归组件" class="headerlink" title="递归组件"></a>递归组件</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;div class=&quot;tree&quot; v-for=&quot;item in data&quot;&gt;<br>        &lt;input type=&quot;checkbox&quot;&gt; &lt;span&gt;&#123;&#123; item.name &#125;&#125;&lt;/span&gt;<br>        &lt;Tree v-if=&quot;item?.children?.length&quot; :data=&quot;item.children&quot;&gt;&lt;/Tree&gt;<br>    &lt;/div&gt;<br>&lt;/template&gt;<br></code></pre></td></tr></table></figure>

<p><code>Tree</code>可以是当前文件名</p>
<h4 id="动态组件"><a href="#动态组件" class="headerlink" title="动态组件"></a>动态组件</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;div style=&quot;display: flex;&quot;&gt;<br>        &lt;div @click=&quot;switchCom(item, index)&quot; :class=&quot;&#123;&#x27;active&#x27;: active==index&#125;&quot; class=&quot;tabs&quot; v-for=&quot;(item, index) in data&quot;&gt;<br>            &lt;div&gt;&#123;&#123; item.name &#125;&#125;&lt;/div&gt;<br>        &lt;/div&gt;<br>    &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import &#123; ref, reactive &#125; from &#x27;vue&#x27;;<br>import AVue from &#x27;./components/HelloWorld.vue&#x27;;<br>import BVue from &#x27;./components/HelloWorld.vue&#x27;;<br>import CVue from &#x27;./components/HelloWorld.vue&#x27;;<br><br>const comId = ref(AVue);<br>const active = ref(0);<br>const data = reactive([<br>    &#123;<br>        name: &#x27;A组件&#x27;,<br>        com:AVue<br>    &#125;,<br>    &#123;<br>        name: &#x27;B组件&#x27;,<br>        com:BVue<br>    &#125;,<br>    &#123;<br>        name: &#x27;C组件&#x27;,<br>        com:CVue<br>    &#125;,<br>]);<br>const switchCom = (item, index) =&gt; &#123;<br>    comId.value = item.com;<br>    active.value = index;<br>&#125;<br>&lt;/script&gt;<br><br><br>&lt;style scoped&gt;<br><br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<p>性能优化</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">const</span> tab = reactive&lt;<span class="hljs-title class_">Com</span>[]&gt;([&#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;A组件&quot;</span>,<br>    <span class="hljs-attr">comName</span>: <span class="hljs-title function_">markRaw</span>(A)<br>&#125;, &#123;<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;B组件&quot;</span>,<br>    <span class="hljs-attr">comName</span>: <span class="hljs-title function_">markRaw</span>(B)<br>&#125;])<br></code></pre></td></tr></table></figure>

<h4 id="插槽slot"><a href="#插槽slot" class="headerlink" title="插槽slot"></a>插槽slot</h4><h5 id="匿名插槽"><a href="#匿名插槽" class="headerlink" title="匿名插槽"></a>匿名插槽</h5><p>在子组件放置一个插槽</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;div&gt;<br>       &lt;slot&gt;&lt;/slot&gt;<br>    &lt;/div&gt;<br>&lt;/template&gt;<br></code></pre></td></tr></table></figure>

<p>父组件使用插槽</p>
<p>在父组件给这个插槽填充内容</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;Dialog&gt;<br>    &lt;template v-slot&gt;<br>        &lt;div&gt;2132&lt;/div&gt;<br>    &lt;/template&gt;<br>&lt;/Dialog&gt;<br></code></pre></td></tr></table></figure>

<h5 id="具名插槽"><a href="#具名插槽" class="headerlink" title="具名插槽"></a>具名插槽</h5><p>具名插槽其实就是给插槽取个名字。一个子组件可以放多个插槽，而且可以放在不同的地方，而父组件填充内容时，可以根据这个名字把内容填充到对应插槽中</p>
<ul>
<li>匿名插槽的名字是<code>default</code></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;div&gt;<br>    &lt;slot name=&quot;header&quot;&gt;&lt;/slot&gt;<br>    &lt;slot&gt;&lt;/slot&gt;<br><br>    &lt;slot name=&quot;footer&quot;&gt;&lt;/slot&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>

<p>父组件使用需对应名称</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;Dialog&gt;<br>    &lt;template v-slot:header&gt;<br>        &lt;div&gt;1&lt;/div&gt;<br>    &lt;/template&gt;<br><br>    &lt;template v-slot&gt;<br>        &lt;div&gt;2&lt;/div&gt;<br>    &lt;/template&gt;<br><br>    &lt;template v-slot:footer&gt;<br>        &lt;div&gt;3&lt;/div&gt;<br>    &lt;/template&gt;<br>&lt;/Dialog&gt;<br></code></pre></td></tr></table></figure>

<h5 id="作用域插槽"><a href="#作用域插槽" class="headerlink" title="作用域插槽"></a>作用域插槽</h5><ul>
<li>普通插槽只能使用父组件的数据</li>
<li>我们让子组件在渲染时将一部分数据提供给插槽，作用域插槽可以使用子组件的数据</li>
</ul>
<p>在子组件动态绑定参数 派发给父组件的slot去使用</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;div&gt;<br>    &lt;slot name=&quot;header&quot;&gt;&lt;/slot&gt;<br>    &lt;div&gt;<br>        &lt;div v-for=&quot;item in 100&quot;&gt;<br>            &lt;slot :data=&quot;item&quot;&gt;&lt;/slot&gt; // &quot;:data&quot;是传给父组件的参数<br>        &lt;/div&gt;<br>    &lt;/div&gt;<br><br>    &lt;slot name=&quot;footer&quot;&gt;&lt;/slot&gt;<br>&lt;/div&gt;<br></code></pre></td></tr></table></figure>

<p>通过解构方式取值</p>
<p>(v-slot有对应的简写: #)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;Dialog&gt;<br>    &lt;template #header&gt;<br>        &lt;div&gt;1&lt;/div&gt;<br>    &lt;/template&gt;<br>    &lt;template #default=&quot;&#123; data &#125;&quot;&gt;<br>        &lt;div&gt;&#123;&#123; data &#125;&#125;&lt;/div&gt;<br>    &lt;/template&gt;<br>    &lt;template #footer&gt;<br>        &lt;div&gt;3&lt;/div&gt;<br>    &lt;/template&gt;<br>&lt;/Dialog&gt;<br></code></pre></td></tr></table></figure>

<p><em>简写：</em></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;Dialog&gt;<br>    &lt;template #header&gt;<br>        &lt;div&gt;1&lt;/div&gt;<br>    &lt;/template&gt;<br>    &lt;template #default&gt;<br>        &lt;div&gt;2&lt;/div&gt;<br>    &lt;/template&gt;<br>    &lt;template #footer&gt;<br>        &lt;div&gt;3&lt;/div&gt;<br>    &lt;/template&gt;<br>&lt;/Dialog&gt;<br></code></pre></td></tr></table></figure>

<h5 id="动态插槽"><a href="#动态插槽" class="headerlink" title="动态插槽"></a>动态插槽</h5><p>插槽可以是一个变量名</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;Dialog&gt;<br>        &lt;template #[name]&gt;<br>            &lt;div&gt;23&lt;/div&gt;<br>        &lt;/template&gt;<br>    &lt;/Dialog&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>const name = ref(&#x27;header&#x27;)<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h4 id="内置组件"><a href="#内置组件" class="headerlink" title="内置组件"></a>内置组件</h4><h5 id="Teleport传送组件"><a href="#Teleport传送组件" class="headerlink" title="Teleport传送组件"></a>Teleport传送组件</h5><p>[小满(<a target="_blank" rel="noopener" href="https://xiaoman.blog.csdn.net/article/details/122916261">https://xiaoman.blog.csdn.net/article/details/122916261</a>)</p>
<p>Teleport 是一种能够将我们的模板渲染至指定DOM节点，不受父级style、v-show等属性影响，但data、prop数据依旧能够共用的技术；类似于 React 的 Portal。</p>
<p>主要解决的问题 因为Teleport节点挂载在其他指定的DOM节点下，完全不受父级style样式影响使用方法</p>
<p>通过to 属性 插入指定元素位置 to&#x3D;”body” 便可以将<code>Teleport</code> 内容传送到指定位置</p>
<p>也可以自定义传送位置 支持 class id等 选择器</p>
<h5 id="keep-alive缓存组件"><a href="#keep-alive缓存组件" class="headerlink" title="keep-alive缓存组件"></a>keep-alive缓存组件</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;keep-alive :include=&quot;[&#x27;A&#x27;, &#x27;B&#x27;]&quot; :exclude=&quot;[&#x27;C&#x27;, &#x27;D&#x27;]&quot; :max=&quot;&quot;&gt;&lt;/keep-alive&gt;<br></code></pre></td></tr></table></figure>

<ul>
<li><code>include</code>：要缓存的组件</li>
<li><code>exclude</code>：不缓存的组件</li>
<li><code>max</code>：缓存组件的最大数量，<code>LRU</code>算法</li>
</ul>
<p>生命周期</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;初始化&#x27;</span>); <span class="hljs-comment">//只做一次</span><br>&#125;)<br><span class="hljs-title function_">onActivated</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;keep-alive初始化&#x27;</span>); <span class="hljs-comment">//每次切换时和第一次注册时都做</span><br>&#125;)<br><span class="hljs-title function_">onDeactivated</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;keep-alive卸载&#x27;</span>); <span class="hljs-comment">//每次切换时都做</span><br>&#125;)<br><span class="hljs-title function_">onUnmounted</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;卸载&#x27;</span>); <span class="hljs-comment">//不做</span><br>&#125;)<br></code></pre></td></tr></table></figure>

<h5 id="transition-过渡组件"><a href="#transition-过渡组件" class="headerlink" title="transition 过渡组件"></a>transition 过渡组件</h5><p>Vue 提供了 transition 的封装组件，在下列情形中，可以给任何元素和组件添加进入&#x2F;离开过渡:</p>
<ul>
<li>条件渲染 (使用 v-if)</li>
<li>条件展示 (使用 v-show)</li>
<li>动态组件</li>
<li>组件根节点</li>
</ul>
<p>自定义 transition 过度效果，你需要对transition组件的name属性自定义。并在css中写入对应的样式</p>
<p>在进入&#x2F;离开的过渡中，会有 6 个 class 切换，下面的<code>v</code>代表<code>template</code>中<code>name</code>的值</p>
<ol>
<li>v-enter-from：定义进入过渡的开始状态。在元素被插入之前生效，在元素被插入之后的下一帧移除。</li>
<li>v-enter-active：定义进入过渡生效时的状态。在整个进入过渡的阶段中应用，在元素被插入之前生效，在过渡&#x2F;动画完成之后移除。这个类可以被用来定义进入过渡的过程时间，延迟和曲线函数。</li>
<li>v-enter-to：定义进入过渡的结束状态。在元素被插入之后下一帧生效 (与此同时 v-enter-from 被移除)，在过渡&#x2F;动画完成之后移除。</li>
<li>v-leave-from：定义离开过渡的开始状态。在离开过渡被触发时立刻生效，下一帧被移除。</li>
<li>v-leave-active：定义离开过渡生效时的状态。在整个离开过渡的阶段中应用，在离开过渡被触发时立刻生效，在过渡&#x2F;动画完成之后移除。这个类可以被用来定义离开过渡的过程时间，延迟和曲线函数。</li>
<li>v-leave-to：离开过渡的结束状态。在离开过渡被触发之后下一帧生效 (与此同时 v-leave-from 被移除)，在过渡&#x2F;动画完成之后移除。</li>
</ol>
<p>示例：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs css">//开始过度<br><span class="hljs-selector-class">.fade-enter-from</span>&#123;<br>   <span class="hljs-attribute">background</span>:red;<br>   <span class="hljs-attribute">width</span>:<span class="hljs-number">0px</span>;<br>   <span class="hljs-attribute">height</span>:<span class="hljs-number">0px</span>;<br>   <span class="hljs-attribute">transform</span>:<span class="hljs-built_in">rotate</span>(<span class="hljs-number">360deg</span>)<br>&#125;<br>//开始过度了<br><span class="hljs-selector-class">.fade-enter-active</span>&#123;<br>  <span class="hljs-attribute">transition</span>: all <span class="hljs-number">2.5s</span> linear;<br>&#125;<br>//过度完成<br><span class="hljs-selector-class">.fade-enter-to</span>&#123;<br>   <span class="hljs-attribute">background</span>:yellow;<br>   <span class="hljs-attribute">width</span>:<span class="hljs-number">200px</span>;<br>   <span class="hljs-attribute">height</span>:<span class="hljs-number">200px</span>;<br>&#125;<br>//离开的过度<br><span class="hljs-selector-class">.fade-leave-from</span>&#123;<br>  <span class="hljs-attribute">width</span>:<span class="hljs-number">200px</span>;<br>  <span class="hljs-attribute">height</span>:<span class="hljs-number">200px</span>;<br>  <span class="hljs-attribute">transform</span>:<span class="hljs-built_in">rotate</span>(<span class="hljs-number">360deg</span>)<br>&#125;<br>//离开中过度<br><span class="hljs-selector-class">.fade-leave-active</span>&#123;<br>  <span class="hljs-attribute">transition</span>: all <span class="hljs-number">1s</span> linear;<br>&#125;<br>//离开完成<br><span class="hljs-selector-class">.fade-leave-to</span>&#123;<br>  <span class="hljs-attribute">width</span>:<span class="hljs-number">0px</span>;<br>   <span class="hljs-attribute">height</span>:<span class="hljs-number">0px</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="依赖注入Provide-x2F-Inject"><a href="#依赖注入Provide-x2F-Inject" class="headerlink" title="依赖注入Provide &#x2F; Inject"></a>依赖注入Provide &#x2F; Inject</h4><ul>
<li>注册一个变量，可以全局使用</li>
<li>顶层组件向任意的底层组件传递数据和方法，实现跨层组件通信</li>
<li>顶层组件：<code>provide(&#39;key&#39;,value)</code></li>
<li>底层组件：<code>const message=inject(&#39;key&#39;)</code></li>
</ul>
<img src="image-20230911151041239.png" srcset="/img/loading.gif" lazyload alt="image-20230911151041239" style="zoom:50%;" />

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>&lt;h1&gt;app.vue&lt;/h1&gt;<br>&lt;label&gt;<br>    &lt;input v-model=&quot;colorVal&quot; value=&#x27;red&#x27; name=&quot;color&quot; type=&quot;radio&quot;&gt; 红色<br>&lt;/label&gt;<br>&lt;label&gt;<br>    &lt;input v-model=&quot;colorVal&quot; value=&#x27;pink&#x27; name=&quot;color&quot; type=&quot;radio&quot;&gt; 粉色<br>&lt;/label&gt;<br>&lt;label&gt;<br>    &lt;input v-model=&quot;colorVal&quot; value=&#x27;green&#x27; name=&quot;color&quot; type=&quot;radio&quot;&gt; 绿色<br>&lt;/label&gt;<br>&lt;div class=&quot;box&quot;&gt;&lt;/div&gt;<br>&lt;hr&gt;<br>&lt;vueA&gt;&lt;/vueA&gt;<br>&lt;/template&gt;<br><br>&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import &#123; provide, ref &#125; from &#x27;vue&#x27;;<br>import vueA from &#x27;./components/providea.vue&#x27;<br><br>const colorVal=ref&lt;string&gt;(&#x27;red&#x27;)<br>provide(&#x27;color&#x27;, colorVal)<br><br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>.box&#123;<br>    width: 100px;<br>    height: 100px;<br>    background-color: v-bind(colorVal);<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>&lt;div&gt;&lt;/div&gt;<br>&lt;hr&gt;<br>&lt;vueB&gt;&lt;/vueB&gt;<br>&lt;/template&gt;<br><br>&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import type&#123;Ref&#125; from &#x27;vue&#x27;<br>import &#123; inject&#125; from &#x27;vue&#x27;<br>import vueB from &#x27;./provideb.vue&#x27;<br>const color = inject&lt;Ref&lt;string&gt;&gt;(&#x27;color&#x27;)<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>div&#123;<br>    width: 100px;<br>    height: 100px;<br>    background-color: v-bind(color);<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>&lt;div&gt;&lt;/div&gt;<br>&lt;button @click=&quot;change(111)&quot;&gt;绿！&lt;/button&gt;<br>&lt;/template&gt;<br><br>&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import &#123; inject &#125; from &quot;vue&quot;;<br>import type &#123; Ref &#125; from &#x27;vue&#x27;;<br>const color=inject&lt;Ref&lt;string&gt;&gt;(&#x27;color&#x27;)<br>const change = (num: number)=&gt;&#123;<br>    console.log(num);<br>    color!.value=&#x27;green&#x27;<br>&#125;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>div&#123;<br>    width: 100px;<br>    height: 100px;<br>    background-color: v-bind(color);<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<h4 id="兄弟组件传参和bus"><a href="#兄弟组件传参和bus" class="headerlink" title="兄弟组件传参和bus"></a>兄弟组件传参和bus</h4><h5 id="借助父组件"><a href="#借助父组件" class="headerlink" title="借助父组件"></a>借助父组件</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;div&gt;<br>        &lt;A @on-click=&quot;getFalg&quot;&gt;&lt;/A&gt;<br>        &lt;B :flag=&quot;Flag&quot;&gt;&lt;/B&gt;<br>    &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import A from &#x27;./components/A.vue&#x27;<br>import B from &#x27;./components/B.vue&#x27;<br>import &#123; ref &#125; from &#x27;vue&#x27;<br>let Flag = ref&lt;boolean&gt;(false)<br>const getFalg = (flag: boolean) =&gt; &#123;<br>   Flag.value = flag;<br>&#125;<br>&lt;/script&gt;<br><br>&lt;style&gt;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<p>A 组件派发事件通过App.vue 接受A组件派发的事件然后在Props 传给B组件 也是可以实现的</p>
<p>缺点就是比较麻烦 ，无法直接通信，只能充当桥梁</p>
<h5 id="Event-Bus"><a href="#Event-Bus" class="headerlink" title="Event Bus"></a>Event Bus</h5><p>我们在Vue2可以使用 $emit 传递 $on监听 emit传递过来的事件</p>
<p>这个原理其实是运用了JS设计模式之发布订阅模式</p>
<p>我写了一个简易版</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs typescript"> <span class="hljs-keyword">type</span> <span class="hljs-title class_">BusClass</span>&lt;T&gt; = &#123;<br>    <span class="hljs-attr">emit</span>: <span class="hljs-function">(<span class="hljs-params">name: T</span>) =&gt;</span> <span class="hljs-built_in">void</span><br>    <span class="hljs-attr">on</span>: <span class="hljs-function">(<span class="hljs-params">name: T, callback: <span class="hljs-built_in">Function</span></span>) =&gt;</span> <span class="hljs-built_in">void</span><br>&#125;<br><span class="hljs-keyword">type</span> <span class="hljs-title class_">BusParams</span> = <span class="hljs-built_in">string</span> | <span class="hljs-built_in">number</span> | <span class="hljs-built_in">symbol</span> <br><span class="hljs-keyword">type</span> <span class="hljs-title class_">List</span> = &#123;<br>    [<span class="hljs-attr">key</span>: <span class="hljs-title class_">BusParams</span>]: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">Function</span>&gt;<br>&#125;<br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Bus</span>&lt;T <span class="hljs-keyword">extends</span> <span class="hljs-title class_">BusParams</span>&gt; <span class="hljs-keyword">implements</span> <span class="hljs-title class_">BusClass</span>&lt;T&gt; &#123;<br>    <span class="hljs-attr">list</span>: <span class="hljs-title class_">List</span><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span> = &#123;&#125;<br>    &#125;<br>    <span class="hljs-title function_">emit</span>(<span class="hljs-params">name: T, ...args: <span class="hljs-built_in">Array</span>&lt;<span class="hljs-built_in">any</span>&gt;</span>) &#123;<br>        <span class="hljs-keyword">let</span> <span class="hljs-attr">eventName</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">Function</span>&gt; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>[name]<br>        eventName.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">ev</span> =&gt;</span> &#123;<br>            ev.<span class="hljs-title function_">apply</span>(<span class="hljs-variable language_">this</span>, args)<br>        &#125;)<br>    &#125;<br>    <span class="hljs-title function_">on</span>(<span class="hljs-params">name: T, callback: <span class="hljs-built_in">Function</span></span>) &#123;<br>        <span class="hljs-keyword">let</span> <span class="hljs-attr">fn</span>: <span class="hljs-title class_">Array</span>&lt;<span class="hljs-title class_">Function</span>&gt; = <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>[name] || [];<br>        fn.<span class="hljs-title function_">push</span>(callback)<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>[name] = fn<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Bus</span>&lt;<span class="hljs-built_in">number</span>&gt;()<br></code></pre></td></tr></table></figure>

<h5 id="mitt库"><a href="#mitt库" class="headerlink" title="mitt库"></a>mitt库</h5><p><a target="_blank" rel="noopener" href="https://xiaoman.blog.csdn.net/article/details/125453908">https://xiaoman.blog.csdn.net/article/details/125453908</a></p>
<ol>
<li>安装</li>
</ol>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs sh">npm install mitt -S<br></code></pre></td></tr></table></figure>

<ol start="2">
<li>main.ts 初始化<br>全局总线，vue 入口文件 main.js 中挂载全局属性</li>
</ol>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> &#123; createApp &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App.vue&#x27;</span><br><span class="hljs-keyword">import</span> mitt <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;mitt&#x27;</span><br><br><span class="hljs-keyword">const</span> <span class="hljs-title class_">Mit</span> = <span class="hljs-title function_">mitt</span>()<br><br><span class="hljs-comment">//TypeScript注册</span><br><span class="hljs-comment">// 由于必须要拓展ComponentCustomProperties类型才能获得类型提示</span><br><span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">&quot;vue&quot;</span> &#123;<br>    <span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ComponentCustomProperties</span> &#123;<br>        <span class="hljs-attr">$Bus</span>: <span class="hljs-keyword">typeof</span> <span class="hljs-title class_">Mit</span><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)<br><br><span class="hljs-comment">//Vue3挂载全局API</span><br>app.<span class="hljs-property">config</span>.<span class="hljs-property">globalProperties</span>.<span class="hljs-property">$Bus</span> = <span class="hljs-title class_">Mit</span><br><br>app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&#x27;#app&#x27;</span>)<br></code></pre></td></tr></table></figure>



<h4 id="TSX"><a href="#TSX" class="headerlink" title="TSX"></a>TSX</h4><p><a target="_blank" rel="noopener" href="https://xiaoman.blog.csdn.net/article/details/123172735">https://xiaoman.blog.csdn.net/article/details/123172735</a></p>
<p>JSX本身是一种JavaScript的语法扩展，用于在JavaScript代码中编写类似于HTML的结构。它通常与React一起使用，用于构建用户界面。</p>
<p>TSX是指”TypeScript JSX”，是一种使用TypeScript编写的JavaScript的扩展语法。</p>
<p><code>vite.config.ts</code>配置：</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> &#123; defineConfig &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vite&#x27;</span><br><span class="hljs-keyword">import</span> vue <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@vitejs/plugin-vue&#x27;</span><br><span class="hljs-keyword">import</span> vueJsx <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@vitejs/plugin-vue-jsx&#x27;</span><br><span class="hljs-comment">// https://vitejs.dev/config/</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineConfig</span>(&#123;<br>    <span class="hljs-attr">plugins</span>: [<span class="hljs-title function_">vue</span>(), <span class="hljs-title function_">vueJsx</span>()],<br>    <span class="hljs-attr">css</span>: &#123;<br>        <span class="hljs-attr">preprocessorOptions</span>: &#123;<br>            <span class="hljs-attr">scss</span>: &#123;<br>                <span class="hljs-attr">additionalData</span>: <span class="hljs-string">&quot;@import &#x27;./src/bem.scss&#x27;;&quot;</span><br>            &#125;<br>        &#125;<br>    &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>

<p><code>App.vue:</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>&lt;div&gt;<br>    &lt;xiaoman&gt;&lt;/xiaoman&gt;<br>&lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import xiaoman from &#x27;./App.tsx&#x27;<br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br><br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<p><code>App.tsx</code>第一种写法：</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-comment">// App.tsx</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>小满<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>另一种：</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-comment">// 返回一个渲染函数</span><br><span class="hljs-keyword">import</span> &#123; defineComponent &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineComponent</span>(&#123;<br>    <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> &#123;<br>            <span class="hljs-attr">age</span>: <span class="hljs-number">23</span><br>        &#125; <br>    &#125;,<br>    <span class="hljs-title function_">render</span>(<span class="hljs-params"></span>) &#123; <br>        <span class="hljs-keyword">return</span> (<span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>&#123; this.age &#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>)<br>    &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>

<p>第三种：</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-comment">// 返回一个渲染函数</span><br><span class="hljs-comment">// optionsAPI</span><br><br><span class="hljs-keyword">import</span> &#123; defineComponent &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;vue&quot;</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-title function_">defineComponent</span>(&#123;<br>    <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-function">() =&gt;</span> <span class="language-xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>hello<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br>    &#125;,<br>&#125;)<br></code></pre></td></tr></table></figure>





<p>TIPS tsx不会自动解包，使用ref也要加.vlaue ! ! !</p>
<ul>
<li><p>tsx支持 <code>v-model</code> 和 <code>v-show</code>的使用</p>
</li>
<li><p><code>v-if</code>不支持</p>
</li>
<li><p><code>v-for</code>不支持（可以用.map() 模拟）</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-keyword">import</span> &#123; ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br> <br><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]<br> <br><span class="hljs-keyword">const</span> <span class="hljs-title function_">renderDom</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>    <span class="hljs-keyword">return</span> (<br>        <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">            &#123;</span><br><span class="language-xml">              arr.map(v=&gt;&#123;</span><br><span class="language-xml">                  return <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>$&#123;v&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">              &#125;)</span><br><span class="language-xml">            &#125;</span><br><span class="language-xml">        <span class="hljs-tag">&lt;/&gt;</span></span><br>    )<br>&#125;<br> <br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> renderDom<br></code></pre></td></tr></table></figure>
</li>
<li><p><code>v-bind</code>使用：</p>
<p>直接赋值即可</p>
<figure class="highlight tsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs tsx"><span class="hljs-keyword">import</span> &#123; ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br> <br><span class="hljs-keyword">let</span> arr = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>]<br> <br><span class="hljs-keyword">const</span> <span class="hljs-title function_">renderDom</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>    <span class="hljs-keyword">return</span> (<br>        <span class="language-xml"><span class="hljs-tag">&lt;&gt;</span></span><br><span class="language-xml">            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">data-arr</span>=<span class="hljs-string">&#123;arr&#125;</span>&gt;</span>1<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br><span class="language-xml">        <span class="hljs-tag">&lt;/&gt;</span></span><br>    )<br>&#125;<br> <br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> renderDom<br></code></pre></td></tr></table></figure>
</li>
<li><p>v-on绑定事件 所有的事件都按照react风格来</p>
<ol>
<li>所有事件有on开头</li>
<li>所有事件名称首字母大写</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs cobol"> <br>const renderDom = () =&gt; &#123;<br>    return (<br>        &lt;&gt;<br>            &lt;button onClick=&#123;clickTap&#125;&gt;点击&lt;/button&gt;<br>        &lt;/&gt;<br>    )<br>&#125;<br> <br>const clickTap = () =&gt; &#123;<br>    console.log(&#x27;click&#x27;);<br>&#125;<br> <br>export default renderDom<br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="directive自定义指令"><a href="#directive自定义指令" class="headerlink" title="directive自定义指令"></a>directive自定义指令</h4><h5 id="js图片懒加载"><a href="#js图片懒加载" class="headerlink" title="js图片懒加载"></a>js图片懒加载</h5><p><code>main.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; createApp &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> &#123; createPinia &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;pinia&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App.vue&#x27;</span><br><span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./router&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;@/styles/common.scss&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; useIntersectionObserver &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@vueuse/core&#x27;</span><br><br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)<br>app.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">createPinia</span>())<br>app.<span class="hljs-title function_">use</span>(router)<br>app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&#x27;#app&#x27;</span>)<br><br>app.<span class="hljs-title function_">directive</span>(<span class="hljs-string">&#x27;img-lazy&#x27;</span>, &#123;<br>    <span class="hljs-title function_">mounted</span>(<span class="hljs-params">el, binding</span>) &#123;<br>        <span class="hljs-comment">// console.log(el, binding.value);</span><br>        <span class="hljs-title function_">useIntersectionObserver</span>(el, <span class="hljs-function">(<span class="hljs-params">[&#123; isIntersecting &#125;]</span>) =&gt;</span> &#123;<br>            <span class="hljs-keyword">if</span> (isIntersecting) &#123;<br>                el.<span class="hljs-property">src</span> = binding.<span class="hljs-property">value</span><br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">11111</span>);<br>            &#125;<br>        &#125;)<br>    &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>

<p>需要在<code>main.js</code>中注册：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; lazyPlugin &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/directives&#x27;</span>;<br>app.<span class="hljs-title function_">use</span>(lazyPlugin)<br></code></pre></td></tr></table></figure>



<p><code>App.vue</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;img v-img-lazy=&quot;item.picture&quot; alt=&quot;&quot; /&gt;<br>// binding.value=item.picture<br></code></pre></td></tr></table></figure>

<ul>
<li><code>v-img-lazy</code>就是自定义的指令</li>
<li>这个指令有生命周期钩子</li>
<li>生命周期钩子接收两个参数<ul>
<li><code>el</code>是dom对象</li>
<li><code>bing.value</code>是等于号后面绑定的表达式的值图片url</li>
</ul>
</li>
</ul>
<p>插件化：</p>
<p><code>directive/index.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; useIntersectionObserver &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@vueuse/core&#x27;</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> lazyPlugin = &#123;<br>    <span class="hljs-title function_">install</span>(<span class="hljs-params">app</span>) &#123;<br>        app.<span class="hljs-title function_">directive</span>(<span class="hljs-string">&#x27;img-lazy&#x27;</span>, &#123;<br>            <span class="hljs-title function_">mounted</span>(<span class="hljs-params">el, binding</span>) &#123;<br>                <span class="hljs-comment">// console.log(el, binding.value);</span><br>                <span class="hljs-title function_">useIntersectionObserver</span>(el, <span class="hljs-function">(<span class="hljs-params">[&#123; isIntersecting &#125;]</span>) =&gt;</span> &#123;<br>                    <span class="hljs-keyword">if</span> (isIntersecting) &#123;<br>                        el.<span class="hljs-property">src</span> = binding.<span class="hljs-property">value</span><br>                        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">11111</span>);<br>                        <span class="hljs-title function_">stop</span>() <span class="hljs-comment">// 由于useIntersectionObserver的特性，加上这个才会只请求一次</span><br>                    &#125;<br>                &#125;)<br>            &#125;<br>        &#125;)<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><code>main.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; createApp &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> &#123; createPinia &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;pinia&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App.vue&#x27;</span><br><span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./router&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;@/styles/common.scss&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; lazyPlugin &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/directives&#x27;</span>;<br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)<br><br>app.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">createPinia</span>())<br>app.<span class="hljs-title function_">use</span>(router)<br>app.<span class="hljs-title function_">use</span>(lazyPlugin)<br><br>app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&#x27;#app&#x27;</span>)<br></code></pre></td></tr></table></figure>



<p>ts:</p>
<h5 id="样例简介"><a href="#样例简介" class="headerlink" title="样例简介"></a>样例简介</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>&lt;div&gt;<br>    &lt;button&gt;切换&lt;/button&gt;<br>    &lt;A v-move:aaa.xiaoman=&quot;&#123;background: &#x27;red&#x27;&#125;&quot;&gt;&lt;/A&gt;<br>&lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import A from &#x27;./components/A.vue&#x27;<br>import &#123; ref, Directive, DirectiveBinding &#125; from &#x27;vue&#x27;<br>let flag = ref&lt;boolean&gt;(true)<br>const vMove: Directive = &#123;<br>    created() &#123;<br>        console.log(&#x27;========&gt; created&#x27;);<br>        console.log(arguments);<br>    &#125;,<br>    beforeMount() &#123;<br>        console.log(&#x27;========&gt; created&#x27;);<br>        console.log(arguments);<br>    &#125;,<br>    mounted() &#123;<br>        console.log(&#x27;========&gt; created&#x27;);<br>        console.log(arguments);<br>    &#125;,<br>    beforeUpdate() &#123;<br>        console.log(&#x27;========&gt; created&#x27;);<br>        console.log(arguments);<br>    &#125;,<br>    updated() &#123;<br>        console.log(&#x27;========&gt; created&#x27;);<br>        console.log(arguments);<br>    &#125;,<br>    beforeUnmount() &#123;<br>        console.log(&#x27;========&gt; created&#x27;);<br>        console.log(arguments);<br>    &#125;,<br>    unmounted() &#123;<br>        console.log(&#x27;========&gt; created&#x27;);<br>        console.log(arguments);<br>    &#125;,<br>&#125; <br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br><br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>



<p><code>A.vue</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>&lt;div class=&quot;AAA&quot;&gt;&lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup lang=&#x27;ts&#x27;&gt;<br><br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>div&#123;<br>    width: 100px;<br>    height: 100px;<br>    background-color: #888;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>



<p>输出：</p>
<p><img src="/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230912201155664.png" srcset="/img/loading.gif" lazyload alt="image-20230912201155664"></p>
<ol start="0">
<li><p><code>div.AAA</code>是子组件的选择器<code>el</code>，类型：<code>HTMLElement</code></p>
</li>
<li><p><img src="/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230912201356552.png" srcset="/img/loading.gif" lazyload alt="image-20230912201356552"></p>
<p>类型：<code>DirectiveBinding</code>，传过来的参数:</p>
<ul>
<li>instance：使用指令的组件实例。</li>
<li>value：传递给指令的值。例如，在 v-my-directive&#x3D;”1 + 1” 中，该值为 2。</li>
<li>oldValue：先前的值，仅在 beforeUpdate 和 updated 中可用。无论值是否有更改都可用。</li>
<li>arg：传递给指令的参数(如果有的话)。例如在 v-my-directive:foo 中，arg 为 “foo”。</li>
<li>modifiers：包含修饰符(如果有的话) 的对象。例如在 v-my-directive.foo.bar 中，修饰符对象为 {foo: true，bar: true}。</li>
<li>dir：一个对象，在注册指令时作为参数传递。例如，在以下指令中</li>
</ul>
</li>
<li><p>当前组件的<code>v-node</code>，虚拟dom</p>
</li>
<li><p><code>prevode</code>，上一个虚拟dom</p>
</li>
</ol>
<h5 id="函数简写"><a href="#函数简写" class="headerlink" title="函数简写"></a>函数简写</h5><p>可能想在 <code>mounted</code> 和 <code>updated</code> 时触发相同行为，而不关心其他的钩子函数。那么你可以通过将这个函数模式实现</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>   &lt;div class=&quot;btns&quot;&gt;<br>       &lt;button v-has-show=&quot;&#x27;shop:create&#x27;&quot;&gt;创建&lt;/button&gt;<br> <br>       &lt;button v-has-show=&quot;&#x27;shop:edit&#x27;&quot;&gt;编辑&lt;/button&gt;<br> <br>       &lt;button v-has-show=&quot;&#x27;shop:delete&#x27;&quot;&gt;删除&lt;/button&gt;<br>   &lt;/div&gt;<br>&lt;/template&gt;<br> <br>&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import &#123; ref, reactive,  &#125; from &#x27;vue&#x27;<br>import type &#123;Directive&#125; from &#x27;vue&#x27;<br>//permission<br>localStorage.setItem(&#x27;userId&#x27;,&#x27;xiaoman-zs&#x27;)<br> <br>//mock后台返回的数据<br>const permission = [<br>    &#x27;xiaoman-zs:shop:edit&#x27;,<br>    &#x27;xiaoman-zs:shop:create&#x27;,<br>    &#x27;xiaoman-zs:shop:delete&#x27;<br>]<br>const userId = localStorage.getItem(&#x27;userId&#x27;) as string<br>const vHasShow:Directive&lt;HTMLElement,string&gt; = (el,bingding) =&gt; &#123;<br>   if(!permission.includes(userId+&#x27;:&#x27;+ bingding.value))&#123;<br>       el.style.display = &#x27;none&#x27;<br>   &#125;<br>&#125;<br> <br>&lt;/script&gt;<br> <br>&lt;style scoped lang=&#x27;less&#x27;&gt;<br>.btns&#123;<br>    button&#123;<br>        margin: 10px;<br>    &#125;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<h5 id="图片懒加载"><a href="#图片懒加载" class="headerlink" title="图片懒加载"></a>图片懒加载</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;div&gt;<br>        &lt;div v-for=&quot;item in arr&quot;&gt;<br>            &lt;img height=&quot;500&quot; :data-index=&quot;item&quot; v-lazy=&quot;item&quot; width=&quot;360&quot; alt=&quot;&quot;&gt;<br>        &lt;/div&gt;<br>    &lt;/div&gt;<br>&lt;/template&gt;<br> <br>&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import &#123; ref, reactive &#125; from &#x27;vue&#x27;<br>import type &#123; Directive &#125; from &#x27;vue&#x27;<br>const images: Record&lt;string, &#123; default: string &#125;&gt; = import.meta.globEager(&#x27;./assets/images/*.*&#x27;)<br>let arr = Object.values(images).map(v =&gt; v.default)<br> <br>let vLazy: Directive&lt;HTMLImageElement, string&gt; = async (el, binding) =&gt; &#123;<br>    let url = await import(&#x27;./assets/vue.svg&#x27;)<br>    el.src = url.default;<br>    let observer = new IntersectionObserver((entries) =&gt; &#123;<br>        console.log(entries[0], el)<br>        if (entries[0].intersectionRatio &gt; 0 &amp;&amp; entries[0].isIntersecting) &#123;<br>            setTimeout(() =&gt; &#123;<br>                el.src = binding.value;<br>                observer.unobserve(el)<br>            &#125;, 2000)<br>        &#125;<br>    &#125;)<br>    observer.observe(el)<br>&#125;<br> <br>&lt;/script&gt;<br> <br>&lt;style scoped lang=&#x27;less&#x27;&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure>







<h4 id="自定义attrs-x2F-hooks"><a href="#自定义attrs-x2F-hooks" class="headerlink" title="自定义attrs &#x2F; hooks"></a>自定义attrs &#x2F; hooks</h4><p><a target="_blank" rel="noopener" href="https://xiaoman.blog.csdn.net/article/details/123271189">https://xiaoman.blog.csdn.net/article/details/123271189</a></p>
<p>主要用来处理复用代码逻辑的一些封装</p>
<p>这个在vue2 就已经有一个东西是<strong>Mixins</strong></p>
<p>mixins就是将这些多个相同的逻辑抽离出来，各个组件只需要引入mixins，就能实现一次写代码，多组件受益的效果。</p>
<p>弊端就是 会涉及到覆盖的问题</p>
<p>组件的data、methods、filters会覆盖mixins里的同名data、methods、filters。</p>
<h5 id="自定义attrs"><a href="#自定义attrs" class="headerlink" title="自定义attrs"></a>自定义attrs</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>&lt;A a=&quot;111&quot; b.ccc=&quot;cscacsa&quot;&gt;&lt;/A&gt;<br>&lt;/template&gt;<br><br>&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import A from &#x27;./components/A.vue&#x27;<br><br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br><br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>&lt;/template&gt;<br><br>&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import &#123;useAttrs&#125; from &#x27;vue&#x27;;<br>let attr = useAttrs()<br>console.log(attr.a);<br><br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br><br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<h5 id="自定义hooks"><a href="#自定义hooks" class="headerlink" title="自定义hooks"></a>自定义hooks</h5><p>图片转base64</p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> &#123; onMounted &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br> <br> <br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Options</span> = &#123;<br>    <span class="hljs-attr">el</span>: <span class="hljs-built_in">string</span><br>&#125;<br> <br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Return</span> = &#123;<br>    <span class="hljs-title class_">Baseurl</span>: <span class="hljs-built_in">string</span> | <span class="hljs-literal">null</span><br>&#125;<br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">option: Options</span>): <span class="hljs-title class_">Promise</span>&lt;<span class="hljs-title class_">Return</span>&gt; &#123;<br> <br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> &#123;<br>        <span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>            <span class="hljs-keyword">const</span> <span class="hljs-attr">file</span>: <span class="hljs-title class_">HTMLImageElement</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(option.<span class="hljs-property">el</span>) <span class="hljs-keyword">as</span> <span class="hljs-title class_">HTMLImageElement</span>;<br>            file.<span class="hljs-property">onload</span> = ():<span class="hljs-function"><span class="hljs-params">void</span> =&gt;</span> &#123;<br>                <span class="hljs-title function_">resolve</span>(&#123;<br>                    <span class="hljs-title class_">Baseurl</span>: <span class="hljs-title function_">toBase64</span>(file)<br>                &#125;)<br>            &#125;<br>        &#125;)<br>        <span class="hljs-keyword">const</span> toBase64 = (<span class="hljs-attr">el</span>: <span class="hljs-title class_">HTMLImageElement</span>): <span class="hljs-function"><span class="hljs-params">string</span> =&gt;</span> &#123;<br>            <span class="hljs-keyword">const</span> <span class="hljs-attr">canvas</span>: <span class="hljs-title class_">HTMLCanvasElement</span> = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;canvas&#x27;</span>)<br>            <span class="hljs-keyword">const</span> ctx = canvas.<span class="hljs-title function_">getContext</span>(<span class="hljs-string">&#x27;2d&#x27;</span>) <span class="hljs-keyword">as</span> <span class="hljs-title class_">CanvasRenderingContext2D</span><br>            canvas.<span class="hljs-property">width</span> = el.<span class="hljs-property">width</span><br>            canvas.<span class="hljs-property">height</span> = el.<span class="hljs-property">height</span><br>            ctx.<span class="hljs-title function_">drawImage</span>(el, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, canvas.<span class="hljs-property">width</span>,canvas.<span class="hljs-property">height</span>)<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(el.<span class="hljs-property">width</span>);<br>            <span class="hljs-keyword">return</span> canvas.<span class="hljs-title function_">toDataURL</span>(<span class="hljs-string">&#x27;image/png&#x27;</span>)<br>        &#125;<br>    &#125;)<br>&#125;<br></code></pre></td></tr></table></figure>



<h4 id="全局函数和变量"><a href="#全局函数和变量" class="headerlink" title="全局函数和变量"></a>全局函数和变量</h4><p><code>App.vue</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>&lt;div&gt;&#123;&#123; $env &#125;&#125;&lt;/div&gt;<br>&lt;div&gt;&#123;&#123; $filters.format(&#x27;的飞机&#x27;) &#125;&#125;&lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import &#123; ref, reactive, getCurrentInstance &#125; from &#x27;vue&#x27;;<br>const app = getCurrentInstance()<br>console.log(app?.proxy.$env);<br><br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br><br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<p><code>main.ts</code></p>
<figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> &#123; createApp &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App.vue&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)<br>app.<span class="hljs-property">config</span>.<span class="hljs-property">globalProperties</span>.<span class="hljs-property">$env</span> = <span class="hljs-string">&#x27;dev&#x27;</span>;<br><br>app.<span class="hljs-property">config</span>.<span class="hljs-property">globalProperties</span>.<span class="hljs-property">$filters</span> = &#123;<br>    format&lt;T&gt;(<span class="hljs-attr">str</span>: T) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">`小满-<span class="hljs-subst">$&#123;str&#125;</span>`</span><br>    &#125;<br>&#125;<br>app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&#x27;#app&#x27;</span>)<br></code></pre></td></tr></table></figure>

<h5 id="消除报错版"><a href="#消除报错版" class="headerlink" title="消除报错版"></a>消除报错版</h5><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs typescript"><span class="hljs-keyword">import</span> &#123; createApp &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App.vue&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)<br>app.<span class="hljs-property">config</span>.<span class="hljs-property">globalProperties</span>.<span class="hljs-property">$env</span> = <span class="hljs-string">&#x27;dev&#x27;</span>;<br><br>app.<span class="hljs-property">config</span>.<span class="hljs-property">globalProperties</span>.<span class="hljs-property">$filters</span> = &#123;<br>    format&lt;T&gt;(<span class="hljs-attr">str</span>: T) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-string">`小满-<span class="hljs-subst">$&#123;str&#125;</span>`</span><br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">type</span> <span class="hljs-title class_">Filter</span> = &#123;<br>    format&lt;T&gt;(<span class="hljs-attr">str</span>: T): <span class="hljs-built_in">string</span><br>&#125;<br> <br><span class="hljs-comment">// 声明要扩充@vue/runtime-core包的声明.</span><br><span class="hljs-comment">// 这里扩充&quot;ComponentCustomProperties&quot;接口, 因为他是vue3中实例的属性的类型.</span><br><span class="hljs-keyword">declare</span> <span class="hljs-variable language_">module</span> <span class="hljs-string">&#x27;vue&#x27;</span> &#123;<br>    <span class="hljs-keyword">export</span> <span class="hljs-keyword">interface</span> <span class="hljs-title class_">ComponentCustomProperties</span> &#123;<br>        <span class="hljs-attr">$filters</span>: <span class="hljs-title class_">Filter</span>,<br>        <span class="hljs-attr">$env</span>: <span class="hljs-built_in">string</span><br>    &#125;<br>&#125;<br><br>app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&#x27;#app&#x27;</span>)<br></code></pre></td></tr></table></figure>





<h4 id="新的组件"><a href="#新的组件" class="headerlink" title="新的组件"></a>新的组件</h4><h5 id="1-Fragment"><a href="#1-Fragment" class="headerlink" title="1.Fragment"></a>1.Fragment</h5><ul>
<li>在Vue2中: 组件必须有一个根标签</li>
<li>在Vue3中: 组件可以没有根标签, 内部会将多个标签包含在一个Fragment虚拟元素中</li>
<li>好处: 减少标签层级, 减小内存占用</li>
</ul>
<h5 id="2-Teleport"><a href="#2-Teleport" class="headerlink" title="2.Teleport"></a>2.Teleport</h5><ul>
<li><p>什么是Teleport？—— <code>Teleport</code> 是一种能够将我们的<strong style="color:#DD5145">组件html结构</strong>移动到指定位置的技术。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;teleport to=&quot;移动位置&quot;&gt;<br>	&lt;div v-if=&quot;isShow&quot; class=&quot;mask&quot;&gt;<br>		&lt;div class=&quot;dialog&quot;&gt;<br>			&lt;h3&gt;我是一个弹窗&lt;/h3&gt;<br>			&lt;button @click=&quot;isShow = false&quot;&gt;关闭弹窗&lt;/button&gt;<br>		&lt;/div&gt;<br>	&lt;/div&gt;<br>&lt;/teleport&gt;<br></code></pre></td></tr></table></figure></li>
</ul>
<h5 id="3-Suspense"><a href="#3-Suspense" class="headerlink" title="3.Suspense"></a>3.Suspense</h5><ul>
<li><p>等待异步组件时渲染一些额外内容，让应用有更好的用户体验</p>
</li>
<li><p>使用步骤：</p>
<ul>
<li><p>异步引入组件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123;defineAsyncComponent&#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">const</span> <span class="hljs-title class_">Child</span> = <span class="hljs-title function_">defineAsyncComponent</span>(<span class="hljs-function">()=&gt;</span><span class="hljs-keyword">import</span>(<span class="hljs-string">&#x27;./components/Child.vue&#x27;</span>))<br></code></pre></td></tr></table></figure>
</li>
<li><p>使用<code>Suspense</code>包裹组件，并配置好<code>default</code> 与 <code>fallback</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>	&lt;div class=&quot;app&quot;&gt;<br>		&lt;h3&gt;我是App组件&lt;/h3&gt;<br>		&lt;Suspense&gt;<br>			&lt;template v-slot:default&gt;<br>				&lt;Child/&gt;<br>			&lt;/template&gt;<br>			&lt;template v-slot:fallback&gt;<br>				&lt;h3&gt;加载中.....&lt;/h3&gt;<br>			&lt;/template&gt;<br>		&lt;/Suspense&gt;<br>	&lt;/div&gt;<br>&lt;/template&gt;<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
</ul>
<h4 id="其他vue3新特性"><a href="#其他vue3新特性" class="headerlink" title="其他vue3新特性"></a>其他vue3新特性</h4><h5 id="1-全局API的转移"><a href="#1-全局API的转移" class="headerlink" title="1.全局API的转移"></a>1.全局API的转移</h5><ul>
<li><p>Vue 2.x 有许多全局 API 和配置。</p>
<ul>
<li><p>例如：注册全局组件、注册全局指令等。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//注册全局组件</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">component</span>(<span class="hljs-string">&#x27;MyButton&#x27;</span>, &#123;<br>  <span class="hljs-attr">data</span>: <span class="hljs-function">() =&gt;</span> (&#123;<br>    <span class="hljs-attr">count</span>: <span class="hljs-number">0</span><br>  &#125;),<br>  <span class="hljs-attr">template</span>: <span class="hljs-string">&#x27;&lt;button @click=&quot;count++&quot;&gt;Clicked &#123;&#123; count &#125;&#125; times.&lt;/button&gt;&#x27;</span><br>&#125;)<br><br><span class="hljs-comment">//注册全局指令</span><br><span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">directive</span>(<span class="hljs-string">&#x27;focus&#x27;</span>, &#123;<br>  <span class="hljs-attr">inserted</span>: <span class="hljs-function"><span class="hljs-params">el</span> =&gt;</span> el.<span class="hljs-title function_">focus</span>()<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>Vue3.0中对这些API做出了调整：</p>
<ul>
<li><p>将全局的API，即：<code>Vue.xxx</code>调整到应用实例（<code>app</code>）上</p>
<table>
<thead>
<tr>
<th>2.x 全局 API（<code>Vue</code>）</th>
<th>3.x 实例 API (<code>app</code>)</th>
</tr>
</thead>
<tbody><tr>
<td>Vue.config.xxxx</td>
<td>app.config.xxxx</td>
</tr>
<tr>
<td>Vue.config.productionTip</td>
<td><strong style="color:#DD5145">移除</strong></td>
</tr>
<tr>
<td>Vue.component</td>
<td>app.component</td>
</tr>
<tr>
<td>Vue.directive</td>
<td>app.directive</td>
</tr>
<tr>
<td>Vue.mixin</td>
<td>app.mixin</td>
</tr>
<tr>
<td>Vue.use</td>
<td>app.use</td>
</tr>
<tr>
<td>Vue.prototype</td>
<td>app.config.globalProperties</td>
</tr>
</tbody></table>
</li>
</ul>
</li>
</ul>
<h5 id="2-其他改变"><a href="#2-其他改变" class="headerlink" title="2.其他改变"></a>2.其他改变</h5><ul>
<li><p>data选项应始终被声明为一个函数。</p>
</li>
<li><p>过度类名的更改：</p>
<ul>
<li><p>Vue2.x写法</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.v-enter</span>,<br><span class="hljs-selector-class">.v-leave-to</span> &#123;<br>  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;<br>&#125;<br><span class="hljs-selector-class">.v-leave</span>,<br><span class="hljs-selector-class">.v-enter-to</span> &#123;<br>  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure>
</li>
<li><p>Vue3.x写法</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.v-enter-from</span>,<br><span class="hljs-selector-class">.v-leave-to</span> &#123;<br>  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-selector-class">.v-leave-from</span>,<br><span class="hljs-selector-class">.v-enter-to</span> &#123;<br>  <span class="hljs-attribute">opacity</span>: <span class="hljs-number">1</span>;<br>&#125;<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong style="color:#DD5145">移除</strong>keyCode作为 v-on 的修饰符，同时也不再支持<code>config.keyCodes</code></p>
</li>
<li><p><strong style="color:#DD5145">移除</strong><code>v-on.native</code>修饰符</p>
<ul>
<li><p>父组件中绑定事件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;my-component<br>  v-on:close=&quot;handleComponentEvent&quot;<br>  v-on:click=&quot;handleNativeClickEvent&quot;<br>/&gt;<br></code></pre></td></tr></table></figure>
</li>
<li><p>子组件中声明自定义事件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script&gt;<br>  export default &#123;<br>    emits: [&#x27;close&#x27;]<br>  &#125;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p><strong style="color:#DD5145">移除</strong>过滤器（filter）</p>
<blockquote>
<p>过滤器虽然这看起来很方便，但它需要一个自定义语法，打破大括号内表达式是 “只是 JavaScript” 的假设，这不仅有学习成本，而且有实现成本！建议用方法调用或计算属性去替换过滤器。</p>
</blockquote>
</li>
<li><p>……</p>
</li>
</ul>
<h4 id="CSS特性"><a href="#CSS特性" class="headerlink" title="CSS特性"></a>CSS特性</h4><h5 id="插槽选择器："><a href="#插槽选择器：" class="headerlink" title="插槽选择器："></a>插槽选择器：</h5><p>A.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;div&gt;<br>        我是插槽<br>        &lt;slot&gt;&lt;/slot&gt;<br>    &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup lang=&#x27;ts&#x27;&gt;<br><br>&lt;/script&gt;<br><br>&lt;style scoped&gt;<br>:slot(.a)&#123;<br>    color: pink;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<p>App.vue</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;div&gt;<br>        &lt;A&gt;<br>            &lt;div class=&quot;a&quot;&gt;私人定制div&lt;/div&gt;<br>        &lt;/A&gt;<br>    &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script setup lang=&#x27;ts&#x27;&gt;<br>import A from &quot;@/components/A.vue&quot;;<br><br>&lt;/script&gt;<br><br>&lt;style scoped&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<h5 id="全局选择器"><a href="#全局选择器" class="headerlink" title="全局选择器"></a>全局选择器</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;style&gt;<br> div&#123;<br>     color:red<br> &#125;<br>&lt;/style&gt;<br> <br>&lt;style lang=&quot;less&quot; scoped&gt;<br> <br>&lt;/style&gt;<br><br><br>&lt;style lang=&quot;less&quot; scoped&gt;<br>:global(div)&#123;<br>    color:red<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>



<p>动态选择器</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;div class=&quot;div&quot;&gt;<br>       小满是个弟弟<br>    &lt;/div&gt;<br>&lt;/template&gt;<br> <br>&lt;script lang=&quot;ts&quot; setup&gt;<br>import &#123; ref &#125; from &#x27;vue&#x27;<br>const red = ref&lt;string&gt;(&#x27;red&#x27;)<br>&lt;/script&gt;<br> <br>&lt;style lang=&quot;less&quot; scoped&gt;<br>.div&#123;<br>   color:v-bind(red)<br>&#125;<br> <br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<p>如果是对象 v-bind 请加引号</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs vue"> &lt;template&gt;<br>    &lt;div class=&quot;div&quot;&gt;<br>        小满是个弟弟<br>    &lt;/div&gt;<br>&lt;/template&gt;<br> <br>&lt;script lang=&quot;ts&quot; setup&gt;<br>import &#123; ref &#125; from &quot;vue&quot;<br>const red = ref(&#123;<br>    color:&#x27;pink&#x27;<br>&#125;)<br>&lt;/script&gt;<br> <br>    &lt;style lang=&quot;less&quot; scoped&gt;<br>.div &#123;<br>    color: v-bind(&#x27;red.color&#x27;);<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<h5 id="css-module"><a href="#css-module" class="headerlink" title="css module"></a>css module</h5><p><code>&lt;style module&gt;</code> 标签会被编译为 CSS Modules 并且将生成的 CSS 类作为 $style 对象的键暴露给组件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;div :class=&quot;$style.red&quot;&gt;<br>        小满是个弟弟<br>    &lt;/div&gt;<br>&lt;/template&gt;<br> <br>&lt;style module&gt;<br>.red &#123;<br>    color: red;<br>    font-size: 20px;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>

<p>自定义注入名称（多个可以用数组）</p>
<p>你可以通过给 module attribute 一个值来自定义注入的类对象的 property 键</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;div :class=&quot;[zs.red,zs.border]&quot;&gt;<br>        小满是个弟弟<br>    &lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;style module=&quot;zs&quot;&gt;<br>.red &#123;<br>    color: red;<br>    font-size: 20px;<br>&#125;<br>.border&#123;<br>    border: 1px solid #ccc;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>
<p>与组合式 API 一同使用</p>
<p>注入的类可以通过 useCssModule API 在 setup() 和 <script setup> 中使用。对于使用了自定义注入名称的 <style module> 模块，useCssModule 接收一个对应的 module attribute 值作为第一个参数</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;template&gt;<br>    &lt;div :class=&quot;[zs.red,zs.border]&quot;&gt;<br>        小满是个弟弟<br>    &lt;/div&gt;<br>&lt;/template&gt;<br> <br><br>&lt;script setup lang=&quot;ts&quot;&gt;<br>import &#123; useCssModule &#125; from &#x27;vue&#x27;<br>const css = useCssModule(&#x27;zs&#x27;)<br>&lt;/script&gt;<br><br>&lt;style module=&quot;zs&quot;&gt;<br>.red &#123;<br>    color: red;<br>    font-size: 20px;<br>&#125;<br>.border&#123;<br>    border: 1px solid #ccc;<br>&#125;<br>&lt;/style&gt;<br></code></pre></td></tr></table></figure>
<p>使用场景一般用于TSX  和 render  函数 居多</p>
<h4 id="event-loop"><a href="#event-loop" class="headerlink" title="event loop"></a>event loop</h4><p>同步任务</p>
<p>代码从上到下按顺序执行</p>
<p>异步任务</p>
<ol>
<li><p>宏任务<br>script(整体代码)、setTimeout、setInterval、UI交互事件、postMessage、Ajax</p>
</li>
<li><p>微任务<br>Promise.then catch finally、MutaionObserver、process.nextTick(Node.js 环境)</p>
</li>
</ol>
<p>运行机制</p>
<p>所有的同步任务都是在主进程执行的形成一个执行栈，主线程之外，还存在一个"任务队列"，异步任务执行队列中先执行宏任务，然后清空当次宏任务中的所有微任务，然后进行下一个tick如此形成循环。</p>
<p>nextTick 就是创建一个异步任务，那么它自然要等到同步任务执行完成后才执行。</p>
<h3 id="pinia"><a href="#pinia" class="headerlink" title="pinia"></a>pinia</h3><h4 id="Setup-Store"><a href="#Setup-Store" class="headerlink" title="Setup Store"></a>Setup Store</h4><p>初始化：</p>
<p><code>main.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; createApp &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span><br><span class="hljs-keyword">import</span> &#123; createPinia &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;pinia&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-title class_">App</span> <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;./App.vue&#x27;</span><br><br><span class="hljs-keyword">const</span> pinia = <span class="hljs-title function_">createPinia</span>()<br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(<span class="hljs-title class_">App</span>)<br><br>app.<span class="hljs-title function_">use</span>(pinia)<br>app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&#x27;#app&#x27;</span>)<br><br><span class="hljs-comment">// createApp(App).use(pinia).mount(&#x27;#app&#x27;)</span><br></code></pre></td></tr></table></figure>

<p><code>stroes/counter.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> &#123; defineStore &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;pinia&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; computed, ref &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;vue&#x27;</span>;<br><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;axios&#x27;</span>;<br><br><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">API_URL</span> = <span class="hljs-string">&#x27;http://geek.itheima.net/v1_0/channels&#x27;</span><br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useCounterStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">&#x27;counter&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> count = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>)<br>    <span class="hljs-keyword">const</span> <span class="hljs-title function_">increment</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>        count.<span class="hljs-property">value</span>++<br>    &#125;<br>    <span class="hljs-keyword">const</span> doubleCount = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> count.<span class="hljs-property">value</span> * <span class="hljs-number">2</span>)<br>    <span class="hljs-keyword">const</span> list = <span class="hljs-title function_">ref</span>([])<br>    <span class="hljs-keyword">const</span> <span class="hljs-title function_">getList</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"></span>) =&gt; &#123;<br>        <span class="hljs-keyword">const</span> res = <span class="hljs-keyword">await</span> <span class="hljs-title function_">axios</span>(<span class="hljs-variable constant_">API_URL</span>)<br>        list.<span class="hljs-property">value</span> = res.<span class="hljs-property">data</span>.<span class="hljs-property">data</span>.<span class="hljs-property">channels</span><br>    &#125;<br><br>    <span class="hljs-keyword">return</span> &#123;<br>        count, increment, doubleCount, list, getList<br>    &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>

<p><code>App.vue</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;script setup&gt;<br>import &#123; useCounterStore &#125; from &#x27;@/stores/counter&#x27;;<br>import &#123; onMounted &#125; from &#x27;vue&#x27;;<br>import &#123; storeToRefs &#125; from &#x27;pinia&#x27;;<br>// console.dir(useCounterStore);<br><br>const counterStore = useCounterStore()<br>console.log(counterStore);<br><br>onMounted(() =&gt; &#123;<br>    counterStore.getList()<br>&#125;)<br>// 数据要这样才不会丢失响应式：<br>const &#123;count, doubleCount&#125; = storeToRefs(counterStore)<br>&lt;/script&gt;<br>  <br>&lt;template&gt;<br>&lt;button @click=&quot;counterStore.increment&quot;&gt;&#123;&#123; counterStore.count  &#125;&#125; || &#123;&#123; counterStore.doubleCount &#125;&#125;&lt;/button&gt; <br><br>&lt;ul&gt;<br>    &lt;li v-for=&quot;item in counterStore.list&quot; :key=&quot;item.id&quot;&gt; &#123;&#123; item.name &#125;&#125;&lt;/li&gt;<br>&lt;/ul&gt;<br>&lt;/template&gt;<br><br>&lt;style scoped&gt;&lt;/style&gt;<br></code></pre></td></tr></table></figure>



<p>数据持久化插件：<code>pinia-plugin-persistedstate</code></p>
<ul>
<li><code>ref()</code> 就是 <code>state</code> 属性</li>
<li><code>computed()</code> 就是 <code>getters</code></li>
<li><code>function()</code> 就是 <code>actions</code></li>
</ul>
<p>注意，要让 pinia 正确识别 <code>state</code>，你<strong>必须</strong>在 setup store 中返回 <strong><code>state</code> 的所有属性</strong>。</p>
<h4 id="Option-Store"><a href="#Option-Store" class="headerlink" title="Option Store"></a>Option Store</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> useCounterStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">&#x27;counter&#x27;</span>, &#123;<br>  <span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> (&#123; <span class="hljs-attr">count</span>: <span class="hljs-number">0</span> &#125;),<br>  <span class="hljs-attr">getters</span>: &#123;<br>    <span class="hljs-attr">double</span>: <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> state.<span class="hljs-property">count</span> * <span class="hljs-number">2</span>,<br>  &#125;,<br>  <span class="hljs-attr">actions</span>: &#123;<br>    <span class="hljs-title function_">increment</span>(<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">count</span>++<br>    &#125;,<br>  &#125;,<br>&#125;)<br></code></pre></td></tr></table></figure>

<ul>
<li><code>state</code> 是 store 的数据 (<code>data</code>)，</li>
<li><code>getters</code> 是 store 的计算属性 (<code>computed</code>)，读取state时要加上<code>state</code>前缀，参数加上<code>state</code></li>
<li><code>actions</code> 则是方法 (<code>methods</code>)。读取state时要加上<code>this</code>前缀</li>
</ul>
<hr>
<h2 id="Echarts"><a href="#Echarts" class="headerlink" title="Echarts"></a>Echarts</h2><h3 id="样例"><a href="#样例" class="headerlink" title="样例"></a>样例</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;echarts.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css">        *&#123;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">            <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;</span><br><span class="language-css">        &#125;</span><br><span class="language-css">        <span class="hljs-selector-id">#main</span>&#123;</span><br><span class="language-css">            <span class="hljs-attribute">margin</span>: <span class="hljs-number">20px</span>;</span><br><span class="language-css">            <span class="hljs-attribute">background-color</span>: <span class="hljs-built_in">rgb</span>(<span class="hljs-number">228</span>, <span class="hljs-number">255</span>, <span class="hljs-number">192</span>);</span><br><span class="language-css">        &#125;</span><br><span class="language-css">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;main&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 600px; height: 400px;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">let</span> chartDom = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#main&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-keyword">let</span> myChart = echarts.<span class="hljs-title function_">init</span>(chartDom)</span><br><span class="language-javascript">        <span class="hljs-keyword">let</span> option=&#123;</span><br><span class="language-javascript">            <span class="hljs-attr">xAxis</span>: &#123;</span><br><span class="language-javascript">                <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;category&quot;</span>,</span><br><span class="language-javascript">                <span class="hljs-attr">data</span>: [<span class="hljs-string">&quot;Mon&quot;</span>, <span class="hljs-string">&quot;Tue&quot;</span>, <span class="hljs-string">&quot;Thu&quot;</span>, <span class="hljs-string">&quot;Fri&quot;</span>, <span class="hljs-string">&quot;Sat&quot;</span>, <span class="hljs-string">&quot;Sun&quot;</span>],</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-attr">yAxis</span>: &#123;</span><br><span class="language-javascript">                <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;value&quot;</span>,</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-attr">series</span>: [</span><br><span class="language-javascript">                &#123;</span><br><span class="language-javascript">                    <span class="hljs-attr">data</span>: [<span class="hljs-number">150</span>, <span class="hljs-number">230</span>, <span class="hljs-number">224</span>, <span class="hljs-number">218</span>, <span class="hljs-number">135</span>, <span class="hljs-number">147</span>, <span class="hljs-number">260</span>],</span><br><span class="language-javascript">                    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;line&#x27;</span>,</span><br><span class="language-javascript">                &#125;,</span><br><span class="language-javascript">            ],</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript">        myChart.<span class="hljs-title function_">setOption</span>(option);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="series系列"><a href="#series系列" class="headerlink" title="series系列"></a>series系列</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">series</span>: [&#123;<br>    <span class="hljs-attr">data</span>: [数据],<br>    <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;图表类型&#x27;</span>,<br>    <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;名字&#x27;</span>,<br>    <span class="hljs-attr">stack</span>: <span class="hljs-string">&#x27;数据堆叠&#x27;</span><br>    <span class="hljs-comment">// 同个类目轴上系列配置相同的 stack 值后，</span><br>    <span class="hljs-comment">// 后一个系列的值会在前一个系列的值上相加</span><br>&#125;]<br></code></pre></td></tr></table></figure>

<p><code>type</code>:</p>
<ul>
<li>line（折线图）</li>
<li>bar（柱状图）</li>
<li>pie（饼图）</li>
<li>scatter（散点图）</li>
<li>graph（关系图）</li>
<li>tree（树图）</li>
</ul>
<p><code>tooltip</code>: 提示</p>
<h3 id="dataset"><a href="#dataset" class="headerlink" title="dataset"></a>dataset</h3><p><img src="https://echarts.apache.org/zh/documents/asset/img/basic-concepts-overview/series-all-b.jpg" srcset="/img/loading.gif" lazyload></p>
<p>对象数组格式：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-attr">dataset</span>: &#123;<br>    <span class="hljs-comment">// 用 dimensions 指定了维度的顺序。直角坐标系中，</span><br>    <span class="hljs-comment">// 默认把第一个维度映射到 X 轴上，第二个维度映射到 Y 轴上。</span><br>    <span class="hljs-comment">// 如果不指定 dimensions，也可以通过指定 series.encode</span><br>    <span class="hljs-comment">// 完成映射，参见后文。</span><br>    <span class="hljs-attr">dimensions</span>: [<span class="hljs-string">&#x27;product&#x27;</span>, <span class="hljs-string">&#x27;2015&#x27;</span>, <span class="hljs-string">&#x27;2016&#x27;</span>, <span class="hljs-string">&#x27;2017&#x27;</span>],<br>        <span class="hljs-attr">source</span>: [<br>            &#123;<span class="hljs-attr">product</span>: <span class="hljs-string">&#x27;Matcha Latte&#x27;</span>, <span class="hljs-string">&#x27;2015&#x27;</span>: <span class="hljs-number">43.3</span>, <span class="hljs-string">&#x27;2016&#x27;</span>: <span class="hljs-number">85.8</span>, <span class="hljs-string">&#x27;2017&#x27;</span>: <span class="hljs-number">93.7</span>&#125;,<br>            &#123;<span class="hljs-attr">product</span>: <span class="hljs-string">&#x27;Milk Tea&#x27;</span>, <span class="hljs-string">&#x27;2015&#x27;</span>: <span class="hljs-number">83.1</span>, <span class="hljs-string">&#x27;2016&#x27;</span>: <span class="hljs-number">73.4</span>, <span class="hljs-string">&#x27;2017&#x27;</span>: <span class="hljs-number">55.1</span>&#125;,<br>            &#123;<span class="hljs-attr">product</span>: <span class="hljs-string">&#x27;Cheese Cocoa&#x27;</span>, <span class="hljs-string">&#x27;2015&#x27;</span>: <span class="hljs-number">86.4</span>, <span class="hljs-string">&#x27;2016&#x27;</span>: <span class="hljs-number">65.2</span>, <span class="hljs-string">&#x27;2017&#x27;</span>: <span class="hljs-number">82.5</span>&#125;,<br>            &#123;<span class="hljs-attr">product</span>: <span class="hljs-string">&#x27;Walnut Brownie&#x27;</span>, <span class="hljs-string">&#x27;2015&#x27;</span>: <span class="hljs-number">72.4</span>, <span class="hljs-string">&#x27;2016&#x27;</span>: <span class="hljs-number">53.9</span>, <span class="hljs-string">&#x27;2017&#x27;</span>: <span class="hljs-number">39.1</span>&#125;<br>        ]<br>&#125;,<br></code></pre></td></tr></table></figure>



<h3 id="轴"><a href="#轴" class="headerlink" title="轴"></a>轴</h3><p>type是坐标轴类型，其类型有以下几种：</p>
<ul>
<li><code>value</code> 是数值轴，适用于连续数据。</li>
<li><code>category</code> 是类目轴，适用于离散的类目数据。</li>
<li><code>time</code> 是时间轴，适用于连续的时序数据，与数值轴相比时间轴带有时间的格式化，在刻度计算上也有所不同。</li>
<li><code>log</code> 是对数轴。适用于对数数据。</li>
</ul>
<h3 id="多列柱状图"><a href="#多列柱状图" class="headerlink" title="多列柱状图"></a>多列柱状图</h3><img src="image-20230317132119171.png" srcset="/img/loading.gif" lazyload width=600px>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><code class="hljs js">option = &#123;<br>  <span class="hljs-attr">tooltip</span>: &#123;<br>    <span class="hljs-attr">trigger</span>: <span class="hljs-string">&quot;axis&quot;</span>,<br>    <span class="hljs-attr">axisPointer</span>: &#123;<br>      <span class="hljs-comment">// 坐标轴指示器配置项</span><br>      <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;cross&quot;</span>,<br>      <span class="hljs-attr">crossStyle</span>: &#123;<br>        <span class="hljs-attr">color</span>: <span class="hljs-string">&quot;red&quot;</span>,<br>      &#125;,<br>    &#125;,<br>  &#125;,<br>  <span class="hljs-attr">toolbox</span>: &#123;<br>    <span class="hljs-attr">feature</span>: &#123;<br>      <span class="hljs-attr">dataView</span>: &#123; <span class="hljs-attr">show</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">readOnly</span>: <span class="hljs-literal">false</span> &#125;,<br>      <span class="hljs-attr">saveAsImage</span>: &#123; <span class="hljs-attr">show</span>: <span class="hljs-literal">true</span> &#125;, <span class="hljs-comment">// 保存图片</span><br>    &#125;,<br>  &#125;,<br>  <span class="hljs-attr">legend</span>: &#123;<br>    <span class="hljs-attr">data</span>: [<span class="hljs-string">&quot;男&quot;</span>, <span class="hljs-string">&quot;女&quot;</span>], <span class="hljs-comment">// 图例的数据数组</span><br>  &#125;,<br>  <span class="hljs-attr">xAxis</span>: [<br>    &#123;<br>      <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;category&quot;</span>,<br>      <span class="hljs-attr">data</span>: [<span class="hljs-string">&quot;中国&quot;</span>, <span class="hljs-string">&quot;美国&quot;</span>, <span class="hljs-string">&quot;古巴&quot;</span>, <span class="hljs-string">&quot;印度&quot;</span>, <span class="hljs-string">&quot;巴西&quot;</span>, <span class="hljs-string">&quot;不丹&quot;</span>, <span class="hljs-string">&quot;德国&quot;</span>],<br>      <span class="hljs-attr">axisPointer</span>: &#123;<br>        <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;shadow&quot;</span>,<br>      &#125;,<br>    &#125;,<br>  ],<br>  <span class="hljs-attr">yAxis</span>: [<br>    &#123;<br>      <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;value&quot;</span>,<br>      <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;人口数量&quot;</span>,<br>      <span class="hljs-attr">min</span>: <span class="hljs-number">0</span>,<br>      <span class="hljs-attr">max</span>: <span class="hljs-number">8000</span>,<br>      <span class="hljs-attr">interval</span>: <span class="hljs-number">1000</span>,<br>      <span class="hljs-attr">axisLabel</span>: &#123;<br>        <span class="hljs-attr">formatter</span>: <span class="hljs-string">&quot;&#123;value&#125; 万&quot;</span>,<br>      &#125;,<br>    &#125;,<br>  ],<br>  <span class="hljs-attr">series</span>: [<br>    &#123;<br>      <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;男&quot;</span>,<br>      <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;bar&quot;</span>,<br>      <span class="hljs-attr">data</span>: [<span class="hljs-number">7113</span>, <span class="hljs-number">1619</span>, <span class="hljs-number">2340</span>, <span class="hljs-number">6987</span>, <span class="hljs-number">1046</span>, <span class="hljs-number">3783</span>, <span class="hljs-number">4145</span>],<br>    &#125;,<br>    &#123;<br>      <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;女&quot;</span>,<br>      <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;bar&quot;</span>,<br>      <span class="hljs-attr">data</span>: [<span class="hljs-number">6787</span>, <span class="hljs-number">1660</span>, <span class="hljs-number">2049</span>, <span class="hljs-number">6545</span>, <span class="hljs-number">1080</span>, <span class="hljs-number">4260</span>, <span class="hljs-number">3989</span>],<br>    &#125;,<br>  ],<br>&#125;;<br></code></pre></td></tr></table></figure>

<ul>
<li><p><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#tooltip.axisPointer">tooltip.axisPointer</a> 是配置坐标轴指示器的全局公用设置，也就是说里面包含的属性都是与坐标轴的设置相关。</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#tooltip.axisPointer.type">tooltip.axisPointer.type</a> 是指示器类型，包含 <code>line</code>（直线指示器）、<code>shadow</code>（阴影指示器）、<code>none</code>（无指示器）、<code>cross</code>（十字准星指示器）这四种类型。</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#tooltip.axisPointer.crossStyle">tooltip.axisPointer.crossStyle.color</a> 用于设置线的颜色。</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#legend.data">legend.data</a> 是图例的数据数组。</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#xAxis.axisPointer.type">xAxis.axisPointer.type</a> 是指示器类型，包含 <code>line</code>（直线指示器）、<code>shadow</code>（阴影指示器）、<code>none</code>（无指示器）这三种类型。</p>
</li>
<li><ul>
<li><p><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#yAxis.min">yAxis.min</a> 用于设置 y 轴的最小值。</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#yAxis.max">yAxis.max</a> 用于设置 y 轴的最大值。</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#yAxis.axisLabel.formatter">yAxis.axisLabel.formatter</a> 是刻度标签的内容格式器。</p>
</li>
</ul>
</li>
<li><p><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#yAxis.inverse">yAxis.inverse</a> 设置是否反向坐标轴。</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#series-bar.barWidth">series.barWidth</a> 设置条柱的宽度。</p>
</li>
</ul>
<h3 id="饼图"><a href="#饼图" class="headerlink" title="饼图"></a>饼图</h3><img src="image-20230317141239890.png" srcset="/img/loading.gif" lazyload width=600px>

<ul>
<li><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#series-pie.radius">series.radius</a> 设置饼形的半径</li>
<li><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#series-pie.center">series.center</a> 设置饼图的中心（圆心）坐标，数组的第一项是横坐标，第二项是纵坐标。</li>
<li><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#series-pie.roseType">series.roseType</a> 设置是否展示成南丁格尔图，通过半径区分数据大小，有两种模式：<ul>
<li><code>radius</code> 区圆心角展现数据的百分比，半径展现数据的大小。</li>
<li><code>area</code> 所有扇区圆心角相同，仅通过半径展现数据大小。</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#series-pie.itemStyle.borderRadius">series.itemStyle.borderRadius</a> 用于指定饼图扇形区块的内外圆角半径。</li>
<li><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#legend.itemWidth">legend.itemWidth</a> 和 <a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#legend.itemHeight">legend.itemHeight</a> 分别是图例标记的图表宽度和高度，也就是最下方小图标的宽高。</li>
<li><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#series-pie.labelLine.length">series-pie.labelLine.length</a> 是视觉引导线第一段的长度。</li>
<li><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#series-pie.labelLine.length2">series-pie.labelLine.length2</a> 是视觉引导项第二段的长度。</li>
</ul>
<h3 id="散点图"><a href="#散点图" class="headerlink" title="散点图"></a>散点图</h3><p><img src="/2023/06/24/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20230317143127481.png" srcset="/img/loading.gif" lazyload alt="image-20230317143127481"></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#xAxis.nameGap">xAxis.nameGap</a> 用于设置坐标轴名称与轴线之间的距离，默认值为 15。</li>
<li><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#xAxis.nameTextStyle.fontSize">xAxis.nameTextStyle.fontsize</a> 是用来设置坐标轴名称文字的字体大小，默认值为 12。</li>
<li><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#xAxis.nameLocation">xAxis.nameLocation</a> 是用来设置坐标轴名称显示位置，可选值有 <code>start</code>（开头）、<code>middle</code> 或 <code>center</code>（居中）、<code>end</code>（末尾）。</li>
<li><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#visualMap">visualMap</a> 是视觉映射组件。<ul>
<li><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#visualMap-continuous.left">visualMap.left</a> 和 <a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#visualMap-continuous.top">visualMap.top</a> 设置 visualMap 组件离容器左侧和顶部的距离。</li>
<li><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#visualMap-continuous.dimension">visualMap.dimension</a> 用来指定数据的哪个维度映射到视觉元素上。</li>
<li><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#visualMap-continuous.min">visualMap.min</a> 和 <a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#visualMap-continuous.max">visualMap.max</a> 用来设置 visualMap 组件允许的最小值和最大值。</li>
<li><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#visualMap-continuous.itemWidth">visualMap.itemWidth</a> 和 <a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#visualMap-continuous.itemHeight">visualMap.itemHeight</a> 设置 visualMap 组件图表的宽度和高度。</li>
<li><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#visualMap-continuous.calculable">visualMap.calculable</a> 设置是否显示拖拽用的手柄（手柄能拖拽调整选中范围）。</li>
<li><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#visualMap-continuous.precision">visualMap.precision</a> 是设置数据展示的小数精度，默认为 0，无小数点。</li>
<li><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#visualMap-continuous.text">visualMap.text</a> 和 <a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#visualMap-continuous.textGap">visualMap.textGap</a> 用来设置 visualMap 组件图表上两端的文字和设置文字与图表之间的距离。</li>
<li><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#visualMap-continuous.inRange">visualMap.inRange.symbolSize</a> 设置选中范围内散点的大小。</li>
<li><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#visualMap-continuous.outOfRange">visualMap.outOfRange.symbolSize</a> 设置选中范围外散点的大小。</li>
<li><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#visualMap-piecewise.color">visualMap.outOfRange.color</a> 设置选中范围外散点的颜色</li>
<li><a target="_blank" rel="noopener" href="https://echarts.apache.org/zh/option.html#visualMap-continuous.controller">visualMap.controller</a> 是 visualMap 组件中，控制器的 inRange、outOfRange 设置。</li>
</ul>
</li>
</ul>
<h3 id="事件-2"><a href="#事件-2" class="headerlink" title="事件"></a>事件</h3><p>​	</p>
<h2 id="杂项-1"><a href="#杂项-1" class="headerlink" title="杂项"></a>杂项</h2><h3 id="调试"><a href="#调试" class="headerlink" title="调试"></a>调试</h3><h4 id="问题解决方案"><a href="#问题解决方案" class="headerlink" title="问题解决方案"></a>问题解决方案</h4><h5 id="浏览器控制台打印DOM详细信息"><a href="#浏览器控制台打印DOM详细信息" class="headerlink" title="浏览器控制台打印DOM详细信息"></a>浏览器控制台打印DOM详细信息</h5><p>当我们使用console打印一个dom的时候，通常会出现打印出一个标签，此时有三种解决方法</p>
<blockquote>
<p>使用数组包起来 [dom]</p>
</blockquote>
<blockquote>
<p>使用对象的一个key指向dom,然后打印这个dom</p>
</blockquote>
<blockquote>
<p>直接使用__proto__属性</p>
</blockquote>
<h5 id="forEach能否修改"><a href="#forEach能否修改" class="headerlink" title="forEach能否修改"></a>forEach能否修改</h5><p>在 JavaScript 中，<code>Array.prototype.forEach()</code> 方法确实可以修改数组中的元素，但这主要取决于你修改的是原始数据类型（如数字、字符串、布尔值）还是对象。</p>
<p>如果你想修改的是数组中的对象，那么你可以直接修改这些对象的属性，因为对象在 JavaScript 中是通过引用传递的。这意味着当你获取一个对象并修改它的属性时，你实际上是在修改原始对象。以下是一个例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [&#123;<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;John&#x27;</span>&#125;, &#123;<span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Jane&#x27;</span>&#125;];<br><br>arr.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> &#123;<br>    item.<span class="hljs-property">name</span> = <span class="hljs-string">&#x27;Updated&#x27;</span>;<br>&#125;);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr);  <span class="hljs-comment">// 输出：[ &#123; id: 1, name: &#x27;Updated&#x27; &#125;, &#123; id: 2, name: &#x27;Updated&#x27; &#125; ]</span><br></code></pre></td></tr></table></figure>

<p>然而，如果你试图直接修改 <code>forEach</code> 的回调函数中的参数（这是一个对象），如你在第一段代码中所做的，那么这将不会影响原始数组。因为这个参数只是原始对象的一个副本，修改它并不会影响原始对象。以下是一个例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">let</span> arr = [&#123;<span class="hljs-attr">id</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;John&#x27;</span>&#125;, &#123;<span class="hljs-attr">id</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Jane&#x27;</span>&#125;];<br><br>arr.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> &#123;<br>    item = &#123;<span class="hljs-attr">id</span>: <span class="hljs-number">3</span>, <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;Updated&#x27;</span>&#125;;<br>&#125;);<br><br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr);  <span class="hljs-comment">// 输出：[ &#123; id: 1, name: &#x27;John&#x27; &#125;, &#123; id: 2, name: &#x27;Jane&#x27; &#125; ]</span><br></code></pre></td></tr></table></figure>

<p>在这个例子中，尽管我们试图将新的对象赋值给 <code>item</code>，但这并没有影响原始数组。</p>
<p>如果你想在 <code>forEach</code> 中修改数组的元素，你需要直接修改元素的属性（如果元素是对象），或者使用数组的索引来修改元素（如果元素是原始数据类型）。</p>
<p>总结：<strong>可以修改属性，不能整个赋值修改</strong></p>
<h3 id="网络"><a href="#网络" class="headerlink" title="网络"></a>网络</h3><h4 id="跨域"><a href="#跨域" class="headerlink" title="跨域"></a>跨域</h4><h5 id="jsonp"><a href="#jsonp" class="headerlink" title="jsonp"></a>jsonp</h5><ul>
<li>原理：通过script 的 src不受同源策略的限制，可以跨域请求数据，但是只能发送get请求</li>
<li>缺点：只能发送get请求，不安全，不容易维护</li>
<li>后端返回的是一个函数，但是这个函数是在前端定义的他会把值注入到这个函数的参数里面</li>
</ul>
<p>例：<a target="_blank" rel="noopener" href="https://segmentfault.com/a/1190000041946934">segmentfault</a></p>
<p>客户端</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">jsonp</span> = (<span class="hljs-params">name</span>) =&gt; &#123;<br>    <span class="hljs-keyword">let</span> script = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;script&quot;</span>);<br>    script.<span class="hljs-property">src</span> = <span class="hljs-string">&quot;http://localhost:3000/api/jsonp?callback=&quot;</span> + name;<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-property">body</span>.<span class="hljs-title function_">appendChild</span>(script);<br>    <span class="hljs-comment">// &quot;http://localhost:3000/api/jsonp?callback=&quot; + name; 的内容会开始加载</span><br>    <span class="hljs-comment">// 根据服务端第6行，这个脚本的内容是callback1701803297(&#x27;hello jsonp&#x27;)，会执行这个函数</span><br>    <span class="hljs-comment">// 这个函数在下面定义了：</span><br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve</span>) =&gt;</span> &#123;<br>        <span class="hljs-variable language_">window</span>[name] = <span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> &#123;<br>            <span class="hljs-title function_">resolve</span>(data);<br>        &#125;;<br>        <span class="hljs-comment">// 定义了一个全局函数叫做callback1701803297，加载了script脚本后就会开始执行</span><br>        <span class="hljs-comment">// 它的作用就是把data传给res，在下面的回调中再打印出来</span><br>    &#125;);<br>&#125;;<br><span class="hljs-title function_">jsonp</span>(<span class="hljs-string">`callback<span class="hljs-subst">$&#123;<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getTime()&#125;</span>`</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res);<br>&#125;);<br></code></pre></td></tr></table></figure>

<p>服务端</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">&#x27;express&#x27;</span>);<br><br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">express</span>();<br>app.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/api/jsonp&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> &#123; callback &#125; = req.<span class="hljs-property">query</span>;<br>    res.<span class="hljs-title function_">send</span>(<span class="hljs-string">`<span class="hljs-subst">$&#123;callback&#125;</span>(&#x27;hello jsonp&#x27;)`</span>);<br>&#125;)<br><br>app.<span class="hljs-title function_">listen</span>(<span class="hljs-number">3000</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&#x27;servver is running&#x27;</span>);<br>&#125;)  <br></code></pre></td></tr></table></figure>





<h5 id="使用构建工具"><a href="#使用构建工具" class="headerlink" title="使用构建工具"></a>使用构建工具</h5><p>使用webpack、vite等工具在前端解决</p>
<p>只在生产环境有效，上线时需要配置Nginx</p>
<h5 id="后端"><a href="#后端" class="headerlink" title="后端"></a>后端</h5><p>添加：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">&#x27;Access-Control-Allow-Origin&#x27;</span>, <span class="hljs-string">&#x27;http://127.0.0.1:5500&#x27;</span>)<br></code></pre></td></tr></table></figure>

<p>或者：最简单的就是使用 <a target="_blank" rel="noopener" href="https://link.segmentfault.com/?enc=V0zZ00LzpweBIhpy/WErPg==.CEynrWQPNCa574xqAMsV3/1flYC3qrto8f2eNroNLBkj7VFTMn3YRsPJ/TNDgkiG">expressjs/cors</a></p>
<ol>
<li>安装 <code>npm install cors --save</code></li>
<li>引入 <code>var cors = require(&#39;cors&#39;);</code></li>
<li>使用 <code>app.use(cors());</code></li>
</ol>
<p>// TODO <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1rL411a7UN?p=6">https://www.bilibili.com/video/BV1rL411a7UN?p=6</a></p>
<h4 id="Ajax"><a href="#Ajax" class="headerlink" title="Ajax"></a>Ajax</h4><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7238072027637186617">https://juejin.cn/post/7238072027637186617</a></p>
<p>使用 <code>XMLHttpRequest</code> 可以通过 JavaScript 发起HTTP请求，接收来自服务器的响应，并动态地更新网页中的内容。</p>
<p>这种异步通信方式不会阻塞用户界面，有利于增强用户体验。</p>
<p><strong>特性</strong></p>
<ul>
<li><code>xhr.onreadystatechange()</code>，给它赋一个函数。这个函数会在状态改变时执行</li>
<li><code>xhr.abort()</code>，终止请求</li>
<li><code>xhr.timeout</code>，超时时间。达到这个时间后会触发<code>timeout</code>事件，然后<code>abort</code></li>
<li><strong>事件</strong><ul>
<li><code>abort</code>：请求终止时触发</li>
<li><code>timeout</code>：请求超时时触发</li>
<li><code>progress</code>：请求到数据时触发（只要请求到了数据就会持续触发）</li>
<li><code>load</code>：加载好后，触发</li>
</ul>
</li>
</ul>
<p>onreadystatechange 一个回调函数，在每次状态发生变化时被调用。</p>
<ul>
<li>readyState 0：未初始化，XMLHttpRequest 对象已经创建，但未调用 open 方法。</li>
<li>readyState 1：已打开，open 方法已经被调用，但 send 方法未被调用。</li>
<li>readyState 2：已发送，send 方法已经被调用，请求已经被服务器接收。</li>
<li>readyState 3：正在接收，服务器正在处理请求并返回数据。</li>
<li>readyState 4：完成，服务器已经完成了数据传输。</li>
</ul>
<p>以<code>get</code>请求为例</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;ajax&quot;</span>&gt;</span>Ajax请求<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;progress&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      btn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;ajax&quot;</span>);</span><br><span class="language-javascript"></span><br><span class="language-javascript">      btn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">        <span class="hljs-title function_">sendAjax</span>();</span><br><span class="language-javascript">      &#125;);</span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> <span class="hljs-title function_">sendAjax</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> xhr = <span class="hljs-keyword">new</span> <span class="hljs-title class_">XMLHttpRequest</span>();</span><br><span class="language-javascript">        xhr.<span class="hljs-title function_">open</span>(<span class="hljs-string">&quot;get&quot;</span>, <span class="hljs-string">&quot;http://localhost:5400/api/txt?name=szl&quot;</span>, <span class="hljs-literal">true</span>);</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 超时时间，会中断请求</span></span><br><span class="language-javascript">        xhr.<span class="hljs-property">timeout</span> = <span class="hljs-number">30000</span>;</span><br><span class="language-javascript">        xhr.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;timeout&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;超时&quot;</span>);</span><br><span class="language-javascript">        &#125;);</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 打印进度</span></span><br><span class="language-javascript">        xhr.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;progress&quot;</span>, <span class="hljs-function">(<span class="hljs-params">event</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">          <span class="hljs-keyword">const</span> progress = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;progress&quot;</span>);</span><br><span class="language-javascript">          progress.<span class="hljs-property">innerText</span> = <span class="hljs-string">`<span class="hljs-subst">$&#123;((event.loaded / event.total) * <span class="hljs-number">100</span>).toFixed(</span></span></span><br><span class="hljs-subst"><span class="hljs-string"><span class="language-javascript">            <span class="hljs-number">2</span></span></span></span><br><span class="hljs-subst"><span class="hljs-string"><span class="language-javascript">          )&#125;</span>%`</span>;</span><br><span class="language-javascript">          <span class="hljs-comment">// console.log(event.loaded, event.total);</span></span><br><span class="language-javascript">        &#125;);</span><br><span class="language-javascript"></span><br><span class="language-javascript">        xhr.<span class="hljs-property">onreadystatechange</span> = <span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">          <span class="hljs-keyword">if</span> (xhr.<span class="hljs-property">readyState</span> === <span class="hljs-number">4</span> &amp;&amp; xhr.<span class="hljs-property">status</span> === <span class="hljs-number">200</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(xhr.<span class="hljs-property">responseText</span>);</span><br><span class="language-javascript">          &#125;</span><br><span class="language-javascript">          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">111</span>);</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">//中断请求只需要调用 xhr.abort(); 并且会有一个中断的回调;</span></span><br><span class="language-javascript">        xhr.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;abort&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;我被中断了&quot;</span>);</span><br><span class="language-javascript">        &#125;);</span><br><span class="language-javascript"></span><br><span class="language-javascript">        xhr.<span class="hljs-title function_">send</span>(<span class="hljs-number">1234</span>);</span><br><span class="language-javascript">      &#125;;</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>



<h4 id="http-1"><a href="#http-1" class="headerlink" title="http"></a>http</h4><p>报文格式</p>
<ol>
<li>请求行：请求方法，URL ，协议</li>
<li>请求头：以键值对的格式携带的附加信息，比如： Content Type</li>
<li>空行：分隔请求头，空行之后的是发送给服务器的资源</li>
<li>请求体：发送的资源</li>
</ol>
<p><img src="/%E5%89%8D%E7%AB%AF%E7%AC%94%E8%AE%B0/image-20240218155800174.png" srcset="/img/loading.gif" lazyload alt="image-20240218155800174"></p>
<p>状态码</p>
<table>
<thead>
<tr>
<th align="center">1xx</th>
<th align="center">信息</th>
</tr>
</thead>
<tbody><tr>
<td align="center">2xx</td>
<td align="center">成功</td>
</tr>
<tr>
<td align="center">3xx</td>
<td align="center">重定向消息</td>
</tr>
<tr>
<td align="center">4xx</td>
<td align="center">客户端错误</td>
</tr>
<tr>
<td align="center">5xx</td>
<td align="center">服务端错误</td>
</tr>
</tbody></table>
<h4 id="fetch"><a href="#fetch" class="headerlink" title="fetch"></a>fetch</h4><p><a target="_blank" rel="noopener" href="https://xiaoman.blog.csdn.net/article/details/130931279">小满</a></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>Document<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;fetch&quot;</span>&gt;</span>sendFetch<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> fetchBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;fetch&quot;</span>);</span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> <span class="hljs-title function_">sendFetch</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span><br><span class="language-javascript">        <span class="hljs-title function_">fetch</span>(<span class="hljs-string">&quot;http://localhost:5400/post/txt&quot;</span>, &#123;</span><br><span class="language-javascript">          <span class="hljs-comment">// 默认是get</span></span><br><span class="language-javascript">          <span class="hljs-attr">method</span>: <span class="hljs-string">&quot;post&quot;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">headers</span>: &#123;</span><br><span class="language-javascript">            <span class="hljs-string">&quot;Content-Type&quot;</span>: <span class="hljs-string">&quot;application/json&quot;</span>,</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">          <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(&#123;</span><br><span class="language-javascript">            <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;zs&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,</span><br><span class="language-javascript">          &#125;),</span><br><span class="language-javascript">        &#125;)</span><br><span class="language-javascript">          .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> res.<span class="hljs-title function_">json</span>();</span><br><span class="language-javascript">          &#125;)</span><br><span class="language-javascript">          .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data);</span><br><span class="language-javascript">          &#125;);</span><br><span class="language-javascript">      &#125;;</span><br><span class="language-javascript">      fetchBtn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, sendFetch);</span><br><span class="language-javascript">    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br><br></code></pre></td></tr></table></figure>

<p><code>fetch</code>有三步：</p>
<ol>
<li><p>当服务器发送了响应头（response header），<code>fetch</code> 返回的 <code>promise</code> 就使用内建的 <a target="_blank" rel="noopener" href="https://fetch.spec.whatwg.org/#response-class">Response</a> class 对象来对响应头进行解析。</p>
<p><strong>只解析了响应头</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> url = <span class="hljs-string">&#x27;https://api.github.com/repos/javascript-tutorial/en.javascript.info/commits&#x27;</span>;<br><span class="hljs-keyword">let</span> response = <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(url);<br></code></pre></td></tr></table></figure>
</li>
<li><p>获取响应体</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> commits = <span class="hljs-keyword">await</span> response.<span class="hljs-title function_">json</span>(); <span class="hljs-comment">// 读取 response body，并将其解析为 JSON 格式</span><br></code></pre></td></tr></table></figure>
</li>
<li><p>数据处理</p>
</li>
</ol>
<p>参数：</p>
<ol>
<li>请求头：</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">fetch</span>(<span class="hljs-string">&quot;http://localhost:5400/post/txt&quot;</span>, &#123;<br>    <span class="hljs-comment">// 默认是get</span><br>    <span class="hljs-attr">method</span>: <span class="hljs-string">&quot;post&quot;</span>,<br>    <span class="hljs-attr">headers</span>: &#123;<br>        <span class="hljs-string">&quot;Content-Type&quot;</span>: <span class="hljs-string">&quot;application/json&quot;</span>,<br>    &#125;,<br>    <span class="hljs-attr">body</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(&#123;<br>        <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;zs&quot;</span>,<br>        <span class="hljs-attr">age</span>: <span class="hljs-number">18</span>,<br>    &#125;),<br>&#125;)<br></code></pre></td></tr></table></figure>

<ol start="2">
<li>获取 response body 的方法：</li>
</ol>
<ul>
<li><strong><code>response.text()</code></strong> —— 读取 response，并以文本形式返回 response，</li>
<li><strong><code>response.json()</code></strong> —— 将 response 解析为 JSON 格式，</li>
<li><strong><code>response.formData()</code></strong> —— 以 <code>FormData</code> 对象（在 <a target="_blank" rel="noopener" href="https://zh.javascript.info/formdata">下一章</a> 有解释）的形式返回 response，</li>
<li><strong><code>response.blob()</code></strong> —— 以 <a target="_blank" rel="noopener" href="https://zh.javascript.info/blob">Blob</a>（具有类型的二进制数据）形式返回 response，</li>
<li><strong><code>response.arrayBuffer()</code></strong> —— 以 <a target="_blank" rel="noopener" href="https://zh.javascript.info/arraybuffer-binary-arrays">ArrayBuffer</a>（低级别的二进制数据）形式返回 response，</li>
</ul>
<p>==与axios的区别==</p>
<ul>
<li><code>axios</code>的put请求的请求体从<code>config</code>中抽出来了</li>
<li><code>fetch</code>的请求体写在<code>config</code>中</li>
<li><code>axios</code>会自动把请求体<code>data</code>转换为JSON</li>
<li><code>fetch</code>需要手动<code>JSON.stringify()</code></li>
</ul>
<h4 id="axios"><a href="#axios" class="headerlink" title="axios"></a>axios</h4><h5 id="案例"><a href="#案例" class="headerlink" title="案例"></a>案例</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// vue.config.js</span><br><span class="hljs-keyword">const</span> &#123; defineConfig &#125; = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;@vue/cli-service&quot;</span>);<br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = <span class="hljs-title function_">defineConfig</span>(&#123;<br>  <span class="hljs-attr">transpileDependencies</span>: <span class="hljs-literal">true</span>,<br>  <span class="hljs-comment">// devServer: &#123;</span><br>  <span class="hljs-comment">//   proxy: &quot;http://localhost:5000&quot;,</span><br>  <span class="hljs-comment">// &#125;,</span><br>  <span class="hljs-attr">devServer</span>: &#123;<br>    <span class="hljs-attr">proxy</span>: &#123;<br>      <span class="hljs-string">&quot;/api&quot;</span>: &#123;<br>        <span class="hljs-attr">target</span>: <span class="hljs-string">&quot;http://localhost:5000&quot;</span>, <span class="hljs-comment">// 当有前缀&#x27;api&#x27;时，把请求发送到5000端口</span><br>        <span class="hljs-attr">pathRewrite</span>: &#123; <span class="hljs-string">&#x27;^/api&#x27;</span>: <span class="hljs-string">&#x27;&#x27;</span> &#125;,    <span class="hljs-comment">// 去掉前缀&#x27;api&#x27;，才能正常查询5000服务器的资源</span><br>        <span class="hljs-attr">ws</span>: <span class="hljs-literal">true</span>,<br>        <span class="hljs-attr">changeOrigin</span>: <span class="hljs-literal">true</span>,<br>      &#125;,<br>    &#125;,<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!-- App.vue --&gt;<br>&lt;template&gt;<br>	&lt;div&gt;<br>		&lt;button @click=&quot;getStudents&quot;&gt;点击发送请求&lt;/button&gt;<br>	&lt;/div&gt;<br>&lt;/template&gt;<br><br>&lt;script&gt;<br>import axios from &quot;axios&quot;;<br>export default &#123;<br>	name: &#x27;App&#x27;,<br>	methods: &#123;<br>		getStudents() &#123;<br>			axios.get(&#x27;http://localhost:8080/api/students&#x27;).then(<br>				resopnse =&gt; &#123;<br>					console.log(&#x27;成功了&#x27;, resopnse);<br>				&#125;,<br>				error =&gt;&#123;<br>					console.log(&#x27;失败了&#x27;, error);<br>				&#125;<br>			)<br>		&#125;<br>	&#125;<br>&#125;<br>&lt;/script&gt;<br><br></code></pre></td></tr></table></figure>



<p>请求头：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js">axios.<span class="hljs-title function_">get</span>(url,&#123;<br>    <span class="hljs-attr">headers</span>: &#123;<br>    	<span class="hljs-string">&#x27;header1&#x27;</span>:<span class="hljs-string">&#x27;value1&#x27;</span>, <br>	&#125;<br>&#125;)<br></code></pre></td></tr></table></figure>









<ul>
<li>基于<code>promise</code>的网络请求库</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">axios</span>(&#123;<br>    <span class="hljs-attr">url</span>: <span class="hljs-string">&quot;http: //hmajax.itheima.net/ api/register&quot;</span>,<br>    <span class="hljs-attr">method</span>: <span class="hljs-string">&quot;post&quot;</span>,<br>    <span class="hljs-attr">data</span>: &#123;<br>        <span class="hljs-attr">username</span>: <span class="hljs-string">&quot;itheima007&quot;</span>,<br>        <span class="hljs-attr">password</span>: <span class="hljs-string">&quot;7654321&quot;</span>,<br>    &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure>



<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://unpkg.com/axios/dist/axios.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br>axios.get(&quot;地址?key=value &amp; key2=value2&quot;).then(function(resopnse)&#123;&#125;, function(err)&#123;&#125;);<br>axios.post(&quot;地址&quot;,&#123;key:value, key2:value2&#125;).then(function(resopnse)&#123;&#125;, function(err)&#123;&#125;);<br></code></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;获取笑话&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;getJoke&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span> &#123;&#123;joke&#125;&#125; <span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://unpkg.com/axios/dist/axios.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;https://cdn.jsdelivr.net/npm/vue/dist/vue.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">let</span> app=<span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#app&#x27;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>:&#123;</span><br><span class="language-javascript">            <span class="hljs-attr">joke</span>: <span class="hljs-string">&quot;很好笑的笑话&quot;</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>:&#123;</span><br><span class="language-javascript">            <span class="hljs-attr">getJoke</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">let</span> that=<span class="hljs-variable language_">this</span>;      <span class="hljs-comment">//axios回调函数中this的值已经改变，需要提前保存</span></span><br><span class="language-javascript">                axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;https://autumnfish.cn/api/joke&quot;</span>).<span class="hljs-title function_">then</span>(</span><br><span class="language-javascript">                    <span class="hljs-keyword">function</span>(<span class="hljs-params">response</span>)&#123;</span><br><span class="language-javascript">                        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(response.<span class="hljs-property">data</span>);</span><br><span class="language-javascript">                        that.<span class="hljs-property">joke</span> = response.<span class="hljs-property">data</span>;</span><br><span class="language-javascript">                    &#125;</span><br><span class="language-javascript">                )</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    &#125;)</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>通用：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//-------------------get-----------------------//</span><br><span class="hljs-title function_">axios</span>(&#123;<br>  <span class="hljs-attr">method</span>: <span class="hljs-string">&quot;get&quot;</span>,<br>  <span class="hljs-attr">url</span>: <span class="hljs-string">&quot;xxx&quot;</span>,<br>  <span class="hljs-attr">cache</span>: <span class="hljs-literal">false</span>,<br>  <span class="hljs-attr">params</span>: &#123;<br>    <span class="hljs-attr">id</span>: <span class="hljs-number">123</span>,<br>  &#125;,<br>  <span class="hljs-attr">headers</span>: <span class="hljs-string">&quot;xxx&quot;</span>,<br>&#125;);<br><span class="hljs-comment">//-------------------post-----------------------//</span><br><span class="hljs-title function_">axios</span>(&#123;<br>  <span class="hljs-attr">method</span>: <span class="hljs-string">&quot;post&quot;</span>,<br>  <span class="hljs-attr">url</span>: <span class="hljs-string">&quot;xxx&quot;</span>,<br>  <span class="hljs-attr">data</span>: &#123;<br>    <span class="hljs-attr">firstName</span>: <span class="hljs-string">&quot;Tom&quot;</span>,<br>    <span class="hljs-attr">lastName</span>: <span class="hljs-string">&quot;Sun&quot;</span>,<br>  &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure>

<p>其中需要注意的是，<code>get</code> 和 <code>post</code> 请求中向后端传递参数的配置项名字不同：<code>get</code> 请求的需要使用 <code>params</code>，<code>post</code> 请求用于发送数据的为 <code>data</code>。</p>
<p>上传文件</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.upload&#x27;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;change&#x27;</span>, <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> &#123;<br>    <span class="hljs-comment">// 1. 获取图片文件</span><br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(e.<span class="hljs-property">target</span>.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>])<br>    <span class="hljs-comment">// 2. 使用 FormData 携带图片文件</span><br>    <span class="hljs-keyword">const</span> fd = <span class="hljs-keyword">new</span> <span class="hljs-title class_">FormData</span>()<br>    <span class="hljs-comment">// FromData是一个键值对的列表</span><br>    fd.<span class="hljs-title function_">append</span>(<span class="hljs-string">&#x27;img&#x27;</span>, e.<span class="hljs-property">target</span>.<span class="hljs-property">files</span>[<span class="hljs-number">0</span>])<br>    <span class="hljs-comment">// 3. 提交到服务器，获取图片url网址使用</span><br>    <span class="hljs-title function_">axios</span>(&#123;<br>        <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;http://hmajax.itheima.net/api/uploadimg&#x27;</span>,<br>        <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;POST&#x27;</span>,<br>        <span class="hljs-attr">data</span>: fd<br>    &#125;).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">result</span> =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(result)<br>        <span class="hljs-comment">// 取出图片url网址，用img标签加载显示</span><br>        <span class="hljs-keyword">const</span> imgUrl = result.<span class="hljs-property">data</span>.<span class="hljs-property">data</span>.<span class="hljs-property">url</span><br>        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.my-img&#x27;</span>).<span class="hljs-property">src</span> = imgUrl<br>    &#125;)<br>&#125;)<br></code></pre></td></tr></table></figure>

<h5 id="配置详解"><a href="#配置详解" class="headerlink" title="配置详解"></a>配置详解</h5><p>请求方式别名：</p>
<ul>
<li><code>axios.get(url[, config])</code></li>
<li><code>axios.put(url[, data[, config]])</code></li>
<li><code>axios.post(url[, data[, config]])</code></li>
</ul>
<p>在使用别名方法时， <code>url</code>、<code>method</code>、<code>data</code> 这些属性都不必在配置中指定。（放在外面啦）</p>
<p>配置项：</p>
<p>配置项有两种情况：</p>
<ol>
<li>针对<code>get</code>请求</li>
</ol>
<ul>
<li><p>使用<code>params</code>，是与请求一起发送的 <strong>URL 参数</strong></p>
</li>
<li><p>必须是一个简单对象或 URLSearchParams 对象</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js">axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/api/example&#x27;</span>, <br><span class="hljs-comment">// config配置项</span><br>&#123;<br>    <span class="hljs-attr">params</span>: &#123;<br>        <span class="hljs-attr">key1</span>: <span class="hljs-string">&#x27;value1&#x27;</span>,<br>        <span class="hljs-attr">key2</span>: <span class="hljs-string">&#x27;value2&#x27;</span><br>    &#125;,<br>    <span class="hljs-attr">headers</span>: &#123;<br>        <span class="hljs-string">&#x27;Custom-Header&#x27;</span>: <span class="hljs-string">&#x27;HeaderValue&#x27;</span>,<br>        <span class="hljs-string">&#x27;Authorization&#x27;</span>: <span class="hljs-string">&#x27;Bearer your_token_here&#x27;</span><br>    &#125;<br>&#125;);<br></code></pre></td></tr></table></figure></li>
</ul>
<ol start="2">
<li>针对其他请求</li>
</ol>
<ul>
<li><p>使用请求体来传递参数，使用<code>data</code>指定</p>
</li>
<li><p><code>data</code> 是作为请求体被发送的数据，仅适用 'PUT', 'POST', 'DELETE 和 'PATCH' 请求方法</p>
</li>
<li><p>只允许<em>string, plain object</em>等</p>
</li>
<li><pre><code class="js">axios.post(&#39;/a&#39;, 
// data配置项，这也是plain object
&#123;
    data: &#123; power: person.power &#125;,
    data2: &#123; id: person.id &#125;,
&#125;
           
// config配置项
&#123;
    // url参数，很少使用
    params:&#123;
      jjj:&#39;11&#39;
    &#125;,
    headers: &#123;
        &#39;Custom-Header&#39;: &#39;HeaderValue&#39;,
        &#39;Authorization&#39;: &#39;Bearer your_token_here&#39;
    &#125;
&#125;)
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><code class="hljs php"><br>+ <br><br><br><br>**请求头的键需不需要带引号：**<br><br>对象键名默认遵循标识符的命名规则，如果想要违反这个规则，就要带上引号<br><br><br><br><span class="hljs-comment">##### 拦截器</span><br><br>官方：<br><br>```js<br><span class="hljs-comment">// 添加请求拦截器</span><br>axios.interceptors.request.<span class="hljs-keyword">use</span>(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">config</span>) </span>&#123;<br>    <span class="hljs-comment">// 在发送请求之前做些什么</span><br>    <span class="hljs-keyword">return</span> config;<br>  &#125;, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>&#123;<br>    <span class="hljs-comment">// 对请求错误做些什么</span><br>    <span class="hljs-keyword">return</span> Promise.<span class="hljs-title function_ invoke__">reject</span>(error);<br>  &#125;);<br><br><span class="hljs-comment">// 添加响应拦截器</span><br>axios.interceptors.response.<span class="hljs-keyword">use</span>(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">response</span>) </span>&#123;<br>    <span class="hljs-comment">// 2xx 范围内的状态码都会触发该函数。</span><br>    <span class="hljs-comment">// 对响应数据做点什么</span><br>    <span class="hljs-keyword">return</span> response;<br>  &#125;, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>&#123;<br>    <span class="hljs-comment">// 超出 2xx 范围的状态码都会触发该函数。</span><br>    <span class="hljs-comment">// 对响应错误做点什么</span><br>    <span class="hljs-keyword">return</span> Promise.<span class="hljs-title function_ invoke__">reject</span>(error);<br>  &#125;);<br></code></pre></td></tr></table></figure>
</code></pre>
</li>
</ul>
<p>小兔鲜</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">import</span> axios <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;axios&#x27;</span>;<br><span class="hljs-keyword">import</span> &#123; <span class="hljs-title class_">ElMessage</span> &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;element-plus&#x27;</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">&#x27;element-plus/theme-chalk/el-message.css&#x27;</span><br><span class="hljs-keyword">import</span> &#123; useUserStore &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/stores/userStore&#x27;</span>;<br><span class="hljs-keyword">import</span> router <span class="hljs-keyword">from</span> <span class="hljs-string">&#x27;@/router&#x27;</span>;<br><br><span class="hljs-keyword">const</span> httpInstance = axios.<span class="hljs-title function_">create</span>(&#123;<br>    <span class="hljs-attr">baseURL</span>: <span class="hljs-string">&#x27;http://pcapi-xiaotuxian-front-devtest.itheima.net&#x27;</span>,<br>    <span class="hljs-attr">timeout</span>: <span class="hljs-number">5000</span><br>&#125;)<br><br><span class="hljs-comment">// axios请求拦截器</span><br>httpInstance.<span class="hljs-property">interceptors</span>.<span class="hljs-property">request</span>.<span class="hljs-title function_">use</span>(<span class="hljs-function"><span class="hljs-params">config</span> =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> userStore = <span class="hljs-title function_">useUserStore</span>()<br>    <span class="hljs-keyword">const</span> token = userStore.<span class="hljs-property">userInfo</span>.<span class="hljs-property">token</span><br>    <span class="hljs-keyword">if</span> (token) &#123;<br>        config.<span class="hljs-property">headers</span>.<span class="hljs-property">Authorization</span>=<span class="hljs-string">`Bearer <span class="hljs-subst">$&#123;token&#125;</span>`</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> config<br>&#125;, <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(e))<br><span class="hljs-comment">// Promise.reject(e)会创建一个新的Promise对象，这个Promise对象的状态为rejected，并且它的原因（reason）是e。这样就可以将错误传递给后续的.catch()处理程序，以便在那里处理错误。</span><br><br><span class="hljs-comment">// axios响应拦截器</span><br>httpInstance.<span class="hljs-property">interceptors</span>.<span class="hljs-property">response</span>.<span class="hljs-title function_">use</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> res.<span class="hljs-property">data</span>, <span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> &#123;<br>    <span class="hljs-title class_">ElMessage</span>(&#123;<br>        <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;warning&#x27;</span>,<br>        <span class="hljs-attr">message</span>: e.<span class="hljs-property">response</span>.<span class="hljs-property">data</span>.<span class="hljs-property">msg</span><br>    &#125;)<br>    <span class="hljs-comment">// 401请求失效处理</span><br>    <span class="hljs-keyword">const</span> userStore = <span class="hljs-title function_">useUserStore</span>()<br>    <span class="hljs-keyword">if</span> (e.<span class="hljs-property">response</span>.<span class="hljs-property">status</span> === <span class="hljs-number">401</span>) &#123;<br>        userStore.<span class="hljs-title function_">clearUserInfo</span>()<br>        router.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;/login&#x27;</span>)<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Promise</span>.<span class="hljs-title function_">reject</span>(e)<br>&#125;)<br><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> httpInstance<br></code></pre></td></tr></table></figure>

<h4 id="服务端-1"><a href="#服务端-1" class="headerlink" title="服务端"></a>服务端</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 请完成下面的 TODO 部分，其他代码请勿改动</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;fs&quot;</span>);<br><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;http&quot;</span>);<br><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;path&quot;</span>);<br><span class="hljs-keyword">const</span> dataUrl = path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;../data.json&quot;</span>);<br><span class="hljs-keyword">const</span> loggerUrl = path.<span class="hljs-title function_">resolve</span>(__dirname, <span class="hljs-string">&quot;../logger.json&quot;</span>);<br><span class="hljs-comment">// 获取唯一的id</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">getLoggerId</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> (<br>        <span class="hljs-title class_">Buffer</span>.<span class="hljs-title function_">from</span>(<span class="hljs-title class_">Date</span>.<span class="hljs-title function_">now</span>().<span class="hljs-title function_">toString</span>()).<span class="hljs-title function_">toString</span>(<span class="hljs-string">&quot;base64&quot;</span>) +<br>        <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>().<span class="hljs-title function_">toString</span>(<span class="hljs-number">36</span>).<span class="hljs-title function_">substring</span>(<span class="hljs-number">2</span>)<br>    );<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 该方法统一了服务器返回的消息格式，并返回给客户端</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">*</span>&#125; res 响应 response</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">*</span>&#125; code 状态码，默认为 0 代表没有错误，如果有错误固定为 404</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">*</span>&#125; msg 错误消息，固定为空字符串即可 &#x27;&#x27;</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">*</span>&#125; data 响应体，为 js 对象，若 data 为 utf-8 编码时需要使用 eval(data) 处理</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">send</span>(<span class="hljs-params">res, code, msg, data</span>) &#123;<br>    <span class="hljs-keyword">const</span> responseObj = &#123;<br>        code,<br>        msg,<br>        data,<br>    &#125;;<br>    <span class="hljs-keyword">const</span> da = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(responseObj);<br>    res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">&quot;Content-Type&quot;</span>, <span class="hljs-string">&quot;application/json;charset=utf-8&quot;</span>);<br>    res.<span class="hljs-title function_">write</span>(da);<br>    res.<span class="hljs-title function_">end</span>();<br>&#125;<br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">handleStatic</span>(<span class="hljs-params">res, pathName, part</span>) &#123;<br>    <span class="hljs-keyword">const</span> content = fs.<span class="hljs-title function_">readFileSync</span>(path.<span class="hljs-title function_">resolve</span>(__dirname, pathName));<br>    <span class="hljs-keyword">let</span> contentType = <span class="hljs-string">&quot;text/html&quot;</span>;<br>    <span class="hljs-keyword">switch</span> (part) &#123;<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;css&quot;</span>:<br>            contentType = <span class="hljs-string">&quot;text/css&quot;</span>;<br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&quot;js&quot;</span>:<br>            contentType = <span class="hljs-string">&quot;text/js&quot;</span>;<br>            <span class="hljs-keyword">break</span>;<br>    &#125;<br>    res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">200</span>, <span class="hljs-string">&quot;Content-Type&quot;</span>, contentType);<br>    res.<span class="hljs-title function_">write</span>(content);<br>    res.<span class="hljs-title function_">end</span>();<br>&#125;<br><br><span class="hljs-keyword">const</span> server = http.<span class="hljs-title function_">createServer</span>(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>    res.<span class="hljs-title function_">setHeader</span>(<span class="hljs-string">&quot;Access-Control-Allow-Origin&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br>    <span class="hljs-keyword">if</span> (req.<span class="hljs-property">url</span> === <span class="hljs-string">&quot;/&quot;</span>) &#123;<br>        <span class="hljs-title function_">handleStatic</span>(res, <span class="hljs-string">&quot;../index.html&quot;</span>, <span class="hljs-string">&quot;&quot;</span>);<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (req.<span class="hljs-property">url</span> === <span class="hljs-string">&quot;/css/index.css&quot;</span>) &#123;<br>        <span class="hljs-title function_">handleStatic</span>(res, <span class="hljs-string">`..<span class="hljs-subst">$&#123;req.url&#125;</span>`</span>, <span class="hljs-string">&quot;css&quot;</span>);<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (req.<span class="hljs-property">url</span> === <span class="hljs-string">&quot;/js/index.js&quot;</span>) &#123;<br>        <span class="hljs-title function_">handleStatic</span>(res, <span class="hljs-string">`..<span class="hljs-subst">$&#123;req.url&#125;</span>`</span>, <span class="hljs-string">&quot;js&quot;</span>);<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (req.<span class="hljs-property">url</span> === <span class="hljs-string">&quot;/js/axios.min.js&quot;</span>) &#123;<br>        <span class="hljs-title function_">handleStatic</span>(res, <span class="hljs-string">`..<span class="hljs-subst">$&#123;req.url&#125;</span>`</span>, <span class="hljs-string">&quot;js&quot;</span>);<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (req.<span class="hljs-property">url</span> === <span class="hljs-string">&quot;/js/vue3.global.min.js&quot;</span>) &#123;<br>        <span class="hljs-title function_">handleStatic</span>(res, <span class="hljs-string">`..<span class="hljs-subst">$&#123;req.url&#125;</span>`</span>, <span class="hljs-string">&quot;js&quot;</span>);<br>    &#125;<br><br>    <span class="hljs-keyword">if</span> (req.<span class="hljs-property">method</span> === <span class="hljs-string">&quot;GET&quot;</span> &amp;&amp; req.<span class="hljs-property">url</span> === <span class="hljs-string">&quot;/users&quot;</span>) &#123;<br>        <span class="hljs-comment">// TODO 处理获取文件内容的操作</span><br>        <span class="hljs-keyword">let</span> fileContent = <span class="hljs-string">&quot;&quot;</span>;<br>        <span class="hljs-keyword">try</span> &#123;<br>            fileContent = fs.<span class="hljs-title function_">readFileSync</span>(<span class="hljs-string">&quot;data.json&quot;</span>, <span class="hljs-string">&quot;utf-8&quot;</span>);<br>            <span class="hljs-title function_">send</span>(res, <span class="hljs-number">0</span>, <span class="hljs-string">&quot;&quot;</span>, <span class="hljs-built_in">eval</span>(fileContent));<br>        &#125; <span class="hljs-keyword">catch</span> (error) &#123;<br>            <span class="hljs-title function_">send</span>(res, <span class="hljs-number">404</span>, error.<span class="hljs-property">msg</span>, <span class="hljs-string">&quot;&quot;</span>);<br>        &#125;<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (req.<span class="hljs-property">method</span> === <span class="hljs-string">&quot;PUT&quot;</span> &amp;&amp; req.<span class="hljs-property">url</span> === <span class="hljs-string">&quot;/editUser&quot;</span>) &#123;<br>        <span class="hljs-keyword">let</span> body = <span class="hljs-string">&quot;&quot;</span>;<br>        req.<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;readable&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>            <span class="hljs-keyword">let</span> chunk = <span class="hljs-string">&quot;&quot;</span>;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> !== (chunk = req.<span class="hljs-title function_">read</span>())) &#123;<br>                body += chunk;<br>            &#125;<br>        &#125;);<br>        req.<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;end&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>            <span class="hljs-keyword">if</span> (body) &#123;<br>                <span class="hljs-comment">// TODO 处理更改文件数据并将最新的文件数据响应给客户端</span><br>                <span class="hljs-keyword">try</span> &#123;<br>                    <span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">readFileSync</span>(<span class="hljs-string">&quot;data.json&quot;</span>, <span class="hljs-string">&quot;utf-8&quot;</span>);<br>                    file = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(file);<br>                    body = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(body);<br>                    file.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">element</span>) =&gt;</span> &#123;<br>                        <span class="hljs-keyword">if</span> (element.<span class="hljs-property">id</span> === body.<span class="hljs-property">params</span>.<span class="hljs-property">id</span>) &#123;<br>                            element.<span class="hljs-property">power</span> = !element.<span class="hljs-property">power</span>;<br>                        &#125;<br>                    &#125;);<br>                    fs.<span class="hljs-title function_">writeFileSync</span>(<span class="hljs-string">&quot;data.json&quot;</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(file));<br>                    <span class="hljs-title function_">send</span>(res, <span class="hljs-number">0</span>, <span class="hljs-string">&quot;&quot;</span>, file);<br>                &#125; <span class="hljs-keyword">catch</span> (error) &#123;<br>                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;error&quot;</span>);<br>                    <span class="hljs-title function_">send</span>(res, <span class="hljs-number">404</span>, <span class="hljs-string">&quot;&quot;</span>);<br>                &#125;<br>            &#125;<br>        &#125;);<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (req.<span class="hljs-property">method</span> === <span class="hljs-string">&quot;POST&quot;</span> &amp;&amp; req.<span class="hljs-property">url</span> === <span class="hljs-string">&quot;/logger&quot;</span>) &#123;<br>        <span class="hljs-keyword">let</span> body = <span class="hljs-string">&quot;&quot;</span>;<br>        req.<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;readable&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>            <span class="hljs-keyword">let</span> chunk = <span class="hljs-string">&quot;&quot;</span>;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> !== (chunk = req.<span class="hljs-title function_">read</span>())) &#123;<br>                body += chunk;<br>            &#125;<br>        &#125;);<br>        req.<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;end&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>            <span class="hljs-keyword">if</span> (body) &#123;<br>                <span class="hljs-comment">// TODO 处理新增日志</span><br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(body);<br>                <span class="hljs-keyword">try</span> &#123;<br>                    <span class="hljs-keyword">let</span> log = &#123;<br>                        <span class="hljs-attr">id</span>: <span class="hljs-title function_">getLoggerId</span>(),<br>                        <span class="hljs-attr">msg</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(body).<span class="hljs-property">data</span>,<br>                        <span class="hljs-attr">time</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">getTime</span>().<span class="hljs-title function_">toString</span>(),<br>                    &#125;;<br>                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(log);<br>                    fs.<span class="hljs-title function_">appendFile</span>(<span class="hljs-string">&quot;logger.json&quot;</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(log) + <span class="hljs-string">&quot;\n&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>                        <span class="hljs-title function_">send</span>(res, <span class="hljs-number">0</span>, <span class="hljs-string">&quot;&quot;</span>, log);<br>                    &#125;);<br>                &#125; <span class="hljs-keyword">catch</span> (error) &#123;<br>                    <span class="hljs-title function_">send</span>(res, <span class="hljs-number">404</span>, <span class="hljs-string">&quot;&quot;</span>);<br>                &#125;<br>            &#125;<br>        &#125;);<br>    &#125;<br>&#125;);<br><br>server.<span class="hljs-title function_">listen</span>(<span class="hljs-number">8080</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;Server running on port 8080&quot;</span>);<br>&#125;);<br></code></pre></td></tr></table></figure>











<h3 id="项目"><a href="#项目" class="headerlink" title="项目"></a>项目</h3><h4 id="小兔鲜"><a href="#小兔鲜" class="headerlink" title="小兔鲜"></a>小兔鲜</h4><ul>
<li><a target="_blank" rel="noopener" href="https://www.yuque.com/fechaichai/td99ck">https://www.yuque.com/fechaichai/td99ck</a></li>
<li><a target="_blank" rel="noopener" href="https://apifox.com/apidoc/shared-fa9274ac-362e-4905-806b-6135df6aa90e">https://apifox.com/apidoc/shared-fa9274ac-362e-4905-806b-6135df6aa90e</a></li>
<li><a target="_blank" rel="noopener" href="https://element-plus.org/zh-CN/component/checkbox.html#checkbox-events">https://element-plus.org/zh-CN/component/checkbox.html#checkbox-events</a></li>
</ul>
<hr>
<h1 id="蓝桥杯"><a href="#蓝桥杯" class="headerlink" title="蓝桥杯"></a>蓝桥杯</h1><p>真题：<a target="_blank" rel="noopener" href="https://www.lanqiao.cn/cup/">https://www.lanqiao.cn/cup/</a></p>
<p>真题：<a target="_blank" rel="noopener" href="https://www.lanqiao.cn/courses/2786/learning/?id=970852&compatibility=false">https://www.lanqiao.cn/courses/2786/learning/?id=970852&amp;compatibility=false</a></p>
<p>真题：<a target="_blank" rel="noopener" href="https://www.lanqiao.cn/courses/2786">https://www.lanqiao.cn/courses/2786</a></p>
<p>前端难题：<a target="_blank" rel="noopener" href="https://www.lanqiao.cn/problem-list/7/">https://www.lanqiao.cn/problem-list/7/</a></p>
<p>模拟赛：<a target="_blank" rel="noopener" href="https://www.lanqiao.cn/contests/web-2023-dx-3/challenges/">https://www.lanqiao.cn/contests/web-2023-dx-3/challenges/</a></p>
<p>模拟赛：<a target="_blank" rel="noopener" href="https://www.lanqiao.cn/problem-list/28/">https://www.lanqiao.cn/problem-list/28/</a></p>
<p><a target="_blank" rel="noopener" href="https://www.lanqiao.cn/problem-list/24/">https://www.lanqiao.cn/problem-list/24/</a></p>
<p>十四届蓝桥杯（Web 应用开发）一站通关【大学组】<a target="_blank" rel="noopener" href="https://www.lanqiao.cn/courses/10532/learning/">https://www.lanqiao.cn/courses/10532/learning/</a></p>
<h2 id="省赛"><a href="#省赛" class="headerlink" title="省赛"></a>省赛</h2><h3 id="9-寻找小狼人"><a href="#9-寻找小狼人" class="headerlink" title="9. 寻找小狼人"></a>9. 寻找小狼人</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 返回条件为真的新数组</span><br><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">myarray</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">cb</span>) &#123;<br>  <span class="hljs-comment">// TODO：待补充代码</span><br>  <span class="hljs-keyword">let</span> ret = [];<br>  <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">cb</span>(item))<br>      ret.<span class="hljs-title function_">push</span>(item);<br>  &#125;)<br>  <span class="hljs-keyword">return</span> ret;<br>&#125;;<br><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">myarray</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">cb</span>) &#123;<br>  <span class="hljs-comment">// TODO：待补充代码</span><br>  <span class="hljs-keyword">let</span> ret = [];<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> item <span class="hljs-keyword">of</span> <span class="hljs-variable language_">this</span>)<br>    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">cb</span>(item))<br>      ret.<span class="hljs-title function_">push</span>(item);<br>  <span class="hljs-keyword">return</span> ret;<br>&#125;;<br><span class="hljs-title class_">Array</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">myarray</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">cb</span>) &#123;<br>  <span class="hljs-comment">// TODO：待补充代码</span><br>  <span class="hljs-keyword">let</span> ret = [];<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> item <span class="hljs-keyword">in</span> <span class="hljs-variable language_">this</span>)<br>    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">cb</span>(<span class="hljs-variable language_">this</span>[item]))<br>      ret.<span class="hljs-title function_">push</span>(<span class="hljs-variable language_">this</span>[item]);<br>  <span class="hljs-keyword">return</span> ret;<br>&#125;;<br></code></pre></td></tr></table></figure>

<h3 id="10-课程列表"><a href="#10-课程列表" class="headerlink" title="10.课程列表"></a>10.课程列表</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> pageNum = <span class="hljs-number">1</span>; <span class="hljs-comment">// 当前页码，默认页码1</span><br><span class="hljs-keyword">let</span> maxPage; <span class="hljs-comment">// 最大页数</span><br><span class="hljs-keyword">let</span> prev = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;prev&quot;</span>);<br><span class="hljs-keyword">let</span> next = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;next&quot;</span>);<br><br><span class="hljs-comment">// TODO：待补充代码</span><br><span class="hljs-keyword">let</span> update = <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">pageNum</span>) &#123;<br>  <span class="hljs-keyword">let</span> result = <span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;js/carlist.json&quot;</span>);<br>  <span class="hljs-keyword">let</span> <span class="hljs-title class_">Data</span> = result.<span class="hljs-property">data</span>;<br>  maxPage = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(<span class="hljs-title class_">Data</span>.<span class="hljs-property">length</span> / <span class="hljs-number">5</span>);<br><br>  <span class="hljs-keyword">if</span> (pageNum === <span class="hljs-number">1</span>) &#123;<br>    prev.<span class="hljs-property">className</span> = <span class="hljs-string">&quot;page-item disabled&quot;</span><br>  &#125;<br>  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (pageNum === maxPage) &#123;<br>    next.<span class="hljs-property">className</span> = <span class="hljs-string">&quot;page-item disabled&quot;</span><br>  &#125;<br>  <span class="hljs-keyword">else</span> &#123;<br>    prev.<span class="hljs-property">className</span> = <span class="hljs-string">&quot;page-item&quot;</span><br>    next.<span class="hljs-property">className</span> = <span class="hljs-string">&quot;page-item&quot;</span><br>  &#125;<br>  <span class="hljs-keyword">let</span> pag = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;#pagination&#x27;</span>);<br>  pag.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">`共<span class="hljs-subst">$&#123;maxPage&#125;</span>页，当前<span class="hljs-subst">$&#123;pageNum&#125;</span>页`</span>;<br><br>  <span class="hljs-keyword">let</span> group = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.list-group&#x27;</span>);<br>  group.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">``</span>;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">5</span>; i++) &#123;<br>    <span class="hljs-keyword">let</span> item = <span class="hljs-title class_">Data</span>[pageNum * <span class="hljs-number">5</span> + i - <span class="hljs-number">5</span>];<br>    group.<span class="hljs-property">innerHTML</span> += <span class="hljs-string">`</span><br><span class="hljs-string">    &lt;a href=&quot;#&quot; class=&quot;list-group-item list-group-item-action&quot;&gt;</span><br><span class="hljs-string">    &lt;div class=&quot;d-flex w-100 justify-content-between&quot;&gt;</span><br><span class="hljs-string">      &lt;h5 class=&quot;mb-1&quot;&gt;<span class="hljs-subst">$&#123;item.name&#125;</span>&lt;/h5&gt;</span><br><span class="hljs-string">      &lt;small&gt;<span class="hljs-subst">$&#123;item.price / <span class="hljs-number">100</span>&#125;</span>.<span class="hljs-subst">$&#123;item.price % <span class="hljs-number">100</span>&#125;</span>元&lt;/small&gt;</span><br><span class="hljs-string">    &lt;/div&gt;</span><br><span class="hljs-string">    &lt;p class=&quot;mb-1&quot;&gt;<span class="hljs-subst">$&#123;item.description&#125;</span>&lt;/p&gt;</span><br><span class="hljs-string">    &lt;/a&gt;`</span><br>  &#125;<br>&#125;<br><span class="hljs-title function_">update</span>(<span class="hljs-number">1</span>);<br>prev.<span class="hljs-property">onclick</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">if</span>(pageNum&gt;<span class="hljs-number">1</span>)&#123;<br>    pageNum--;<br>    <span class="hljs-title function_">update</span>(pageNum);<br>  &#125;<br>&#125;;<br>next.<span class="hljs-property">onclick</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">if</span>(pageNum&lt;maxPage)&#123;<br>    pageNum++;<br>    <span class="hljs-title function_">update</span>(pageNum);<br>  &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>

<h2 id="23省赛"><a href="#23省赛" class="headerlink" title="23省赛"></a>23省赛</h2><h3 id="1-电影院排座位"><a href="#1-电影院排座位" class="headerlink" title="1 电影院排座位"></a>1 电影院排座位</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.seat</span> &#123;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#444451</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">40px</span>;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">45px</span>;<br>  <span class="hljs-attribute">border-top-left-radius</span>: <span class="hljs-number">10px</span>;<br>  <span class="hljs-attribute">border-top-right-radius</span>: <span class="hljs-number">10px</span>;<br>  <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">10px</span>;<br>  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">10px</span>;<br>&#125;<br><br><span class="hljs-comment">/* TODO：待补充代码 */</span><br><span class="hljs-selector-class">.seat-area</span>&#123;<br>  <span class="hljs-attribute">padding-top</span>: <span class="hljs-number">50px</span>;<br>  <span class="hljs-attribute">display</span>: flex;<br>  <span class="hljs-attribute">flex-wrap</span>: wrap;<br>&#125;<br><br><span class="hljs-selector-class">.seat</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">4</span>n+<span class="hljs-number">3</span>)&#123;<br>  <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">30px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.seat</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">8</span>n+<span class="hljs-number">1</span>)&#123;<br>  <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">0</span>;<br>&#125;<br><br><span class="hljs-comment">/* 这谁知道啊 */</span><br><span class="hljs-selector-class">.seat</span><span class="hljs-selector-pseudo">:nth-child</span>(n+<span class="hljs-number">40</span>)&#123;<br>  <span class="hljs-attribute">margin-bottom</span>: <span class="hljs-number">0</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>或者：</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.seat</span> &#123;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#444451</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">40px</span>;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">45px</span>;<br>  <span class="hljs-attribute">border-top-left-radius</span>: <span class="hljs-number">10px</span>;<br>  <span class="hljs-attribute">border-top-right-radius</span>: <span class="hljs-number">10px</span>;<br>&#125;<br><br><span class="hljs-comment">/* TODO：待补充代码 */</span><br><span class="hljs-selector-class">.seat-area</span>&#123;<br>  <span class="hljs-attribute">padding-top</span>: <span class="hljs-number">50px</span>;<br>  <span class="hljs-attribute">display</span>: flex;<br>  <span class="hljs-attribute">flex-wrap</span>: wrap;<br>  <span class="hljs-attribute">gap</span>: <span class="hljs-number">10px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.seat</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">4</span>n+<span class="hljs-number">3</span>)&#123;<br>  <span class="hljs-attribute">margin-left</span>: <span class="hljs-number">20px</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<p><code>gap</code>适用于<code>flex</code>和<code>grid</code></p>
<h3 id="2-图片水印生成"><a href="#2-图片水印生成" class="headerlink" title="2 图片水印生成"></a>2 图片水印生成</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">createWatermark</span>(<span class="hljs-params">text, color, deg, opacity, count</span>) &#123;<br>  <span class="hljs-keyword">const</span> container = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;div&quot;</span>);<br>  container.<span class="hljs-property">className</span> = <span class="hljs-string">&quot;watermark&quot;</span>;<br>  <span class="hljs-keyword">let</span> html = <span class="hljs-string">``</span><br>  <span class="hljs-keyword">while</span> (count--) html += <span class="hljs-string">`&lt;span&gt;<span class="hljs-subst">$&#123;text&#125;</span>&lt;/span&gt;`</span><br>  container.<span class="hljs-property">innerHTML</span> = html<br>  <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(container.<span class="hljs-property">children</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">element</span> =&gt;</span> &#123;<br>    element.<span class="hljs-property">style</span>.<span class="hljs-property">color</span> = color<br>    element.<span class="hljs-property">style</span>.<span class="hljs-property">opacity</span> = opacity<br>    <span class="hljs-comment">// 不能用这个！！！</span><br>    <span class="hljs-comment">// element.style.rotate = `$&#123;deg&#125;deg`</span><br>    element.<span class="hljs-property">style</span>.<span class="hljs-property">transform</span>=<span class="hljs-string">`rotate(<span class="hljs-subst">$&#123;deg&#125;</span>deg)`</span><br>  &#125;);<br><br>  <span class="hljs-keyword">return</span> container;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="3-收集帛书碎片"><a href="#3-收集帛书碎片" class="headerlink" title="3 收集帛书碎片"></a>3 收集帛书碎片</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">collectPuzzle</span>(<span class="hljs-params">...puzzles</span>) &#123;<br>  <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> 在这里写入具体的实现逻辑</span><br>  <span class="hljs-keyword">let</span> set = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>()<br>  <span class="hljs-keyword">for</span> (items <span class="hljs-keyword">of</span> puzzles) &#123;<br>    <span class="hljs-keyword">for</span> (item <span class="hljs-keyword">of</span> items) <br>     set.<span class="hljs-title function_">add</span>(item)<br>  &#125;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(set);<br>  <span class="hljs-keyword">return</span> <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(set)<br>&#125;<br><br><span class="hljs-comment">// return [... new Set(puzzles.flat())]</span><br></code></pre></td></tr></table></figure>













<h2 id="模拟赛1"><a href="#模拟赛1" class="headerlink" title="模拟赛1"></a>模拟赛1</h2><h3 id="1-数据类型检测"><a href="#1-数据类型检测" class="headerlink" title="1.数据类型检测"></a>1.数据类型检测</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">getType</span>(<span class="hljs-params">data</span>) &#123;<br>  <span class="hljs-comment">// TODO：待补充代码</span><br>  <span class="hljs-comment">// 别粗心</span><br>  <span class="hljs-keyword">if</span>(<span class="hljs-title function_">typeof</span>(data)===<span class="hljs-string">&#x27;object&#x27;</span>)&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-title class_">Object</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toString</span>.<span class="hljs-title function_">call</span>(data).<span class="hljs-title function_">slice</span>(<span class="hljs-number">8</span>,-<span class="hljs-number">1</span>);<br>  &#125;<span class="hljs-keyword">else</span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_">typeof</span>(data)<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>或者：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-keyword">if</span>(<span class="hljs-title function_">typeof</span>(data) == <span class="hljs-string">&quot;string&quot;</span>)&#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;string&quot;</span><br>    &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-title function_">typeof</span>(data) == <span class="hljs-string">&quot;number&quot;</span>)&#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;number&quot;</span>;<br>    &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-title function_">typeof</span>(data) == <span class="hljs-string">&quot;boolean&quot;</span>)&#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;boolean&quot;</span>;<br>    &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!data &amp;&amp; <span class="hljs-title function_">typeof</span>(data) != <span class="hljs-string">&quot;undefined&quot;</span> &amp;&amp; data != <span class="hljs-number">0</span>)&#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;null&quot;</span>;<br>    &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-title function_">typeof</span>(data) == <span class="hljs-string">&quot;undefined&quot;</span>)&#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;undefined&quot;</span>;<br>    &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-title function_">typeof</span>(data) == <span class="hljs-string">&quot;object&quot;</span> &amp;&amp; <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(data) )&#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;array&quot;</span>;<br>    &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-title function_">typeof</span>(data) == <span class="hljs-string">&quot;Function&quot;</span>)&#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;function&quot;</span>;<br>    &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-title function_">typeof</span>(data) == <span class="hljs-string">&quot;Object&quot;</span> &amp;&amp; data <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Map</span>)&#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-title function_">typeof</span>(data);<br>    &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(<span class="hljs-title function_">typeof</span>(data) == <span class="hljs-title class_">Symbol</span>())&#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;symbol&quot;</span>;<br>    &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(data.)&#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;date&quot;</span>;<br>    &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(data <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Set</span>)&#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;set&quot;</span>;<br>    &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(data <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Map</span>)&#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;map&quot;</span>;<br>    &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(data <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">RegExp</span>)&#123;<br>      <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;regExp&quot;</span>;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_">typeof</span>(data)<br>&#125;<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@description</span>: 数据类型检测</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">*</span>&#125; data 传入的待检测数据</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> &#123;<span class="hljs-type">*</span>&#125; 返回数据类型</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">getType</span>(<span class="hljs-params">data</span>) &#123;<br>  <span class="hljs-comment">// TODO：待补充代码</span><br>  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">typeof</span>(data) !== <span class="hljs-string">&#x27;object&#x27;</span>)&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_">typeof</span>(data)<br>  &#125;<br>  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(!data)&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;null&#x27;</span><br>  &#125;<br>  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(data <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Array</span>)&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;array&#x27;</span><br>  &#125;<br>  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(data <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Date</span>)&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;date&#x27;</span><br>  &#125;<br>  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(data <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Map</span>)&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;map&#x27;</span><br>  &#125;<br>  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(data <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">Set</span>)&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;set&#x27;</span><br>  &#125;<br>  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(data <span class="hljs-keyword">instanceof</span> <span class="hljs-title class_">RegExp</span>)&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;regexp&#x27;</span><br>  &#125;<br>  <span class="hljs-keyword">else</span>&#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;object&#x27;</span><br>  &#125;<br>  <br>&#125;<br><br><span class="hljs-comment">// console.log(getType(&#x27;a&#x27;));</span><br><span class="hljs-comment">// const testArr = [</span><br><span class="hljs-comment">//   &quot;s&quot;,</span><br><span class="hljs-comment">//   0,</span><br><span class="hljs-comment">//   false,</span><br><span class="hljs-comment">//   undefined,</span><br><span class="hljs-comment">//   Symbol(),</span><br><span class="hljs-comment">//   function () &#123;&#125;,</span><br><span class="hljs-comment">//   123n,</span><br><span class="hljs-comment">//   null,</span><br><span class="hljs-comment">//   &#123;&#125;,</span><br><span class="hljs-comment">//   [],</span><br><span class="hljs-comment">//   new Date(),</span><br><span class="hljs-comment">//   new Map(),</span><br><span class="hljs-comment">//   new Set(),</span><br><span class="hljs-comment">//   /a/,</span><br><span class="hljs-comment">// ];</span><br><span class="hljs-comment">// const result = testArr.map((item) =&gt; getType(item));</span><br><span class="hljs-comment">// console.log(&quot;得到的结果：&quot;, result);</span><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  getType<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="2-渐变色背景生成器"><a href="#2-渐变色背景生成器" class="headerlink" title="2.渐变色背景生成器"></a>2.渐变色背景生成器</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> inputs = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&quot;.controls input&quot;</span>);<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 上面已经选取了两个取色器</span><br><span class="hljs-comment"> * 请添加相应的 JS 事件处理函数并绑定到合适的事件监听器上（提示：change 事件）</span><br><span class="hljs-comment"> * 这样我们就可以用取色器选取颜色来生成下方的渐变色背景啦</span><br><span class="hljs-comment"> *  */</span><br><span class="hljs-keyword">const</span> gradient=<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.gradient&#x27;</span>)<br><br><span class="hljs-comment">// inputs[0].addEventListener(&#x27;change&#x27;, ()=&gt;&#123;</span><br><span class="hljs-comment">//     // console.log(111);</span><br><span class="hljs-comment">//     // gradient.style.background=`linear-gradient(45deg, $&#123;input[0].value&#125;, $&#123;input[1].value&#125;`</span><br><span class="hljs-comment">//     gradient.style.setProperty(&#x27;--color1&#x27;, inputs[0].value)</span><br><span class="hljs-comment">// &#125;)</span><br><span class="hljs-comment">// inputs[1].addEventListener(&#x27;change&#x27;, ()=&gt;&#123;</span><br><span class="hljs-comment">//     // console.log(111);</span><br><span class="hljs-comment">//     // gradient.style.background=`linear-gradient(45deg, $&#123;input[0].value&#125;, $&#123;input[1].value&#125;`</span><br><span class="hljs-comment">//     gradient.style.setProperty(&#x27;--color2&#x27;, inputs[1].value)</span><br><span class="hljs-comment">// &#125;)</span><br>inputs.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item</span>)=&gt;</span>&#123;<br>    item.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;change&#x27;</span>, <span class="hljs-function">()=&gt;</span>&#123;<br>        gradient.<span class="hljs-property">style</span>.<span class="hljs-property">background</span>=<span class="hljs-string">`linear-gradient(45deg, <span class="hljs-subst">$&#123;inputs[<span class="hljs-number">0</span>].value&#125;</span>, <span class="hljs-subst">$&#123;inputs[<span class="hljs-number">1</span>].value&#125;</span>`</span><br>    &#125;)<br>&#125;)<br></code></pre></td></tr></table></figure>

<p><code>dom.style.setProperty(name ,value)</code>是修改CSS变量值的API，但也可以直接修改背景的属性</p>
<h3 id="3-水果叠叠乐"><a href="#3-水果叠叠乐" class="headerlink" title="3.水果叠叠乐"></a>3.水果叠叠乐</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">if</span>($(<span class="hljs-string">&quot;#box li&quot;</span>).<span class="hljs-property">length</span> == <span class="hljs-number">7</span>) <span class="hljs-keyword">return</span><br>$(<span class="hljs-string">&quot;#box&quot;</span>).<span class="hljs-title function_">append</span>($(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">clone</span>())<br>$(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">hide</span>()<br><span class="hljs-keyword">if</span>($(<span class="hljs-string">`#box li[data-id=<span class="hljs-subst">$&#123;$(<span class="hljs-variable language_">this</span>).attr(<span class="hljs-string">&#x27;data-id&#x27;</span>)&#125;</span>]`</span>).<span class="hljs-property">length</span> == <span class="hljs-number">3</span>)&#123;<br>    $(<span class="hljs-string">`#box li[data-id=<span class="hljs-subst">$&#123;$(<span class="hljs-variable language_">this</span>).attr(<span class="hljs-string">&#x27;data-id&#x27;</span>)&#125;</span>]`</span>).<span class="hljs-title function_">remove</span>()<br>&#125;<br></code></pre></td></tr></table></figure>

<h2 id="模拟赛2"><a href="#模拟赛2" class="headerlink" title="模拟赛2"></a>模拟赛2</h2><h3 id="3-芝麻开门"><a href="#3-芝麻开门" class="headerlink" title="3.芝麻开门"></a>3.芝麻开门</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> incantations = <span class="hljs-string">&quot;芝麻开门&quot;</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">init</span>(<span class="hljs-params">el</span>) &#123;<br>  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;.wrapper .btn&quot;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-title function_">mPrompt</span>()<br>      .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">if</span> (res === incantations) &#123;<br>          <span class="hljs-variable language_">document</span><br>            .<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&quot;#door .doors&quot;</span>)[<span class="hljs-number">0</span>]<br>            .<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&quot;door-left&quot;</span>);<br>          <span class="hljs-variable language_">document</span><br>            .<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&quot;#door .doors&quot;</span>)[<span class="hljs-number">1</span>]<br>            .<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&quot;door-right&quot;</span>);<br>        &#125;<br>      &#125;)<br>      .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> &#123;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err);<br>      &#125;);<br>  &#125;);<br>&#125;<br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@description</span>: 调用函数，开启弹窗，记录输入框的内容，并通过 promise 异步返回输入框中的内容</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> &#123;<span class="hljs-type">Promise</span>&#125;</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">mPrompt</span>(<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-comment">// 弹窗必须使用以下结构 template 保存的是弹窗的结构字符串，可以先转化为 DOM 再通过 appendChild 方式插入到 body 中</span><br>  <span class="hljs-keyword">const</span> template = <span class="hljs-string">`</span><br><span class="hljs-string">        &lt;div class=&quot;modal&quot;&gt;</span><br><span class="hljs-string">            &lt;div class=&quot;message-box&quot;&gt;</span><br><span class="hljs-string">                &lt;div class=&quot;message-header&quot;&gt;请输入咒语&lt;/div&gt;</span><br><span class="hljs-string">                &lt;div class=&quot;message-body&quot;&gt;</span><br><span class="hljs-string">                    &lt;input type=&quot;text&quot;&gt;</span><br><span class="hljs-string">                &lt;/div&gt;</span><br><span class="hljs-string">                &lt;div class=&quot;message-footer&quot;&gt;</span><br><span class="hljs-string">                    &lt;button class=&quot;btn btn-small&quot; id=&#x27;cancel&#x27;&gt;取消&lt;/button&gt;</span><br><span class="hljs-string">                    &lt;button class=&quot;btn btn-small btn-primary&quot; id=&#x27;confirm&#x27;&gt;确定&lt;/button&gt;</span><br><span class="hljs-string">                &lt;/div&gt;</span><br><span class="hljs-string">            &lt;/div&gt;</span><br><span class="hljs-string">        &lt;/div&gt;</span><br><span class="hljs-string">    `</span>;<br>  <span class="hljs-keyword">const</span> div = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;div&quot;</span>);<br>  <span class="hljs-comment">// TODO：待补充代码</span><br>  div.<span class="hljs-property">innerHTML</span> = template;<br>  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;body&#x27;</span>).<span class="hljs-title function_">appendChild</span>(div);<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">res, rej</span>) =&gt;</span> &#123;<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;#confirm&#x27;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-keyword">let</span> input = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;.message-body input&quot;</span>).<span class="hljs-property">value</span>;<br>      <span class="hljs-title function_">res</span>(input);<br>      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;.modal&quot;</span>).<span class="hljs-title function_">remove</span>();<br>    &#125;)<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;#cancel&#x27;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-title function_">rej</span>(<span class="hljs-literal">false</span>);<br>      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;.modal&quot;</span>).<span class="hljs-title function_">remove</span>();<br>    &#125;)<br>  &#125;)<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="4-宝贵的一票"><a href="#4-宝贵的一票" class="headerlink" title="4.宝贵的一票"></a>4.宝贵的一票</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>宝贵的一票<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./js/jquery.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;./css/bootstrap.min.css&quot;</span> /&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;./css/style.css&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;inner-container shadow&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;mb-3 row&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;col-sm-2 col-form-label&quot;</span>&gt;</span>投票主题<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;col-sm-9&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-control&quot;</span> /&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;list&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;add&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;addtxt&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./images/plus-square.svg&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;加号图标&quot;</span> /&gt;</span><br>        添加选项<br>      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-check checkbox-one&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-check-input&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span> /&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-check-label&quot;</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;flexCheckDefault&quot;</span>&gt;</span><br>        支持多选<br>      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-check&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-check-input&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">value</span>=<span class="hljs-string">&quot;&quot;</span> /&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form-check-label&quot;</span> <span class="hljs-attr">for</span>=<span class="hljs-string">&quot;flexCheckDefault&quot;</span>&gt;</span><br>        公开投票结果<br>      <span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;row bottom&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;col&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;historytxt&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:void(0)&quot;</span>&gt;</span>历史投票<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;col&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;col&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-light&quot;</span>&gt;</span>取消<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;button&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn btn-primary&quot;</span>&gt;</span>发起投票<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">let</span> <span class="hljs-title function_">initRender</span> = (<span class="hljs-params">txt</span>) =&gt; &#123;</span><br><span class="language-javascript">      <span class="hljs-keyword">return</span> <span class="hljs-string">`&lt;div class=&quot;mb-3 row&quot;&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">                &lt;label class=&quot;col-sm-2 col-form-label txt&quot;&gt;<span class="hljs-subst">$&#123;txt&#125;</span>&lt;/label&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">                &lt;div class=&quot;col-sm-9&quot;&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">                    &lt;input type=&quot;text&quot; class=&quot;form-control&quot;&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">               &lt;/div&gt;</span></span><br><span class="hljs-string"><span class="language-javascript">            &lt;/div&gt;`</span>;</span><br><span class="language-javascript">    &#125;;</span><br><span class="language-javascript">    $(</span><br><span class="language-javascript">      (<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-comment">// 初始化的时候渲染两条数据，且不带删除符号</span></span><br><span class="language-javascript">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> index = <span class="hljs-number">0</span>; index &lt; <span class="hljs-number">2</span>; index++) &#123;</span><br><span class="language-javascript">          <span class="hljs-keyword">let</span> initList = <span class="hljs-title function_">initRender</span>(<span class="hljs-string">`选项<span class="hljs-subst">$&#123;index + <span class="hljs-number">1</span>&#125;</span>`</span>);</span><br><span class="language-javascript">          $(<span class="hljs-string">&quot;.list&quot;</span>).<span class="hljs-title function_">append</span>(initList);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 点击加号逻辑</span></span><br><span class="language-javascript">        <span class="hljs-comment">// 点击加号逻辑</span></span><br><span class="language-javascript">        $(<span class="hljs-string">&quot;.add&quot;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-comment">// TODO 待补充代码</span></span><br><span class="language-javascript">          <span class="hljs-keyword">const</span> length = $(<span class="hljs-string">&quot;.list&quot;</span>).<span class="hljs-title function_">children</span>().<span class="hljs-property">length</span> + <span class="hljs-number">1</span></span><br><span class="language-javascript">          <span class="hljs-keyword">let</span> initList = <span class="hljs-title function_">initRender</span>(<span class="hljs-string">`选项<span class="hljs-subst">$&#123;length&#125;</span>`</span>);</span><br><span class="language-javascript">          $(<span class="hljs-string">&quot;.list&quot;</span>).<span class="hljs-title function_">append</span>(initList);</span><br><span class="language-javascript">          <span class="hljs-keyword">if</span> (length &gt; <span class="hljs-number">2</span>) &#123;</span><br><span class="language-javascript">            $(<span class="hljs-string">&quot;.list&quot;</span>).<span class="hljs-title function_">children</span>().<span class="hljs-title function_">each</span>(<span class="hljs-function">(<span class="hljs-params">i, item</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">              <span class="hljs-keyword">const</span> text = <span class="hljs-string">`&lt;div class=&quot;col-sm-1&quot;&gt;&lt;img class=&quot;del-icon&quot; src=&quot;./images/x.svg&quot; alt=&quot;&quot; /&gt;&lt;/div&gt;`</span></span><br><span class="language-javascript">              <span class="hljs-keyword">const</span> flag = $(item).<span class="hljs-title function_">html</span>().<span class="hljs-title function_">includes</span>(<span class="hljs-string">&#x27;&lt;div class=&quot;col-sm-1&quot;&gt;&#x27;</span>)</span><br><span class="language-javascript">              <span class="hljs-keyword">if</span> (!flag)</span><br><span class="language-javascript">                $(item).<span class="hljs-title function_">append</span>(text)</span><br><span class="language-javascript">            &#125;)</span><br><span class="language-javascript">          &#125;</span><br><span class="language-javascript">        &#125;);</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-comment">// 点击 x 删除逻辑，列表小于 2 项时不显示删除图标</span></span><br><span class="language-javascript">        $(<span class="hljs-variable language_">document</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-string">&quot;.del-icon&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">e</span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-comment">// TODO 待补充代码</span></span><br><span class="language-javascript">          $(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">parents</span>(<span class="hljs-string">&#x27;div.mb-3.row&#x27;</span>).<span class="hljs-title function_">remove</span>()</span><br><span class="language-javascript">          $(<span class="hljs-string">&quot;.list&quot;</span>).<span class="hljs-title function_">children</span>().<span class="hljs-title function_">each</span>(<span class="hljs-function">(<span class="hljs-params">i, item</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">const</span> label = $(item).<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;label&#x27;</span>)</span><br><span class="language-javascript">            label.<span class="hljs-title function_">html</span>(<span class="hljs-string">`选项<span class="hljs-subst">$&#123;i + <span class="hljs-number">1</span>&#125;</span>`</span>)</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> ($(<span class="hljs-string">&quot;.list&quot;</span>).<span class="hljs-title function_">children</span>().<span class="hljs-property">length</span> &lt;= <span class="hljs-number">2</span>) &#123;</span><br><span class="language-javascript">              <span class="hljs-keyword">const</span> delDOM = $(item).<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;div.col-sm-1&#x27;</span>)</span><br><span class="language-javascript">              delDOM.<span class="hljs-title function_">remove</span>()</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">          &#125;)</span><br><span class="language-javascript">        &#125;);</span><br><span class="language-javascript">      &#125;)()</span><br><span class="language-javascript">    );</span><br><span class="language-javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="5-粒粒皆辛苦"><a href="#5-粒粒皆辛苦" class="headerlink" title="5.粒粒皆辛苦"></a>5.粒粒皆辛苦</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;height: 100%&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span> /&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>粒粒皆辛苦<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./js/echarts.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./js/axios.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;height: 100%; margin: 0; overflow: hidden&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;container&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;height: 80%; width: 80%; margin: 5% auto&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">var</span> dom = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;container&quot;</span>);</span><br><span class="language-javascript">    <span class="hljs-keyword">var</span> option;</span><br><span class="language-javascript">    <span class="hljs-keyword">var</span> myChart = echarts.<span class="hljs-title function_">init</span>(dom, <span class="hljs-literal">null</span>, &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">renderer</span>: <span class="hljs-string">&quot;canvas&quot;</span>,</span><br><span class="language-javascript">      <span class="hljs-attr">useDirtyRect</span>: <span class="hljs-literal">false</span>,</span><br><span class="language-javascript">    &#125;);</span><br><span class="language-javascript">    <span class="hljs-keyword">let</span> <span class="hljs-title function_">initCharts</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span><br><span class="language-javascript">      option = &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">title</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">text</span>: <span class="hljs-string">&quot;近五年 x 市粮食总产量分布以及 2022 年粮食产量比例&quot;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">subtext</span>: <span class="hljs-string">&quot;单位（万吨）&quot;</span>,</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">dataset</span>: &#123;</span><br><span class="language-javascript">          <span class="hljs-comment">//source -&gt; 图表显示所需的数据格式（饼形图和折线图共用），请勿手动修改此行</span></span><br><span class="language-javascript">          <span class="hljs-attr">source</span>: [</span><br><span class="language-javascript">            [<span class="hljs-string">&quot;全部&quot;</span>, <span class="hljs-string">&quot;2017&quot;</span>, <span class="hljs-string">&quot;2018&quot;</span>, <span class="hljs-string">&quot;2019&quot;</span>, <span class="hljs-string">&quot;2020&quot;</span>, <span class="hljs-string">&quot;2021&quot;</span>, <span class="hljs-string">&quot;2022&quot;</span>],</span><br><span class="language-javascript">            [<span class="hljs-string">&quot;小麦&quot;</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>],</span><br><span class="language-javascript">            [<span class="hljs-string">&quot;大豆&quot;</span>, <span class="hljs-number">9</span>, <span class="hljs-number">9</span>, <span class="hljs-number">9</span>, <span class="hljs-number">9</span>, <span class="hljs-number">9</span>, <span class="hljs-number">9</span>],</span><br><span class="language-javascript">            [<span class="hljs-string">&quot;马铃薯&quot;</span>, <span class="hljs-number">13</span>, <span class="hljs-number">13</span>, <span class="hljs-number">13</span>, <span class="hljs-number">13</span>, <span class="hljs-number">13</span>, <span class="hljs-number">13</span>],</span><br><span class="language-javascript">            [<span class="hljs-string">&quot;玉米&quot;</span>, <span class="hljs-number">23</span>, <span class="hljs-number">23</span>, <span class="hljs-number">23</span>, <span class="hljs-number">23</span>, <span class="hljs-number">23</span>, <span class="hljs-number">23</span>],</span><br><span class="language-javascript">          ],</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">xAxis</span>: &#123; <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;category&quot;</span> &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">yAxis</span>: &#123; <span class="hljs-attr">gridIndex</span>: <span class="hljs-number">0</span> &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">grid</span>: &#123; <span class="hljs-attr">top</span>: <span class="hljs-string">&quot;55%&quot;</span> &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">series</span>: [</span><br><span class="language-javascript">          &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;line&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">seriesLayoutBy</span>: <span class="hljs-string">&quot;row&quot;</span>,</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">          &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;line&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">seriesLayoutBy</span>: <span class="hljs-string">&quot;row&quot;</span>,</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">          &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;line&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">seriesLayoutBy</span>: <span class="hljs-string">&quot;row&quot;</span>,</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">          &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;line&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">seriesLayoutBy</span>: <span class="hljs-string">&quot;row&quot;</span>,</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">          &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;pie&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">id</span>: <span class="hljs-string">&quot;pie&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">radius</span>: <span class="hljs-string">&quot;30%&quot;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">center</span>: [<span class="hljs-string">&quot;50%&quot;</span>, <span class="hljs-string">&quot;25%&quot;</span>],</span><br><span class="language-javascript">            <span class="hljs-attr">label</span>: &#123;</span><br><span class="language-javascript">              <span class="hljs-comment">// 2022 数据的百分比</span></span><br><span class="language-javascript">              <span class="hljs-attr">formatter</span>: <span class="hljs-string">&quot;&#123;b&#125; &#123;@2022&#125; (&#123;d&#125;%)&quot;</span>,</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-attr">encode</span>: &#123;</span><br><span class="language-javascript">              <span class="hljs-attr">itemName</span>: <span class="hljs-string">&quot;全部&quot;</span>,</span><br><span class="language-javascript">              <span class="hljs-attr">value</span>: <span class="hljs-string">&quot;2022&quot;</span>,</span><br><span class="language-javascript">              <span class="hljs-attr">tooltip</span>: <span class="hljs-string">&quot;2022&quot;</span>,</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">          &#125;,</span><br><span class="language-javascript">        ],</span><br><span class="language-javascript">      &#125;;</span><br><span class="language-javascript">      <span class="hljs-comment">// if (option &amp;&amp; typeof option === &quot;object&quot;) &#123;</span></span><br><span class="language-javascript">      <span class="hljs-comment">//   // myChart.setOption -&gt; 设置 echarts 数据的方法</span></span><br><span class="language-javascript">      <span class="hljs-comment">//   myChart.setOption(option);</span></span><br><span class="language-javascript">      <span class="hljs-comment">// &#125;</span></span><br><span class="language-javascript">      <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;resize&quot;</span>, myChart.<span class="hljs-property">resize</span>);</span><br><span class="language-javascript">    &#125;;</span><br><span class="language-javascript">    <span class="hljs-title function_">initCharts</span>();</span><br><span class="language-javascript">    <span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">getData</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-keyword">let</span> data = <span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;data.json&#x27;</span>)</span><br><span class="language-javascript">      data = data.<span class="hljs-property">data</span>.<span class="hljs-property">data</span>;</span><br><span class="language-javascript">      <span class="hljs-keyword">let</span> hash = &#123; <span class="hljs-string">&#x27;小麦&#x27;</span>: <span class="hljs-string">&#x27;wheat&#x27;</span>, <span class="hljs-string">&#x27;大豆&#x27;</span>: <span class="hljs-string">&#x27;soybean&#x27;</span>, <span class="hljs-string">&#x27;马铃薯&#x27;</span>: <span class="hljs-string">&#x27;potato&#x27;</span>, <span class="hljs-string">&#x27;玉米&#x27;</span>: <span class="hljs-string">&#x27;corn&#x27;</span> &#125;</span><br><span class="language-javascript">      <span class="hljs-keyword">let</span> target = option.<span class="hljs-property">dataset</span>.<span class="hljs-property">source</span>;</span><br><span class="language-javascript">      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">1</span>; i &lt; <span class="hljs-number">7</span>; i++) &#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> j = <span class="hljs-number">1</span>; j &lt; <span class="hljs-number">5</span>; j++) &#123;</span><br><span class="language-javascript">          target[j][i] = data[target[<span class="hljs-number">0</span>][i]][hash[target[j][<span class="hljs-number">0</span>]]];</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">      myChart.<span class="hljs-title function_">setOption</span>(option); <span class="hljs-comment">//注意！！！！！</span></span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">    <span class="hljs-title function_">getData</span>();</span><br><span class="language-javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="7-绝美宋词"><a href="#7-绝美宋词" class="headerlink" title="7.绝美宋词"></a>7.绝美宋词</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>绝美宋词<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;css/style.css&quot;</span> /&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./js/vue.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./js/axios.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;text-align: center&quot;</span>&gt;</span>输入关键字，找一首词<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- TODO：待补充代码 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;search-form&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;search&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;search&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;词牌名 词句 词人&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;keyword&quot;</span> /&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;suggestions&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in dataList&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;poet&quot;</span> <span class="hljs-attr">v-html</span>=<span class="hljs-string">&quot;highlight(item.poetry_content)&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-html</span>=<span class="hljs-string">&quot;highlight(item.title)&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>            -<br>            <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-html</span>=<span class="hljs-string">&quot;highlight(item.author)&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>          <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">let</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">      <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#app&#x27;</span>,</span><br><span class="language-javascript">      <span class="hljs-comment">// TODO：待补充代码</span></span><br><span class="language-javascript">      <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">keyword</span>: <span class="hljs-string">&#x27;&#x27;</span>,</span><br><span class="language-javascript">          <span class="hljs-attr">list</span>: [],</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">      &#125;,</span><br><span class="language-javascript">      <span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;./data.json&#x27;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span> = res.<span class="hljs-property">data</span>)</span><br><span class="language-javascript">      &#125;,</span><br><span class="language-javascript">      <span class="hljs-attr">computed</span>: &#123;</span><br><span class="language-javascript">        <span class="hljs-title function_">dataList</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">keyword</span> ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span></span><br><span class="language-javascript">            e.<span class="hljs-property">poetry_content</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">keyword</span>) ||</span><br><span class="language-javascript">            e.<span class="hljs-property">title</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">keyword</span>) ||</span><br><span class="language-javascript">            e.<span class="hljs-property">author</span>.<span class="hljs-title function_">includes</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">keyword</span>)</span><br><span class="language-javascript">          ) : []</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">      &#125;,</span><br><span class="language-javascript">      <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">        <span class="hljs-title function_">highlight</span>(<span class="hljs-params">v</span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-keyword">return</span> v.<span class="hljs-title function_">replaceAll</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">keyword</span>, <span class="hljs-string">`&lt;span class=&quot;highlight&quot;&gt;$&amp;&lt;/span&gt;`</span>)</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">      &#125;,</span><br><span class="language-javascript">    &#125;)</span><br><span class="language-javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id=""><a href="#" class="headerlink" title=""></a></h3><h2 id="模拟赛3"><a href="#模拟赛3" class="headerlink" title="模拟赛3"></a>模拟赛3</h2><h3 id="4-蓝桥校园卡"><a href="#4-蓝桥校园卡" class="headerlink" title="4. 蓝桥校园卡"></a>4. 蓝桥校园卡</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><code class="hljs js">&lt;script&gt;<br>    <span class="hljs-comment">// 获取DOM元素对象</span><br>    <span class="hljs-keyword">const</span> studentName = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;studentName&quot;</span>); <span class="hljs-comment">// 姓名</span><br>    <span class="hljs-keyword">const</span> studentId = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;studentId&quot;</span>);  <span class="hljs-comment">// 学号</span><br>    <span class="hljs-keyword">const</span> college = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;college&quot;</span>); <span class="hljs-comment">// 学院</span><br>    <span class="hljs-keyword">const</span> submit = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;submit&quot;</span>);  <span class="hljs-comment">// 制卡按钮</span><br>    <span class="hljs-keyword">const</span> cardStyle = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;cardStyle&quot;</span>); <span class="hljs-comment">// 卡片</span><br>    <span class="hljs-keyword">const</span> item = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&quot;.item&quot;</span>) <span class="hljs-comment">// 卡片项</span><br><br>    <span class="hljs-keyword">let</span> info = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&quot;.form-group&quot;</span>);<br>    <span class="hljs-keyword">let</span> span1 = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#vail_name&quot;</span>);<br>    <span class="hljs-keyword">let</span> span2 = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#vail_studentId&quot;</span>);<br>    submit.<span class="hljs-property">onclick</span> = <span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-keyword">let</span> a = <span class="hljs-regexp">/[\u4e00-\u9fa5]&#123;2,4&#125;/</span>.<span class="hljs-title function_">test</span>(studentName.<span class="hljs-property">value</span>);<br>        <span class="hljs-keyword">if</span> (!a) &#123;<br>            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.form-group&#x27;</span>).<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;has-error&#x27;</span>);<br>            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;#vail_name&#x27;</span>).<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">&#x27;block&#x27;</span>;<br>        &#125;<br>        <span class="hljs-keyword">let</span> b = <span class="hljs-regexp">/^\d&#123;1,12&#125;$/</span>.<span class="hljs-title function_">test</span>(studentId.<span class="hljs-property">value</span>);<br>        <span class="hljs-keyword">if</span> (!b) &#123;<br>            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&#x27;.form-group&#x27;</span>)[<span class="hljs-number">1</span>].<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;has-error&#x27;</span>);<br>            <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;#vail_studentId&#x27;</span>).<span class="hljs-property">style</span>.<span class="hljs-property">display</span> = <span class="hljs-string">&#x27;block&#x27;</span>;<br>        &#125;<br>        <span class="hljs-keyword">if</span> (a &amp;&amp; b) &#123;<br>            item[<span class="hljs-number">0</span>].<span class="hljs-property">innerHTML</span> = studentName.<span class="hljs-property">value</span>;<br>            item[<span class="hljs-number">1</span>].<span class="hljs-property">innerHTML</span> = studentId.<span class="hljs-property">value</span>;<br>            item[<span class="hljs-number">2</span>].<span class="hljs-property">innerHTML</span> = college.<span class="hljs-property">value</span>;<br>            cardStyle.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;showCard&#x27;</span>);<br>        &#125;<br>    &#125;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="5-会员权益领取"><a href="#5-会员权益领取" class="headerlink" title="5.会员权益领取"></a>5.会员权益领取</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;X-UA-Compatible&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;IE=edge&quot;</span> /&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>会员权益领取中心<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;css/style.css&quot;</span> /&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;head&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;card&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;pic&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;name&quot;</span>&gt;</span>小蓝同学<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;during&quot;</span>&gt;</span>已加入蓝桥云课 300 天<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;member&quot;</span>&gt;</span>已加入蓝桥云课 300 天<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;vip&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;title&quot;</span>&gt;</span>会员权益升级<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./images/left.png&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;left&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./images/right.png&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;right&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;quanyi&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>会员专属特权<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./images/gaojivip.png&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>高级会员<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./images/vip.png&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>标准会员<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br></pre></td><td class="code"><pre><code class="hljs css">* &#123;<br>    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">box-sizing</span>: border-box;<br>&#125;<br><br><span class="hljs-selector-tag">body</span> &#123;<br>    <span class="hljs-attribute">position</span>: relative;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">1558px</span>;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">1440px</span>;<br>    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;<br>&#125;<br><br><span class="hljs-selector-class">.head</span> &#123;<br>    <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">../images/top_banner.png</span>);<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">1440px</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">240px</span>;<br>    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;<br>    <span class="hljs-attribute">position</span>: relative;<br>&#125;<br><br><span class="hljs-selector-class">.head</span> <span class="hljs-selector-class">.card</span> &#123;<br>    <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">linear-gradient</span>(<span class="hljs-number">180deg</span>, <span class="hljs-number">#191720</span> <span class="hljs-number">0%</span>, <span class="hljs-number">#080810</span> <span class="hljs-number">100%</span>);<br>    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">4px</span>;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">290px</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">176px</span>;<br>    <span class="hljs-attribute">position</span>: absolute;<br>    <span class="hljs-attribute">left</span>: <span class="hljs-number">1000px</span>;<br>    <span class="hljs-attribute">top</span>: <span class="hljs-number">32px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.head</span> <span class="hljs-selector-class">.name</span> &#123;<br>    <span class="hljs-attribute">font-family</span>: PingFangSC-Regular;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">20px</span>;<br>    <span class="hljs-attribute">color</span>: <span class="hljs-number">#FFFFFF</span>;<br>    <span class="hljs-attribute">letter-spacing</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">line-height</span>: <span class="hljs-number">20px</span>;<br>    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">400</span>;<br>    <span class="hljs-attribute">position</span>: absolute;<br>    <span class="hljs-attribute">top</span>: <span class="hljs-number">62px</span>;<br>    <span class="hljs-attribute">left</span>: <span class="hljs-number">1094px</span>;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">80px</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">20px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.head</span> <span class="hljs-selector-class">.during</span> &#123;<br>    <span class="hljs-attribute">font-family</span>: PingFangSC-Regular;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;<br>    <span class="hljs-attribute">color</span>: <span class="hljs-number">#FFFFFF</span>;<br>    <span class="hljs-attribute">letter-spacing</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">line-height</span>: <span class="hljs-number">14px</span>;<br>    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">400</span>;<br>    <span class="hljs-attribute">position</span>: absolute;<br>    <span class="hljs-attribute">top</span>: <span class="hljs-number">95px</span>;<br>    <span class="hljs-attribute">left</span>: <span class="hljs-number">1093px</span>;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">174px</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">14px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.head</span> <span class="hljs-selector-class">.member</span> &#123;<br>    <span class="hljs-attribute">font-family</span>: PingFangSC-Regular;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">12px</span>;<br>    <span class="hljs-attribute">color</span>: <span class="hljs-number">#C6C6C6</span>;<br>    <span class="hljs-attribute">letter-spacing</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">line-height</span>: <span class="hljs-number">12px</span>;<br>    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">400</span>;<br>    <span class="hljs-attribute">position</span>: absolute;<br>    <span class="hljs-attribute">left</span>: <span class="hljs-number">1093px</span>;<br>    <span class="hljs-attribute">top</span>: <span class="hljs-number">121px</span>;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">154px</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">12px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.head</span> <span class="hljs-selector-class">.pic</span> &#123;<br>    <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">../images/touxiang.png</span>);<br>    <span class="hljs-attribute">position</span>: absolute;<br>    <span class="hljs-attribute">left</span>: <span class="hljs-number">1024px</span>;<br>    <span class="hljs-attribute">top</span>: <span class="hljs-number">73px</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">50px</span>;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">50px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.head</span> <span class="hljs-selector-class">.vip</span> &#123;<br>    <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">../images/vip.png</span>);<br>    <span class="hljs-attribute">position</span>: absolute;<br>    <span class="hljs-attribute">left</span>: <span class="hljs-number">1055px</span>;<br>    <span class="hljs-attribute">top</span>: <span class="hljs-number">104px</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">19px</span>;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">19px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.content</span> &#123;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">1440px</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">1318px</span>;<br>    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;<br>    <span class="hljs-attribute">background</span>: <span class="hljs-number">#FCFDFF</span>;<br>&#125;<br><br><span class="hljs-selector-class">.title</span> &#123;<br>    <span class="hljs-attribute">font-family</span>: PingFangSC-Medium;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">30px</span>;<br>    <span class="hljs-attribute">color</span>: <span class="hljs-number">#232A33</span>;<br>    <span class="hljs-attribute">letter-spacing</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">text-align</span>: center;<br>    <span class="hljs-attribute">line-height</span>: <span class="hljs-number">30px</span>;<br>    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">500</span>;<br>    <span class="hljs-attribute">position</span>: absolute;<br>    <span class="hljs-attribute">left</span>: <span class="hljs-number">630px</span>;<br>    <span class="hljs-attribute">top</span>: <span class="hljs-number">300px</span>;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">180px</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">30px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.content</span> <span class="hljs-selector-tag">img</span><span class="hljs-selector-class">.left</span> &#123;<br>    <span class="hljs-attribute">position</span>: absolute;<br>    <span class="hljs-attribute">left</span>: <span class="hljs-number">525px</span>;<br>    <span class="hljs-attribute">top</span>: <span class="hljs-number">307.72px</span>;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">89px</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">15.56px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.content</span> <span class="hljs-selector-tag">img</span><span class="hljs-selector-class">.right</span> &#123;<br>    <span class="hljs-attribute">position</span>: absolute;<br>    <span class="hljs-attribute">left</span>: <span class="hljs-number">826px</span>;<br>    <span class="hljs-attribute">top</span>: <span class="hljs-number">307px</span>;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">89.63px</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">15.56px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.content</span> <span class="hljs-selector-class">.quanyi</span> &#123;<br>    <span class="hljs-attribute">background</span>: <span class="hljs-number">#FFFFFF</span>;<br>    <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0px</span> <span class="hljs-number">2px</span> <span class="hljs-number">10px</span> <span class="hljs-number">0px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">229</span>, <span class="hljs-number">235</span>, <span class="hljs-number">241</span>, <span class="hljs-number">1</span>);<br>    <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;<br>    <span class="hljs-attribute">position</span>: absolute;<br>    <span class="hljs-attribute">left</span>: <span class="hljs-number">150px</span>;<br>    <span class="hljs-attribute">top</span>: <span class="hljs-number">370px</span>;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">760px</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">704px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.quanyi</span> <span class="hljs-selector-tag">tr</span> &#123;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">760px</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">64px</span>;<br>    <span class="hljs-attribute">vertical-align</span>: center;<br>&#125;<br><br><span class="hljs-selector-class">.quanyi</span> <span class="hljs-selector-tag">tr</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">2</span>n) &#123;<br>    <span class="hljs-attribute">background</span>: <span class="hljs-number">#F7F8FA</span> <span class="hljs-meta">!important</span>;<br>&#125;<br><br><span class="hljs-selector-tag">tr</span> <span class="hljs-selector-tag">td</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">1</span>) &#123;<br>    <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">40px</span>;<br>&#125;<br><br><span class="hljs-selector-class">.quanyi</span> <span class="hljs-selector-tag">tr</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">1</span>) <span class="hljs-selector-tag">td</span>&#123;<br>    <span class="hljs-attribute">font-family</span>: PingFangSC-Medium;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;<br>    <span class="hljs-attribute">color</span>: <span class="hljs-number">#333333</span>;<br>    <span class="hljs-attribute">letter-spacing</span>: <span class="hljs-number">0</span>;<br>    <span class="hljs-attribute">line-height</span>: <span class="hljs-number">16px</span>;<br>    <span class="hljs-attribute">font-weight</span>: <span class="hljs-number">500</span>;<br>&#125;<br><br><span class="hljs-selector-class">.quanyi</span> <span class="hljs-selector-tag">tr</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">1</span>) <span class="hljs-selector-tag">td</span><span class="hljs-selector-pseudo">:nth-child</span>(<span class="hljs-number">2</span>) <span class="hljs-selector-tag">span</span>&#123;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">64px</span>;<br>    <span class="hljs-attribute">height</span>: <span class="hljs-number">16px</span>;<br>    <span class="hljs-attribute">line-height</span>: <span class="hljs-number">16px</span>;<br>    <span class="hljs-attribute">vertical-align</span>: center;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="6-心愿便利贴"><a href="#6-心愿便利贴" class="headerlink" title="6.心愿便利贴"></a>6.心愿便利贴</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>心愿便利贴<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- 引入element-ui样式 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;css/index.css&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;./css/wish.css&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- 引入element-ui组件库 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./js/vue.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./js/index.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>心愿便利贴<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;container&quot;</span>&gt;</span><br>            <span class="hljs-comment">&lt;!-- TODO 待修改的代码 --&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;card&quot;</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;item.css&quot;</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) in wishList&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;index&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;header&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;close&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;closeCard(index)&quot;</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./images/ding.png&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;close&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">el-image</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;item.pic&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;width: 100px; height: 100px&quot;</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">&quot;item.pic&quot;</span></span><br><span class="hljs-tag">                    <span class="hljs-attr">:preview-src-list</span>=<span class="hljs-string">&quot;picList&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">el-image</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span><br>                    &#123;&#123;item.content&#125;&#125;<br>                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;name&quot;</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;form&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">el-form</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;form&quot;</span> <span class="hljs-attr">:rules</span>=<span class="hljs-string">&quot;rules&quot;</span> <span class="hljs-attr">label-position</span>=<span class="hljs-string">&quot;left&quot;</span> <span class="hljs-attr">:model</span>=<span class="hljs-string">&quot;form&quot;</span> <span class="hljs-attr">label-width</span>=<span class="hljs-string">&quot;80px&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;姓名&quot;</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;name&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;firstName&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;form.name&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;请输入姓名&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">el-input</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;许愿内容&quot;</span> <span class="hljs-attr">prop</span>=<span class="hljs-string">&quot;content&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">el-input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;textarea&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;content&quot;</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">&quot;请输入内容&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;form.content&quot;</span> <span class="hljs-attr">show-word-limit</span>&gt;</span><br>                    <span class="hljs-tag">&lt;/<span class="hljs-name">el-input</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span> <span class="hljs-attr">label</span>=<span class="hljs-string">&quot;图片上传&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">el-upload</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;uploadRef&quot;</span> <span class="hljs-attr">action</span>=<span class="hljs-string">&quot;#&quot;</span> <span class="hljs-attr">:limit</span>=<span class="hljs-string">&quot;1&quot;</span> <span class="hljs-attr">list-type</span>=<span class="hljs-string">&quot;picture-card&quot;</span> <span class="hljs-attr">:on-remove</span>=<span class="hljs-string">&quot;handleRemove&quot;</span></span><br><span class="hljs-tag">                        <span class="hljs-attr">:on-change</span>=<span class="hljs-string">&quot;getPic&quot;</span> <span class="hljs-attr">:auto-upload</span>=<span class="hljs-string">&quot;false&quot;</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">&quot;default&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-icon-plus&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>                        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">slot</span>=<span class="hljs-string">&quot;file&quot;</span> <span class="hljs-attr">slot-scope</span>=<span class="hljs-string">&quot;&#123;file&#125;&quot;</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-upload-list__item-thumbnail&quot;</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">&quot;file.url&quot;</span>&gt;</span><br>                            <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-upload-list__item-actions&quot;</span>&gt;</span><br>                                <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-upload-list__item-preview&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handlePictureCardPreview(file)&quot;</span>&gt;</span><br>                                    <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-icon-zoom-in&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>                                <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>                                <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;!disabled&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-upload-list__item-delete&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;handleRemove(file)&quot;</span>&gt;</span><br>                                    <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;el-icon-delete&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><br>                                <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>                            <span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><br>                        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                    <span class="hljs-tag">&lt;/<span class="hljs-name">el-upload</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">el-form-item</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;onSubmit&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;primary&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;onSubmit&quot;</span>&gt;</span>发布<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">el-button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;onRest&quot;</span>&gt;</span>重置<span class="hljs-tag">&lt;/<span class="hljs-name">el-button</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">el-form-item</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">el-form</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">el-dialog</span> <span class="hljs-attr">:visible.sync</span>=<span class="hljs-string">&quot;dialogVisible&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">width</span>=<span class="hljs-string">&quot;100%&quot;</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">&quot;form.pic&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">el-dialog</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">wishList</span>: [],</span><br><span class="language-javascript">            <span class="hljs-attr">form</span>: &#123;</span><br><span class="language-javascript">                <span class="hljs-attr">name</span>: <span class="hljs-string">&#x27;&#x27;</span>,</span><br><span class="language-javascript">                <span class="hljs-attr">content</span>: <span class="hljs-string">&#x27;&#x27;</span>,</span><br><span class="language-javascript">                <span class="hljs-attr">pic</span>: <span class="hljs-string">&#x27;&#x27;</span></span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-attr">rules</span>: &#123;</span><br><span class="language-javascript">                <span class="hljs-comment">// TODO 待补充验证的代码</span></span><br><span class="language-javascript">                <span class="hljs-attr">name</span>: [</span><br><span class="language-javascript">                    &#123; <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;请输入姓名&#x27;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="language-javascript">                    &#123; <span class="hljs-attr">min</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;长度在 2 到 4 个字符&#x27;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&#x27;blur&#x27;</span> &#125;</span><br><span class="language-javascript">                ],</span><br><span class="language-javascript">                <span class="hljs-attr">content</span>: [</span><br><span class="language-javascript">                    &#123; <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;请输入许愿内容&#x27;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="language-javascript">                    &#123; <span class="hljs-attr">min</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">30</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;长度在 1 到 30 个字符&#x27;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&#x27;blur&#x27;</span> &#125;</span><br><span class="language-javascript">                ]</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-attr">num</span>: <span class="hljs-number">1</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">picList</span>: [],</span><br><span class="language-javascript">            <span class="hljs-attr">textarea</span>: <span class="hljs-string">&#x27;&#x27;</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">dialogVisible</span>: <span class="hljs-literal">false</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">disabled</span>: <span class="hljs-literal">false</span></span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">// 提交方法</span></span><br><span class="language-javascript">            <span class="hljs-title function_">onSubmit</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>[<span class="hljs-string">&#x27;form&#x27;</span>].<span class="hljs-title function_">validate</span>(<span class="hljs-function">(<span class="hljs-params">valid</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">                    <span class="hljs-keyword">if</span> (valid) &#123;</span><br><span class="language-javascript">                        <span class="hljs-keyword">let</span> obj = <span class="hljs-variable language_">this</span>.<span class="hljs-property">form</span>;</span><br><span class="language-javascript">                        obj.<span class="hljs-property">css</span> = <span class="hljs-string">&#x27;item&#x27;</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span>;</span><br><span class="language-javascript">                        <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span>++;</span><br><span class="language-javascript">                        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> &gt; <span class="hljs-number">4</span>) &#123;</span><br><span class="language-javascript">                            <span class="hljs-variable language_">this</span>.<span class="hljs-property">num</span> = <span class="hljs-number">1</span>;</span><br><span class="language-javascript">                        &#125;</span><br><span class="language-javascript">                        <span class="hljs-variable language_">this</span>.<span class="hljs-property">wishList</span>.<span class="hljs-title function_">push</span>(obj)</span><br><span class="language-javascript">                        <span class="hljs-variable language_">this</span>.<span class="hljs-property">form</span> = &#123;&#125;;</span><br><span class="language-javascript">                        <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">uploadRef</span>.<span class="hljs-property">uploadFiles</span>.<span class="hljs-title function_">pop</span>()</span><br><span class="language-javascript">                        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">wishList</span>);</span><br><span class="language-javascript">                    &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                        <span class="hljs-variable language_">this</span>.$message(&#123;</span><br><span class="language-javascript">                            <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;提交错误！请检查输入内容&#x27;</span>,</span><br><span class="language-javascript">                            <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;warning&#x27;</span></span><br><span class="language-javascript">                        &#125;);</span><br><span class="language-javascript">                        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">                    &#125;</span><br><span class="language-javascript">                &#125;);</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-comment">// 关闭许愿卡</span></span><br><span class="language-javascript">            <span class="hljs-title function_">closeCard</span>(<span class="hljs-params">index</span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-variable language_">this</span>.<span class="hljs-property">wishList</span>.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>)</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-comment">// 重置表单</span></span><br><span class="language-javascript">            <span class="hljs-title function_">onRest</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>[<span class="hljs-string">&#x27;form&#x27;</span>].<span class="hljs-title function_">resetFields</span>();</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-comment">// 图片删除</span></span><br><span class="language-javascript">            <span class="hljs-title function_">handleRemove</span>(<span class="hljs-params">file</span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">let</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">uploadRef</span>.<span class="hljs-property">uploadFiles</span>.<span class="hljs-title function_">findIndex</span>(<span class="hljs-function"><span class="hljs-params">e</span> =&gt;</span> e.<span class="hljs-property">uid</span> === file.<span class="hljs-property">uid</span>);</span><br><span class="language-javascript">                <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">uploadRef</span>.<span class="hljs-property">uploadFiles</span>.<span class="hljs-title function_">splice</span>(index, <span class="hljs-number">1</span>);</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-comment">// 模拟上传图片</span></span><br><span class="language-javascript">            <span class="hljs-title function_">getPic</span>(<span class="hljs-params">e</span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-variable language_">this</span>.<span class="hljs-property">form</span>.<span class="hljs-property">pic</span> = e.<span class="hljs-property">url</span>;</span><br><span class="language-javascript">                <span class="hljs-variable language_">this</span>.<span class="hljs-property">picList</span>.<span class="hljs-title function_">push</span>(e.<span class="hljs-property">url</span>)</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-comment">// 预览图片</span></span><br><span class="language-javascript">            <span class="hljs-title function_">handlePictureCardPreview</span>(<span class="hljs-params">file, fileList</span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-variable language_">this</span>.<span class="hljs-property">form</span>.<span class="hljs-property">pic</span> = file.<span class="hljs-property">url</span>;</span><br><span class="language-javascript">                <span class="hljs-variable language_">this</span>.<span class="hljs-property">dialogVisible</span> = <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    &#125;);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="7-布局切换"><a href="#7-布局切换" class="headerlink" title="7.布局切换"></a>7.布局切换</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span> <span class="hljs-attr">v-cloak</span>&gt;</span><br>        <span class="hljs-comment">&lt;!-- TODO：请在下面实现需求 --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;bar&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;grid-icon active&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;grid&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;list-icon&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;list&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-comment">&lt;!--grid 示例代码，动态渲染时可删除--&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;grid&quot;</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;flag&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) in goodsList&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#/3814&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">item.image.large</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;list&quot;</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;!flag&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) in goodsList&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;#/3814&quot;</span> <span class="hljs-attr">target</span>=<span class="hljs-string">&quot;_blank&quot;</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">item.image.small</span> /&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>&#123;&#123;item.title&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-attr">el</span>: <span class="hljs-string">&quot;#app&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">goodsList</span>: &#123;,</span><br><span class="language-javascript">            <span class="hljs-attr">flag</span>: <span class="hljs-number">1</span></span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">// TODO：补全代码实现需求</span></span><br><span class="language-javascript">            axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;goodsList.json&#x27;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">val</span> =&gt;</span> &#123;</span><br><span class="language-javascript">                <span class="hljs-variable language_">this</span>.<span class="hljs-property">goodsList</span> = val.<span class="hljs-property">data</span>;</span><br><span class="language-javascript">            &#125;)</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">        <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">grid</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">let</span> all = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&#x27;.bar&gt;a&#x27;</span>)</span><br><span class="language-javascript">                <span class="hljs-keyword">let</span> c = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.grid-icon&#x27;</span>);</span><br><span class="language-javascript">                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; all.<span class="hljs-property">length</span>; i++) &#123;</span><br><span class="language-javascript">                    all[i].<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">&#x27;active&#x27;</span>)</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">                <span class="hljs-variable language_">this</span>.<span class="hljs-property">flag</span> = <span class="hljs-number">1</span>;</span><br><span class="language-javascript">                c.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;active&#x27;</span>);</span><br><span class="language-javascript">            &#125;,</span><br><span class="language-javascript">            <span class="hljs-attr">list</span>: <span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">let</span> all = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&#x27;.bar&gt;a&#x27;</span>)</span><br><span class="language-javascript">                <span class="hljs-keyword">let</span> b = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.list-icon&#x27;</span>);</span><br><span class="language-javascript">                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; all.<span class="hljs-property">length</span>; i++) &#123;</span><br><span class="language-javascript">                    all[i].<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">&#x27;active&#x27;</span>)</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">                <span class="hljs-variable language_">this</span>.<span class="hljs-property">flag</span> = <span class="hljs-number">0</span>;</span><br><span class="language-javascript">                b.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;active&#x27;</span>);</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">    &#125;);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="8-购物车"><a href="#8-购物车" class="headerlink" title="8.购物车"></a>8.购物车</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- 商品列表 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>商品列表<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;goodsList&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;goods in goodsList&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;goods-item&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;goods.id&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">&quot;goods.imgUrl&quot;</span> /&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>&#123;&#123;goods.name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>¥ &#123;&#123;goods.price&#125;&#125; <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;addToCart(goods)&quot;</span>&gt;</span>加入购物车<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>    <span class="hljs-comment">&lt;!-- 购物车 --&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-if</span>=<span class="hljs-string">&quot;cartList.length&gt;0&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">h3</span>&gt;</span>购物车<span class="hljs-tag">&lt;/<span class="hljs-name">h3</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;cartList&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">template</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;goods in cartList&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;goods-item&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;goods.id&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">&quot;goods.imgUrl&quot;</span> /&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>&#123;&#123;goods.name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>¥ &#123;&#123;goods.price&#125;&#125; <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;item-control&quot;</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;removeGoods(goods)&quot;</span>&gt;</span>-<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">h4</span>&gt;</span>&#123;&#123;goods.num&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">h4</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">button</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;addToCart(goods)&quot;</span>&gt;</span>+<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>          <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">  <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">    <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#app&#x27;</span>,</span><br><span class="language-javascript">    <span class="hljs-attr">data</span>: &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">cartList</span>: [],</span><br><span class="language-javascript">      <span class="hljs-attr">goodsList</span>: []</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">    <span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">goodsList</span> = <span class="hljs-title class_">GoodsArr</span>;</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">    <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">      <span class="hljs-title function_">addToCart</span>(<span class="hljs-params">goods</span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-comment">// TODO：修改当前函数，实现购物车加入商品需求</span></span><br><span class="language-javascript">        <span class="hljs-comment">// console.log(&quot;goods&quot;,goods);</span></span><br><span class="language-javascript">        <span class="hljs-keyword">let</span> flag = <span class="hljs-literal">true</span>;</span><br><span class="language-javascript">        <span class="hljs-variable language_">this</span>.<span class="hljs-property">cartList</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> &#123;</span><br><span class="language-javascript">          <span class="hljs-keyword">if</span> (item.<span class="hljs-property">id</span> === goods.<span class="hljs-property">id</span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">// 特殊情况，有两个地方会调用此方法，传进来的goods不同</span></span><br><span class="language-javascript">            <span class="hljs-comment">// 在&#x27;商品列表&#x27;中点击，也会触发这个方法</span></span><br><span class="language-javascript">            <span class="hljs-comment">// 但商品列表中的goods来自goodsList</span></span><br><span class="language-javascript">            <span class="hljs-comment">// 永远是一个初始值</span></span><br><span class="language-javascript">            <span class="hljs-comment">// 建议把这个goods当做一个用来查找的标签，主体还得是this.cartList</span></span><br><span class="language-javascript">            <span class="hljs-comment">// 但下面的减就不一样，因为传进来的一定是this.cartList</span></span><br><span class="language-javascript">            goods.<span class="hljs-property">num</span> += <span class="hljs-number">1</span>;</span><br><span class="language-javascript">            item.<span class="hljs-property">num</span> += <span class="hljs-number">1</span>;</span><br><span class="language-javascript">            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(goods, item);</span><br><span class="language-javascript">            flag = !flag;</span><br><span class="language-javascript">          &#125;</span><br><span class="language-javascript">        &#125;);</span><br><span class="language-javascript">        <span class="hljs-keyword">if</span> (flag) &#123;</span><br><span class="language-javascript">          goods.<span class="hljs-property">num</span> = <span class="hljs-number">1</span>;</span><br><span class="language-javascript">          <span class="hljs-variable language_">this</span>.<span class="hljs-property">cartList</span>.<span class="hljs-title function_">push</span>(goods);</span><br><span class="language-javascript">          <span class="hljs-comment">//深拷贝</span></span><br><span class="language-javascript">          <span class="hljs-variable language_">this</span>.<span class="hljs-property">cartList</span> = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(<span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">cartList</span>));</span><br><span class="language-javascript">          <span class="hljs-comment">// console.log(this.cartList);</span></span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">      &#125;,</span><br><span class="language-javascript">      <span class="hljs-title function_">removeGoods</span>(<span class="hljs-params">goods</span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-comment">// TODO：补全代码实现需求</span></span><br><span class="language-javascript">        <span class="hljs-keyword">if</span> (goods.<span class="hljs-property">num</span> === <span class="hljs-number">1</span>) &#123;</span><br><span class="language-javascript">          <span class="hljs-variable language_">this</span>.<span class="hljs-property">cartList</span>.<span class="hljs-title function_">splice</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">cartList</span>.<span class="hljs-title function_">indexOf</span>(goods), <span class="hljs-number">1</span>);</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">          goods.<span class="hljs-property">num</span>--;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">    &#125;</span><br><span class="language-javascript">  &#125;);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="9-趣购"><a href="#9-趣购" class="headerlink" title="9.趣购"></a>9.趣购</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br></pre></td><td class="code"><pre><code class="hljs vue">&lt;!-- TODO: 补充拖拽事件，请不要改动任何 id 属性 --&gt;<br>&lt;template&gt;<br>  &lt;div class=&quot;container&quot;&gt;<br>    &lt;div class=&quot;good-list&quot;&gt;<br>      &lt;div<br>        v-for=&quot;good in goods&quot;<br>        draggable=&quot;true&quot;<br>        @dragstart=&quot;drag($event, good)&quot;<br>        :key=&quot;good.name&quot;<br>        class=&quot;good&quot;<br>      &gt;<br>        &lt;img :src=&quot;good.cover&quot; draggable=&quot;false&quot; /&gt;<br>        &lt;span&gt;&#123;&#123; good.name &#125;&#125;&lt;/span&gt;<br>        &lt;span&gt;￥&#123;&#123; good.price &#125;&#125;&lt;/span&gt;<br>      &lt;/div&gt;<br>    &lt;/div&gt;<br>    &lt;!--默认会传一个event过来, 函数有参数就要手动传, 不然event不会传过来--&gt;<br>    &lt;div<br>      id=&quot;trolley&quot;<br>      class=&quot;trolley&quot;<br>      @drop=&quot;drop($event)&quot;<br>      @dragover=&quot;stop($event)&quot;<br>    &gt;<br>      &lt;span id=&quot;bought&quot; class=&quot;bought&quot; v-if=&quot;bought.length !== 0&quot;&gt;&#123;&#123;<br>        len<br>      &#125;&#125;&lt;/span&gt;<br>      &lt;img src=&quot;./images/trolley.jpeg&quot; /&gt;<br>    &lt;/div&gt;<br>    &lt;div class=&quot;result&quot;&gt;<br>      &lt;div&gt;<br>        购物车商品：&lt;span id=&quot;goods&quot;&gt;&#123;&#123; goodsDetail &#125;&#125;&lt;/span&gt;<br>      &lt;/div&gt;<br>      &lt;div&gt;<br>        购物车商品总计：&lt;span id=&quot;total&quot;&gt;&#123;&#123; totalPrice &#125;&#125;&lt;/span&gt;<br>      &lt;/div&gt;<br>    &lt;/div&gt;<br>  &lt;/div&gt;<br>&lt;/template&gt;<br>&lt;style&gt;<br>.container &#123;<br>  width: 650px;<br>  position: relative;<br>  height: 600px;<br>  margin: 10px auto;<br>  display: flex;<br>  flex-direction: column;<br>&#125;<br>.good-list &#123;<br>  width: 100%;<br>  display: flex;<br>  flex-wrap: wrap;<br>  justify-content: space-between;<br>  flex-grow: 1;<br>&#125;<br>.good &#123;<br>  width: 150px;<br>  height: 160px;<br>  border: 1px solid rgb(52, 52, 52);<br>  border-radius: 5px;<br>  padding: 5px;<br>&#125;<br>.good:hover &#123;<br>  border: 2px solid rgb(52, 52, 52);<br>&#125;<br><br>.good img &#123;<br>  width: 100%;<br>  height: 120px;<br>&#125;<br>.trolley &#123;<br>  position: absolute;<br>  height: 60px;<br>  width: 60px;<br>  border-radius: 50%;<br>  overflow: hidden;<br>  border: 1px solid #f4f4f4;<br>  background-color: #f4f4f4;<br>  display: flex;<br>  align-items: center;<br>  justify-content: center;<br>  right: 0;<br>  bottom: 100px;<br>&#125;<br><br>.trolley img &#123;<br>  width: 40px;<br>  height: 40px;<br>  pointer-events: none;<br>&#125;<br><br>.bought &#123;<br>  width: 16px;<br>  height: 16px;<br>  background-color: crimson;<br>  color: white;<br>  position: absolute;<br>  right: 8px;<br>  top: 10px;<br>  border-radius: 50%;<br>  text-align: center;<br>  line-height: 15px;<br>  pointer-events: none;<br>&#125;<br>.result &#123;<br>  width: 100%;<br>  min-height: 80px;<br>  border: 1px solid;<br>  margin-top: 20px;<br>  padding: 10px;<br>&#125;<br>&lt;/style&gt;<br><br>&lt;script&gt;<br>module.exports = &#123;<br>  data() &#123;<br>    return &#123;<br>      goods: [<br>        &#123;<br>          name: &quot;畅销书&quot;,<br>          price: 30,<br>          cover: &quot;./images/book.jpeg&quot;,<br>        &#125;,<br>        &#123;<br>          name: &quot;收纳箱&quot;,<br>          price: 60,<br>          cover: &quot;./images/box.jpeg&quot;,<br>        &#125;,<br>        &#123;<br>          name: &quot;纸巾&quot;,<br>          price: 20,<br>          cover: &quot;./images/paper.jpeg&quot;,<br>        &#125;,<br>        &#123;<br>          name: &quot;电视&quot;,<br>          price: 1000,<br>          cover: &quot;./images/tv.jpg&quot;,<br>        &#125;,<br>      ],<br>      bought: [],<br>      len: 0,<br>      details: &quot;&quot;,<br>      price: 0,<br>    &#125;;<br>  &#125;,<br>  // TODO: 请补充实现代码<br>  computed: &#123;<br>    totalPrice() &#123;<br>      return this.price;<br>    &#125;,<br>    goodsDetail() &#123;<br>      return this.details;<br>    &#125;,<br>  &#125;,<br>  methods: &#123;<br>    drag(e, parm) &#123;<br>      e.dataTransfer.setData(&quot;name&quot;, parm.name);<br>      e.dataTransfer.setData(&quot;price&quot;, parm.price);<br>    &#125;,<br>    stop(e) &#123;<br>      e.stopPropagation();<br>      e.preventDefault();<br>    &#125;,<br>    drop(e) &#123;<br>      let name = e.dataTransfer.getData(&quot;name&quot;);<br>      let price = e.dataTransfer.getData(&quot;price&quot;);<br>      this.add(name, price);<br>    &#125;,<br>    add(name, price) &#123;<br>      let isHave = false;<br>      this.bought.forEach((element) =&gt; &#123;<br>        if (element.name == name) &#123;<br>          isHave = true;<br>          element.num++;<br>        &#125;<br>      &#125;);<br>      if (!isHave) &#123;<br>        this.bought.push(&#123; name, price, num: 1 &#125;);<br>      &#125;<br>      this.len = 0;<br>      this.price = 0;<br>      this.details = &quot;&quot;;<br>      this.bought.map((e) =&gt; &#123;<br>        this.len += e.num;<br>        this.price += e.price * e.num;<br>        this.details += e.name + &quot;*&quot; + e.num + &quot; &quot;;<br>      &#125;);<br>    &#125;,<br>  &#125;,<br>&#125;;<br>&lt;/script&gt;<br></code></pre></td></tr></table></figure>

<h3 id="10-分页组件"><a href="#10-分页组件" class="headerlink" title="10.分页组件"></a>10.分页组件</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@description</span> ajax 请求，通过传递的 currentPage, pageSize 获取到当前页和总页数的数据</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">string</span>&#125; url 请求地址，必填</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">string</span>&#125; method 请求方式，可选参数，默认为 get</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">string</span>&#125; data 请求体数据，可选参数</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">number</span>&#125; currentPage 当前页数，必填</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">number</span>&#125; pageSize 每页显示条目个数，必填</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> &#123;<span class="hljs-type">object</span>&#125; &#123;<span class="hljs-type">data,total</span>&#125; data为data.json中data数组的部分数据，total为data.json中total的值</span><br><span class="hljs-comment"> * */</span><br><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">ajax</span>(<span class="hljs-params">&#123; url, method = <span class="hljs-string">&quot;get&quot;</span>, data, query: &#123; currentPage, pageSize &#125; &#125;</span>) &#123;<br>    <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span>根据函数参数 `query` 对象  `currentPage, pageSize` 获得当前页的数据</span><br>    <span class="hljs-keyword">let</span> result = &#123;<br>        <span class="hljs-attr">data</span>: [],<br>        <span class="hljs-attr">total</span>: <span class="hljs-number">0</span><br>    &#125;<br>    <span class="hljs-keyword">let</span> tmp = <span class="hljs-keyword">await</span> axios[method](url, data);<br>    tmp = tmp.<span class="hljs-property">data</span>.<span class="hljs-property">data</span>;<br>    result.<span class="hljs-property">total</span> = tmp.<span class="hljs-property">length</span>;<br>    result.<span class="hljs-property">data</span> = tmp.<span class="hljs-title function_">splice</span>((currentPage - <span class="hljs-number">1</span>) * pageSize, pageSize);<br><br>    <span class="hljs-keyword">return</span> result;<br>&#125;<br><br><span class="hljs-keyword">class</span> <span class="hljs-title class_">Pagination</span> &#123;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">Element</span>&#125; <span class="hljs-variable">root</span></span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">number</span>&#125; pageSize 每页显示条目个数</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">number</span>&#125; total 总条目数</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">number</span>&#125; pagerCount 设置最大页码按钮数。 页码按钮的数量，当总页数超过该值时会折叠</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">number</span>&#125; currentPage 当前页数,默认为第一页    </span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">function</span>&#125; currentChange current-page 改变时触发</span><br><span class="hljs-comment">    */</span><br>    <span class="hljs-title function_">constructor</span>(<span class="hljs-params">root, &#123; pageSize, total, pagerCount, currentPage &#125;, &#123; currentChange &#125;</span>) &#123;<br>        <span class="hljs-keyword">if</span> (pagerCount % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>) &#123;<br>            pagerCount--;<br>        &#125;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">root</span> = root;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">pageSize</span> = pageSize || <span class="hljs-number">10</span>;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">total</span> = total;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">pagerCount</span> = pagerCount || <span class="hljs-number">7</span>;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentPage</span> = currentPage || <span class="hljs-number">1</span>;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentChange</span> = currentChange;<br><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalPages</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(total / pageSize);<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">initPagination</span>();<br>    &#125;<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@description</span> 初始化分页组件，首次创建和 this.currentPage 改变时调用</span><br><span class="hljs-comment">     * */</span><br>    <span class="hljs-title function_">initPagination</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">const</span> indexArr = <span class="hljs-title function_">createPaginationIndexArr</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentPage</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalPages</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">pagerCount</span>);<br>        <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#index-arr&quot;</span>).<span class="hljs-property">innerText</span> = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(indexArr);<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">renderPagination</span>(indexArr);<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">initEvents</span>();<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">currentChange</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentPage</span>);<br>    &#125;<br><br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@description</span> 根据序号数组生成分页组件的字符串模板通过 innerHTML 挂载在 root 元素内</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">Array</span>&#125; indexArr 分页数组 indexArr</span><br><span class="hljs-comment">     * <span class="hljs-doctag">@return</span> &#123;<span class="hljs-type">String</span>&#125; 分页组件的字符串模板</span><br><span class="hljs-comment">    */</span><br>    <span class="hljs-title function_">renderPagination</span>(<span class="hljs-params">indexArr</span>) &#123;<br>        <span class="hljs-keyword">let</span> template = <span class="hljs-string">&#x27;&#x27;</span>;<br>        <span class="hljs-comment">// TODO：根据 indexArr 数组生成分页组件的字符串模板 template</span><br><br>        <span class="hljs-keyword">let</span> n = indexArr.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item == <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentPage</span> ? <span class="hljs-string">`&lt;li class=&quot;number active&quot;&gt;<span class="hljs-subst">$&#123;item&#125;</span>&lt;/li&gt;`</span> : <span class="hljs-string">`&lt;li class=&quot;number&quot;&gt;<span class="hljs-subst">$&#123;item&#125;</span>&lt;/li&gt;`</span>)<br>        <span class="hljs-keyword">if</span> (indexArr[<span class="hljs-number">1</span>] != <span class="hljs-number">2</span>) n.<span class="hljs-title function_">splice</span>(<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-string">`&lt;li class=&quot;number more&quot;&gt;...&lt;/li&gt;`</span>)<br>        <span class="hljs-keyword">if</span> (indexArr[indexArr.<span class="hljs-property">length</span> - <span class="hljs-number">2</span>] + <span class="hljs-number">1</span> != <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalPages</span>) n.<span class="hljs-title function_">splice</span>(-<span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-string">`&lt;li class=&quot;number more&quot;&gt;...&lt;/li&gt;`</span>)<br>        template = n.<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;&#x27;</span>)<br><br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">root</span>.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">`</span><br><span class="hljs-string">        &lt;div class=&quot;pagination&quot;&gt;</span><br><span class="hljs-string">            &lt;div class=&quot;btn btn-left&quot; id=&quot;btn-prev&quot;&gt;&lt;&lt;/div&gt;</span><br><span class="hljs-string">            &lt;ul class=&quot;pager&quot;&gt;<span class="hljs-subst">$&#123;template&#125;</span> &lt;/ul&gt;</span><br><span class="hljs-string">            &lt;div class=&quot;btn btn-right&quot; id=&quot;btn-next&quot;&gt;&gt;&lt;/div&gt;</span><br><span class="hljs-string">        &lt;/div&gt;`</span>;<br>    &#125;<br>    <span class="hljs-comment">/** </span><br><span class="hljs-comment">     * <span class="hljs-doctag">@description</span> 事件绑定，改变 this.currentPage 的值,值在 1 到 this.totalPages 之间</span><br><span class="hljs-comment">     **/</span><br>    <span class="hljs-title function_">initEvents</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">root</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#btn-prev&quot;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentPage</span> &gt; <span class="hljs-number">1</span>) &#123;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentPage</span>--;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">initPagination</span>();<br>            &#125;<br>        &#125;)<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">root</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#btn-next&quot;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentPage</span> &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalPages</span>) &#123;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentPage</span>++;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">initPagination</span>();<br>            &#125;<br>        &#125;)<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">root</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;.pager&quot;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> &#123;<br>            <span class="hljs-keyword">if</span> (e.<span class="hljs-property">target</span>.<span class="hljs-property">nodeName</span>.<span class="hljs-title function_">toLowerCase</span>() === <span class="hljs-string">&#x27;li&#x27;</span>) &#123;<br>                <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">currentPage</span> === e.<span class="hljs-property">target</span>.<span class="hljs-property">innerText</span>) <span class="hljs-keyword">return</span>;<br>                <span class="hljs-keyword">if</span> (e.<span class="hljs-property">target</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">contains</span>(<span class="hljs-string">&#x27;more&#x27;</span>)) <span class="hljs-keyword">return</span>;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">currentPage</span> = <span class="hljs-title class_">Number</span>(e.<span class="hljs-property">target</span>.<span class="hljs-property">innerText</span>)<br>            &#125;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">initPagination</span>();<br>        &#125;);<br>    &#125;<br>&#125;<br><br><span class="hljs-keyword">const</span> paginationConfigObj = &#123; <span class="hljs-attr">pageSize</span>: <span class="hljs-number">10</span>, <span class="hljs-attr">total</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">pagerCount</span>: <span class="hljs-number">5</span> &#125;;<br><span class="hljs-keyword">const</span> root = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;.pagination-container&quot;</span>);<br><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">renderContent</span>(<span class="hljs-params">currentPage</span>) &#123;<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#current-page&quot;</span>).<span class="hljs-property">innerText</span> = currentPage;<br>    <span class="hljs-keyword">const</span> &#123; data, total &#125; = <span class="hljs-keyword">await</span> <span class="hljs-title function_">ajax</span>(&#123; <span class="hljs-attr">url</span>: <span class="hljs-string">&quot;./js/data.json&quot;</span>, <span class="hljs-attr">method</span>: <span class="hljs-string">&quot;get&quot;</span>, <span class="hljs-attr">query</span>: &#123; currentPage, ...paginationConfigObj &#125; &#125;);<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#ajax-data&quot;</span>).<span class="hljs-property">innerText</span> = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(data);<br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#ajax-total&quot;</span>).<span class="hljs-property">innerText</span> = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(total);<br>    <span class="hljs-keyword">const</span> contentEle = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;.content&#x27;</span>);<br>    <span class="hljs-keyword">let</span> template = data.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">prev, cur</span>) =&gt;</span><br>        prev + <span class="hljs-string">`                </span><br><span class="hljs-string">        &lt;li class=&quot;item&quot; data-index=&quot;<span class="hljs-subst">$&#123;cur.id&#125;</span>&quot;&gt;</span><br><span class="hljs-string">            &lt;h4 class=&quot;title&quot;&gt;<span class="hljs-subst">$&#123;cur.title&#125;</span>&lt;/h4&gt;</span><br><span class="hljs-string">            &lt;div class=&quot;item-right&quot;&gt;</span><br><span class="hljs-string">                评论数：&lt;span class=&quot;replay-count&quot;&gt;<span class="hljs-subst">$&#123;cur.replayCount&#125;</span>&lt;/span&gt;</span><br><span class="hljs-string">                /</span><br><span class="hljs-string">                点击数：&lt;span class=&quot;click-count&quot;&gt;<span class="hljs-subst">$&#123;cur.clickCount&#125;</span>&lt;/span&gt;</span><br><span class="hljs-string">            &lt;/div&gt;</span><br><span class="hljs-string">        &lt;/li&gt;`</span><br>        , <span class="hljs-string">&quot;&quot;</span>);<br>    contentEle.<span class="hljs-property">innerHTML</span> = template;<br>&#125;<br><br><span class="hljs-keyword">new</span> <span class="hljs-title class_">Pagination</span>(root, paginationConfigObj, &#123; <span class="hljs-attr">currentChange</span>: renderContent &#125;);<br></code></pre></td></tr></table></figure>

<h3 id="官方题解"><a href="#官方题解" class="headerlink" title="官方题解"></a>官方题解</h3><h4 id="网页-PPT"><a href="#网页-PPT" class="headerlink" title="网页 PPT"></a>网页 PPT</h4><ul>
<li><p>考察: JQuery （选择器，显示隐藏等常用 API）</p>
</li>
<li><p>答案：</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 缓存 $(&quot;section&quot;) 的 jQuery 选择器，以提高性能</span><br><span class="hljs-keyword">let</span> $sections = $(<span class="hljs-string">&quot;section&quot;</span>);<br><br><span class="hljs-comment">// 隐藏所有 section 元素，显示 activeIndex 对应的元素</span><br>$sections.<span class="hljs-title function_">hide</span>();<br>$sections.<span class="hljs-title function_">eq</span>(activeIndex).<span class="hljs-title function_">show</span>();<br><br><span class="hljs-comment">// 记录 section 元素的个数</span><br><span class="hljs-keyword">let</span> len = $sections.<span class="hljs-property">length</span>;<br><br><span class="hljs-comment">// 如果 activeIndex 是 0，给左侧按钮添加 disable 类，否则删除</span><br>$(<span class="hljs-string">&quot;.left&quot;</span>).<span class="hljs-title function_">toggleClass</span>(<span class="hljs-string">&quot;disable&quot;</span>, activeIndex === <span class="hljs-number">0</span>);<br><br><span class="hljs-comment">// 如果 activeIndex 是 len-1，给右侧按钮添加 disable 类，否则删除</span><br>$(<span class="hljs-string">&quot;.right&quot;</span>).<span class="hljs-title function_">toggleClass</span>(<span class="hljs-string">&quot;disable&quot;</span>, activeIndex === len - <span class="hljs-number">1</span>);<br><br><span class="hljs-comment">// 显示当前页数和总页数，使用字符串插值来构造 HTML 内容</span><br>$(<span class="hljs-string">&quot;.page&quot;</span>).<span class="hljs-title function_">html</span>(<span class="hljs-string">`<span class="hljs-subst">$&#123;activeIndex + <span class="hljs-number">1</span>&#125;</span>/<span class="hljs-subst">$&#123;len&#125;</span>`</span>);<br></code></pre></td></tr></table></figure>

<ul>
<li>知识点解析：</li>
</ul>
<p>.<code>toggleClass()</code> 是 jQuery 提供的一个方法，它用于在元素上切换一个或多个类名。这个方法有两个参数：</p>
<p><code>className</code>：表示要切换的类名。可以是一个或多个类名，用空格分隔。当该类名存在时，它将被删除；否则它将被添加。</p>
<p><code>state</code>：表示一个布尔值，用于决定是添加还是删除指定的类名。如果这个值为 true，类名将被添加；如果是 false，类名将被删除。如果这个参数被省略，那么类名将被添加或删除，取决于它是否存在。</p>
<p>在 <code>$(&quot;.left&quot;).toggleClass(&quot;disable&quot;, activeIndex === 0)</code> 这一行中，第一个参数是 <code>disable</code> 类名，它将被添加或删除。第二个参数是一个表达式 <code>activeIndex === 0</code>，当它的值为 <code>true</code> 时，类名将被添加，否则将被删除。因此，这行代码的作用是：</p>
<p>如果 <code>activeIndex</code> 等于 0，给 <code>.left</code> 元素添加 <code>disable</code> 类。<br>如果 <code>activeIndex</code> 不等于 0，删除 <code>.left</code> 元素上的 <code>disable</code> 类。<br>这个方法非常方便，可以用于快速地在元素上添加或删除类名。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// $(&quot;.left&quot;).toggleClass(&quot;disable&quot;, activeIndex === 0)`等价于</span><br><span class="hljs-keyword">if</span> (activeIndex == <span class="hljs-number">0</span>) &#123;<br>  $(<span class="hljs-string">&quot;.left&quot;</span>).<span class="hljs-title function_">addClass</span>(<span class="hljs-string">&quot;disable&quot;</span>);<br>&#125; <span class="hljs-keyword">else</span> &#123;<br>  $(<span class="hljs-string">&quot;.left&quot;</span>).<span class="hljs-title function_">removeClass</span>(<span class="hljs-string">&quot;disable&quot;</span>);<br>&#125;<br></code></pre></td></tr></table></figure>

<h4 id="西游记之西天取经"><a href="#西游记之西天取经" class="headerlink" title="西游记之西天取经"></a>西游记之西天取经</h4><ul>
<li><p>考察点 ：CSS3  常用属性</p>
</li>
<li><p>答案：</p>
</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">style</span>&gt;</span><span class="language-css"></span><br><span class="language-css"> <span class="hljs-selector-class">.actor</span><span class="hljs-selector-pseudo">:nth-child</span>(x) &#123;</span><br><span class="language-css">    <span class="hljs-comment">/* ...省略代码  */</span></span><br><span class="language-css">    <span class="hljs-comment">/* TODO 填空 */</span></span><br><span class="language-css">    <span class="hljs-attribute">animation</span>: a2 <span class="hljs-number">0.8s</span> <span class="hljs-built_in">steps</span>(<span class="hljs-number">8</span>) infinite;</span><br><span class="language-css">&#125;</span><br><span class="language-css">&lt;style&gt;</span><br></code></pre></td></tr></table></figure>

<ul>
<li><p>知识点解析       这是一个 CSS3 动画属性 <code>animation</code> 的值，它包含以下几个部分：</p>
<ul>
<li><p><code>a2</code>：表示要应用的动画名称，这个名称需要通过 @keyframes 规则来定义。</p>
</li>
<li><p><code>0.8s</code>：表示动画持续的时间，即 0.8 秒。</p>
</li>
<li><p><code>steps(8)</code>：表示动画执行的步数，这里使用 <code>steps</code> 函数来指定。<code>steps(8)</code> 表示动画会分为 8步进行，每一步持续相同的时间。</p>
</li>
<li><p><code>infinite</code>：表示动画将无限循环，直到被停止</p>
</li>
</ul>
</li>
<li><p>拓展学习：  step()、steps()</p>
</li>
</ul>
<h4 id="商品销量和销售额实时展示看板"><a href="#商品销量和销售额实时展示看板" class="headerlink" title="商品销量和销售额实时展示看板"></a>商品销量和销售额实时展示看板</h4><ul>
<li>考察 echarts （数据修改，正式比赛：常用 API -> 提供）</li>
</ul>
<p>答案：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> data = result.<span class="hljs-property">data</span>;<br><span class="hljs-comment">// 销售额</span><br><span class="hljs-keyword">if</span> (data?.<span class="hljs-property">saleObj</span>) &#123;<br>  <span class="hljs-keyword">let</span> [x, y] = [<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(data.<span class="hljs-property">saleObj</span>), <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(data.<span class="hljs-property">saleObj</span>)];<br>  charData.<span class="hljs-property">xAxis</span>.<span class="hljs-property">data</span> = x;<br>  charData.<span class="hljs-property">series</span>[<span class="hljs-number">0</span>].<span class="hljs-property">data</span> = y;<br>&#125;<br><span class="hljs-comment">// 销量</span><br><span class="hljs-keyword">if</span> (data?.<span class="hljs-property">countObj</span>) &#123;<br>  <span class="hljs-keyword">let</span> y = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(data.<span class="hljs-property">countObj</span>);<br>  charData.<span class="hljs-property">series</span>[<span class="hljs-number">1</span>].<span class="hljs-property">data</span> = y;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li>知识点解析</li>
</ul>
<p><code>data?.saleObj</code> 是 ECMAScript 2020 引入的一种可选链语法。</p>
<p>它允许您访问对象的属性，而不会在对象为 nullish（<code>null</code> 或 <code>undefined</code>）时引发错误。如果对象为 <code>nullish</code>，则表达式将计算为 <code>undefined</code>。</p>
<p>因此，如果 <code>data</code> 是 <code>nullish</code>，则 <code>data?.saleObj</code> 将计算为 <code>undefined</code>。如果 <code>data</code> 不是 <code>nullish</code>，则将尝试访问 <code>saleObj</code> 属性。如果 <code>saleObj</code> 存在于 <code>data</code> 对象上，则返回它的值，否则返回 <code>undefined</code>。</p>
<p>以下是一个示例以说明这个语法：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> data = <span class="hljs-literal">null</span>;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data?.<span class="hljs-property">saleObj</span>); <span class="hljs-comment">// undefined</span><br><br><span class="hljs-keyword">const</span> data2 = &#123; <span class="hljs-attr">saleObj</span>: &#123; <span class="hljs-attr">price</span>: <span class="hljs-number">10</span> &#125; &#125;;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data2?.<span class="hljs-property">saleObj</span>?.<span class="hljs-property">price</span>); <span class="hljs-comment">// 10</span><br><br><span class="hljs-keyword">const</span> data3 = &#123; &#125;;<br><span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(data3?.<span class="hljs-property">saleObj</span>?.<span class="hljs-property">price</span>); <span class="hljs-comment">// undefined</span><br></code></pre></td></tr></table></figure>

<h4 id="心愿便利贴"><a href="#心愿便利贴" class="headerlink" title="心愿便利贴"></a>心愿便利贴</h4><ul>
<li><p>考察点： element-ui  (表单验证 ) </p>
</li>
<li><p>答案：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;card&quot;</span> <span class="hljs-attr">:class</span>=<span class="hljs-string">&quot;item.css&quot;</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;(item,index) in    wishList&quot;</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;index&quot;</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-keyword">const</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;</span><br><span class="language-javascript">      <span class="hljs-comment">// ......</span></span><br><span class="language-javascript">            <span class="hljs-attr">rules</span>: &#123;</span><br><span class="language-javascript">                <span class="hljs-comment">// TODO 待补充验证的代码</span></span><br><span class="language-javascript">                <span class="hljs-attr">name</span>:[</span><br><span class="language-javascript">                    &#123; <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;请输入姓名&#x27;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="language-javascript">                    &#123; <span class="hljs-attr">min</span>: <span class="hljs-number">2</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">4</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;长度在 2 到 4 个字符&#x27;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&#x27;blur&#x27;</span> &#125;</span><br><span class="language-javascript">                ],</span><br><span class="language-javascript">                <span class="hljs-attr">content</span>:[</span><br><span class="language-javascript">                    &#123; <span class="hljs-attr">required</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;请输入内容&#x27;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&#x27;blur&#x27;</span> &#125;,</span><br><span class="language-javascript">                    &#123; <span class="hljs-attr">min</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">max</span>: <span class="hljs-number">30</span>, <span class="hljs-attr">message</span>: <span class="hljs-string">&#x27;长度在 1 到 30 个字符&#x27;</span>, <span class="hljs-attr">trigger</span>: <span class="hljs-string">&#x27;blur&#x27;</span> &#125;</span><br><span class="language-javascript">                ]</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">         <span class="hljs-comment">// ......</span></span><br><span class="language-javascript">     &#125;)</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure></li>
</ul>
<h4 id="消失的-Token"><a href="#消失的-Token" class="headerlink" title="消失的 Token"></a>消失的 Token</h4><ul>
<li><p>考察点：Vue(Vuex 的基本使用)</p>
</li>
<li><p>答案：</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> app = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Vue</span>(&#123;<br>           <span class="hljs-attr">el</span>: <span class="hljs-string">&#x27;#app&#x27;</span>,<br>           <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123; &#125;,<br>           <span class="hljs-attr">computed</span>: &#123;<br>               <span class="hljs-title function_">welcome</span>(<span class="hljs-params"></span>) &#123;<br>                   <span class="hljs-keyword">return</span> store.<span class="hljs-property">getters</span>.<span class="hljs-property">welcome</span><br>               &#125;,<br>               <span class="hljs-title function_">username</span>(<span class="hljs-params"></span>) &#123;<br>                   <span class="hljs-comment">// 第一处修改 </span><br>                   <span class="hljs-keyword">return</span> store.<span class="hljs-property">getters</span>[<span class="hljs-string">&#x27;user/username&#x27;</span>]<br>               &#125;,<br>               <span class="hljs-title function_">token</span>(<span class="hljs-params"></span>) &#123;<br>                   <span class="hljs-comment">// 第二处修改 </span><br>                   <span class="hljs-keyword">return</span> store.<span class="hljs-property">getters</span>[<span class="hljs-string">&#x27;user/token&#x27;</span>]<br>               &#125;<br>           &#125;,<br>           <span class="hljs-attr">methods</span>: &#123;<br>               <span class="hljs-comment">// 回车/点击确认的回调事件</span><br>               <span class="hljs-title function_">login</span>(<span class="hljs-params">username</span>) &#123;<br>                   <span class="hljs-comment">// 第三处修改 </span><br>                   username &amp;&amp; store.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&#x27;user/login&#x27;</span>, &#123; username, <span class="hljs-attr">token</span>: <span class="hljs-string">&#x27;sxgWKnLADfS8hUxbiMWyb&#x27;</span> &#125;)<br>                   username &amp;&amp; store.<span class="hljs-title function_">commit</span>(<span class="hljs-string">&#x27;say&#x27;</span>, <span class="hljs-string">&#x27;登录成功，欢迎你回来！&#x27;</span>)<br>               &#125;<br>           &#125;<br>       &#125;)<br></code></pre></td></tr></table></figure>

<ul>
<li>知识点解析</li>
</ul>
<p><code>namespaced: true</code> 是在 Vuex 模块中的配置选项之一，它表示将该模块开启命名空间模式。</p>
<p>在 Vuex 中，模块系统可以将 <code>store</code> 分割成小模块，每个模块都有自己的状态、<code>mutation</code>、<code>action</code> 和 <code>getter</code> 等。命名空间模式是一种使模块更加封装的方法，它可以确保模块内部的 <code>mutation</code> 和 <code>getter</code> 只能访问该模块内部的状态，而不是整个应用程序的状态。</p>
<p>使用 <code>namespaced: true</code> 配置选项，可以为该模块启用命名空间模式，这意味着在访问该模块的 <code>mutation</code> 和 <code>getter</code> 时，需要通过模块名来限定。例如，在一个名为 <code>user</code> 的 Vuex 模块中，如果启用了命名空间模式，那么在该模块内部的 <code>mutation</code> 中，要访问该模块的 <code>state</code>，就需要使用 <code>state</code> 参数的形式，即 <code>context.state</code>，而在调用该模块的 <code>mutation</code> 或 <code>getter</code> 时，需要指定该模块的名称，例如：<code>store.commit(&#39;user/login&#39;)</code>。</p>
<p>命名空间模式可以有效地避免模块之间的状态冲突，提高代码的可维护性和可读性。但是，在使用命名空间模式时，需要注意模块之间的依赖关系，以及在模块之间传递参数时的命名方式等问题。</p>
<h4 id="封装-Promisefy-函数-（大学组）"><a href="#封装-Promisefy-函数-（大学组）" class="headerlink" title="封装 Promisefy 函数 （大学组）"></a>封装 Promisefy 函数 （大学组）</h4><ul>
<li><p>考察点：ES6    promise、fs基本理解 </p>
</li>
<li><p>答案：</p>
</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">promisify</span>(<span class="hljs-params">fn</span>) &#123;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params">...args</span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>      <span class="hljs-title function_">fn</span>(...args, <span class="hljs-function">(<span class="hljs-params">err, result</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">if</span> (err) &#123;<br>          <span class="hljs-title function_">reject</span>(err);<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>          <span class="hljs-title function_">resolve</span>(result);<br>        &#125;<br>      &#125;);<br>    &#125;);<br>  &#125;;<br>&#125;<br></code></pre></td></tr></table></figure>

<p>下面是函数的详细解释：</p>
<ul>
<li><code>function promisify(fn)</code> - promisify 函数使用一个回调函数作为参数，它将被转换为返回 Promise 的函数。</li>
<li><code>return function (...args)</code> - promisify 返回一个新函数，这个新函数接受任意数量的参数并将它们传递给原始函数。</li>
<li><code>return new Promise((resolve, reject) =&gt; &#123; ... &#125;</code> - promisify 返回的函数创建一个新的 Promise，当原始函数完成时将被解析。</li>
<li><code>fn(...args, (err, result) =&gt; &#123; ... &#125;)</code> - promisify 执行原始函数并传递最后一个参数作为回调函数。回调函数期望两个参数：<code>err</code> 和 <code>result</code>。</li>
<li><code>if (err) &#123; reject(err); &#125; else &#123; resolve(result); &#125;</code> - 当原始函数完成时，回调函数将被执行。如果存在错误，则 Promise 将被拒绝为该错误；否则，Promise 将被解析为返回结果。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/**</span><br><span class="hljs-comment">   * 首先可以看到这个promisefy函数是怎么用的，参数是一个函数</span><br><span class="hljs-comment">   * 调用promisefy函数的结果被存到readFileSync里，</span><br><span class="hljs-comment">   * 而readFileSync在后面可以看到直接接个小括号传两个参了</span><br><span class="hljs-comment">   * 并且还能.then和.catch</span><br><span class="hljs-comment">   * 所以调用这个promisefy返回的是一个参数为(textPath, &#x27;utf8&#x27;)的函数</span><br><span class="hljs-comment">   * 并且这个函数的调用结果还是个promise对象，</span><br><span class="hljs-comment">   * 不然不是promise对象那来的then方法</span><br><span class="hljs-comment">   * 那这个promise对象里面怎么判断读取文件成功或失败呢</span><br><span class="hljs-comment">   * 学过node就知道了</span><br><span class="hljs-comment">   */</span><br>  <span class="hljs-keyword">return</span> <span class="hljs-function">(<span class="hljs-params">textPath,type</span>) =&gt;</span> <br>    <span class="hljs-keyword">new</span> <span class="hljs-title class_">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> &#123;<br>      <span class="hljs-title function_">fn</span>(textPath,type,<span class="hljs-function">(<span class="hljs-params">err, contrast</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">if</span>(err) <span class="hljs-title function_">reject</span>(err)<br>        <span class="hljs-keyword">else</span> <span class="hljs-title function_">resolve</span>(contrast)<br>      &#125;)<br>  &#125;)<br></code></pre></td></tr></table></figure>

<h4 id="虚拟滚动"><a href="#虚拟滚动" class="headerlink" title="虚拟滚动"></a>虚拟滚动</h4><ul>
<li>考察点 ：vue  </li>
<li>答案：</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;virtual-list&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;virtual-list&quot;</span> <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;list&quot;</span> @<span class="hljs-attr">scroll</span>=<span class="hljs-string">&quot;onScroll&quot;</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--用于撑起滚动区域高度的空白元素--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;scroll-container&quot;</span> <span class="hljs-attr">:style</span>=<span class="hljs-string">&quot;&#123; height: totalHeight + &#x27;px&#x27; &#125;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-comment">&lt;!--展示列表的ul元素--&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">ul</span></span><br><span class="hljs-tag">      <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;list&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;list&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">ref</span>=<span class="hljs-string">&quot;list&quot;</span></span><br><span class="hljs-tag">      <span class="hljs-attr">:style</span>=<span class="hljs-string">&quot;&#123; transform: dynamicTranslate &#125;&quot;</span></span><br><span class="hljs-tag">    &gt;</span><br>      <span class="hljs-comment">&lt;!--用v-for循环展示列表数据--&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">li</span></span><br><span class="hljs-tag">        <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in showingList&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">:key</span>=<span class="hljs-string">&quot;item&quot;</span></span><br><span class="hljs-tag">        <span class="hljs-attr">:style</span>=<span class="hljs-string">&quot;&#123; height: itemHeight + &#x27;px&#x27;, lineHeight: itemHeight + &#x27;px&#x27; &#125;&quot;</span></span><br><span class="hljs-tag">      &gt;</span><br>        &#123;&#123; item &#125;&#125;<br>      <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript"><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;</span><br><span class="language-javascript">  <span class="hljs-title function_">data</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">    <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">      <span class="hljs-attr">itemHeight</span>: <span class="hljs-number">60</span>, <span class="hljs-comment">// 每一项的高度</span></span><br><span class="language-javascript">      <span class="hljs-attr">length</span>: <span class="hljs-number">10</span>, <span class="hljs-comment">// 初始展示的项数</span></span><br><span class="language-javascript">      <span class="hljs-attr">buffer</span>: <span class="hljs-number">5</span>, <span class="hljs-comment">// 预加载的项数</span></span><br><span class="language-javascript">      <span class="hljs-attr">list</span>: [], <span class="hljs-comment">// 数据列表</span></span><br><span class="language-javascript">      <span class="hljs-attr">totalHeight</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// 数据列表总高度</span></span><br><span class="language-javascript">      <span class="hljs-attr">scrollTop</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// 滚动条的位置</span></span><br><span class="language-javascript">      <span class="hljs-attr">start</span>: <span class="hljs-number">0</span>, <span class="hljs-comment">// 开始展示的项的索引</span></span><br><span class="language-javascript">    &#125;;</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">computed</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">showingList</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>.<span class="hljs-title function_">slice</span>(</span><br><span class="language-javascript">        <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">max</span>(<span class="hljs-number">0</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span> - <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span>), <span class="hljs-comment">// 起始索引（加上缓存）</span></span><br><span class="language-javascript">        <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">min</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span> + <span class="hljs-variable language_">this</span>.<span class="hljs-property">length</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>.<span class="hljs-property">length</span>) <span class="hljs-comment">// 结束索引（加上缓存和可见范围）</span></span><br><span class="language-javascript">      );</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">    <span class="hljs-title function_">dynamicTranslate</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> belowOffset = <span class="hljs-variable language_">this</span>.<span class="hljs-property">buffer</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemHeight</span>; <span class="hljs-comment">// 预加载项的总高度</span></span><br><span class="language-javascript">      <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">scrollTop</span> &lt;= belowOffset) &#123; <span class="hljs-comment">// 如果滚动距离小于等于预加载项的总高度，不需要滚动</span></span><br><span class="language-javascript">        <span class="hljs-keyword">return</span> <span class="hljs-string">`translate3d(0,0,0)`</span>;</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">      <span class="hljs-keyword">const</span> startOffset =</span><br><span class="language-javascript">        <span class="hljs-variable language_">this</span>.<span class="hljs-property">scrollTop</span> - (<span class="hljs-variable language_">this</span>.<span class="hljs-property">scrollTop</span> % <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemHeight</span>) - belowOffset; <span class="hljs-comment">// 计算开始滚动的位置</span></span><br><span class="language-javascript">      <span class="hljs-keyword">return</span> <span class="hljs-string">`translate3d(0,<span class="hljs-subst">$&#123;startOffset&#125;</span>px,0)`</span>;</span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-attr">methods</span>: &#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">onScroll</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-comment">// 监听滚动事件</span></span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">scrollTop</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">$refs</span>.<span class="hljs-property">list</span>.<span class="hljs-property">scrollTop</span>; <span class="hljs-comment">// 获取滚动条位置</span></span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">scrollTop</span> / <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemHeight</span>); <span class="hljs-comment">// 计算开始展示的索引</span></span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">  <span class="hljs-title function_">mounted</span>(<span class="hljs-params"></span>) &#123; <span class="hljs-comment">// 在组件挂载后获取数据</span></span><br><span class="language-javascript">    axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&quot;./data.json&quot;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">&#123; data &#125;</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span> = data; <span class="hljs-comment">// 将数据存入列表</span></span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">totalHeight</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">itemHeight</span> * <span class="hljs-variable language_">this</span>.<span class="hljs-property">list</span>.<span class="hljs-property">length</span>; <span class="hljs-comment">// 计算数据列表总高度</span></span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">start</span> = <span class="hljs-number">0</span>; <span class="hljs-comment">// 初始化开始展示的索引</span></span><br><span class="language-javascript">      <span class="hljs-variable language_">this</span>.<span class="hljs-property">scrollTop</span> = <span class="hljs-number">0</span>; <span class="hljs-comment">// 初始化滚动条位置</span></span><br><span class="language-javascript">    &#125;);</span><br><span class="language-javascript">  &#125;,</span><br><span class="language-javascript">&#125;;</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>

<ul>
<li><p>知识点解析</p>
<p><strong><code>computed</code> 计算属性</strong></p>
<p><code>computed</code> 计算属性用于根据已有的数据计算出新的数据，并且只有在相关数据发生变化时才会重新计算。在这段代码中，<code>computed</code> 计算属性主要用于计算列表的展示内容和滚动的位置。<br>  showingList<code>：根据 </code>start<code>、</code>length<code>和</code>buffer<code>计算出当前需要展示的数据列表。</code></p>
<p>dynamicTranslate`：根据滚动条的位置和预加载项的总高度计算出需要滚动的位置，以实现虚拟滚动</p>
<p><strong>虚拟列表的实现原理：</strong></p>
<p>虚拟列表通过只渲染可见范围内的数据项，而不是渲染整个列表来提高性能。在这段代码中，虚拟列表的实现原理如下：</p>
<ul>
<li>通过计算出开始展示的项的索引和需要展示的项数，计算出当前需要展示的数据列表。</li>
<li>通过计算出滚动条的位置和预加载项的总高度，计算出需要滚动的位置。</li>
<li>将滚动位置应用到列表容器上，从而实现虚拟滚动。</li>
</ul>
</li>
</ul>
<h2 id="模拟赛1-1"><a href="#模拟赛1-1" class="headerlink" title="模拟赛1"></a>模拟赛1</h2><p><a target="_blank" rel="noopener" href="https://www.lanqiao.cn/problem-list/28/">https://www.lanqiao.cn/problem-list/28/</a></p>
<h3 id="3-迷惑的-this"><a href="#3-迷惑的-this" class="headerlink" title="3. 迷惑的 this"></a>3. 迷惑的 this</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">handle</span>(<span class="hljs-params"></span>) &#123;<br>	<span class="hljs-variable language_">this</span>.<span class="hljs-property">inputEl</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;input&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">e</span>)=&gt;</span>&#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleInput</span>(e)<br>    &#125;)<br>&#125;<br></code></pre></td></tr></table></figure>

<p>这个回调的调用者是<code>this</code>也就是search对象</p>
<p>这样就不行：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">handle</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// TODO：待补充代码  </span><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">deal</span>(<span class="hljs-params">e</span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">handleInput</span>(e)<br>    &#125;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">inputEl</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;input&#x27;</span>,<span class="hljs-function">(<span class="hljs-params">e</span>)=&gt;</span>&#123;<br>        <span class="hljs-title function_">deal</span>(e)<br>    &#125;)<br>&#125;,<br></code></pre></td></tr></table></figure>

<p>原因：**<code>this</code>指向调用者**。</p>
<p>deal的调用者是一个箭头函数，而箭头函数的<code>this</code>是<code>window</code>。</p>
<p>（箭头函数不会创建自己的 <code>this</code> 上下文，所以 <code>this</code> 会在词法上指向外层的上下文，这里的外层上下文是全局上下文。）</p>
<h3 id="4-魔法失灵了"><a href="#4-魔法失灵了" class="headerlink" title="4. 魔法失灵了"></a>4. 魔法失灵了</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 原先会响应式丢失</span><br><span class="hljs-comment">// let &#123; value &#125;=&#123; ...data &#125;</span><br><br><span class="hljs-keyword">let</span> &#123; value &#125;= <span class="hljs-title function_">toRefs</span>( data)<br><span class="hljs-comment">// 返回的是ref，需要用.value</span><br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">update</span>(<span class="hljs-params">val</span>) &#123;<br>    value.<span class="hljs-property">value</span> = val<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="5-燃烧你的卡路里"><a href="#5-燃烧你的卡路里" class="headerlink" title="5. 燃烧你的卡路里"></a>5. 燃烧你的卡路里</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">sortItem</span> = (<span class="hljs-params">arr, pro, compare</span>) =&gt; &#123;<br>    <span class="hljs-comment">// TODO 根据 compare 匹配食材对象后返回这个对象</span><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">comp</span>(<span class="hljs-params">a,b</span>)&#123;<br>        <span class="hljs-keyword">if</span>(a[pro]&gt;b[pro]) <span class="hljs-keyword">return</span> -<span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span>(a[pro]==b[pro]) <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<br>        <span class="hljs-keyword">if</span>(a[pro]&lt;b[pro]) <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<br>    &#125;<br>    arr.<span class="hljs-title function_">sort</span>(comp)<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(arr);<br>    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i=<span class="hljs-number">0</span>;i&lt;arr.<span class="hljs-property">length</span>;i++)&#123;<br>        <span class="hljs-keyword">if</span>(arr[i][pro]&lt;=compare)<br>            <span class="hljs-keyword">return</span> arr[i]<br>    &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>

<h3 id="6-司龄统计"><a href="#6-司龄统计" class="headerlink" title="6 司龄统计"></a>6 司龄统计</h3><p>考点：Echarts，动态属性名</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 按照年龄分组的函数</span><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">groupByAge</span> = (<span class="hljs-params">peoples</span>) =&gt; &#123;<br>  <span class="hljs-comment">// 动态属性名（计算属性）</span><br>  <span class="hljs-keyword">const</span> obj = &#123;&#125;;<br>  peoples.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">element</span>) =&gt;</span> &#123;<br>    <span class="hljs-keyword">let</span> age = element.<span class="hljs-property">age</span>;<br>    <span class="hljs-keyword">if</span> (!obj[age]) &#123;<br>      <span class="hljs-comment">// if(!obj.age)&#123; 这样会查找`age`这个字符串</span><br>      obj[age] = [];<br>    &#125;<br>    obj[age].<span class="hljs-title function_">push</span>(element);<br>  &#125;);<br>  <span class="hljs-keyword">return</span> obj;<br>&#125;;<br><br><span class="hljs-keyword">const</span> app = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>(&#123;<br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> &#123; updateData &#125; = <span class="hljs-title function_">useECharts</span>();<br>    <span class="hljs-keyword">let</span> xAxisData = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">ref</span>([]); <span class="hljs-comment">// X 轴数据，司龄从小到大排列</span><br>    <span class="hljs-keyword">let</span> seriesData = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">ref</span>([]); <span class="hljs-comment">// Y 轴数据，司龄对应的人数</span><br>    <span class="hljs-keyword">const</span> groupedPeople = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">ref</span>([]); <span class="hljs-comment">// table 中显示的数据</span><br>    <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">onMounted</span>(<span class="hljs-keyword">async</span> () =&gt; &#123;<br>      <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">await</span> (<span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-string">&quot;./mock/data.json&quot;</span>)).<span class="hljs-title function_">json</span>();<br>      groupedPeople.<span class="hljs-property">value</span> = <span class="hljs-title function_">groupByAge</span>(data); <span class="hljs-comment">//把请求回来的数据变成需要的数据格式</span><br>      <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> 设置 Echars X 轴数据 xAxisData 和 Y 轴数据 seriesData</span><br>      xAxisData.<span class="hljs-property">value</span>=<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">keys</span>(groupedPeople.<span class="hljs-property">value</span>)<br>      seriesData.<span class="hljs-property">value</span>=<span class="hljs-title class_">Object</span>.<span class="hljs-title function_">values</span>(groupedPeople.<span class="hljs-property">value</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item</span>)=&gt;</span> item.<span class="hljs-property">length</span>)<br>      <span class="hljs-comment">// 更新 echars 数据</span><br>      <span class="hljs-title function_">updateData</span>(xAxisData.<span class="hljs-property">value</span>, seriesData.<span class="hljs-property">value</span>);<br>    &#125;);<br><br>    <span class="hljs-keyword">return</span> &#123;<br>      groupedPeople,<br>    &#125;;<br>  &#125;,<br>&#125;);<br><br>app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>);<br></code></pre></td></tr></table></figure>

<h3 id="7-不翼而飞的余额"><a href="#7-不翼而飞的余额" class="headerlink" title="7 不翼而飞的余额"></a>7 不翼而飞的余额</h3><ul>
<li>store</li>
<li>router</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> depositAmount = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">ref</span>() <span class="hljs-comment">// 输入框中的的值-&gt;存款金额</span><br>    <span class="hljs-keyword">const</span> store = <span class="hljs-title function_">useMoneyStore</span>()  <span class="hljs-comment">// 引入 store</span><br><br>    <span class="hljs-comment">// TODO：待补充代码，完善点击存款按钮事件</span><br>    <span class="hljs-keyword">function</span> <span class="hljs-title function_">deposit</span>(<span class="hljs-params"></span>) &#123;<br>        store.<span class="hljs-title function_">addDeposit</span>(depositAmount.<span class="hljs-property">value</span>)<br>        depositAmount.<span class="hljs-property">value</span>=<span class="hljs-literal">null</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> &#123;<br>        deposit,<br>        store,<br>        depositAmount<br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> useMoneyStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">&#x27;money&#x27;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> balance = <span class="hljs-title function_">ref</span>(<span class="hljs-number">23</span>);<br>    <span class="hljs-keyword">const</span> <span class="hljs-title function_">addDeposit</span>=(<span class="hljs-params">add</span>)=&gt;&#123;<br>      balance.<span class="hljs-property">value</span>+=add<br>    &#125;<br>    <span class="hljs-keyword">return</span> &#123;<br>      balance,addDeposit<br>    &#125;<br>&#125;)<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> &#123; createPinia &#125; = <span class="hljs-title class_">Pinia</span>;<br><span class="hljs-keyword">const</span> &#123; createRouter,createWebHistory &#125; = <span class="hljs-title class_">VueRouter</span>;  <span class="hljs-comment">// TODO：待补充代码，在此引入路由相关 API </span><br><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(&#123;&#125;);<br>app.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">createPinia</span>());<br><br><span class="hljs-keyword">const</span> router = <span class="hljs-title function_">createRouter</span>(&#123;<br>    <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span>待补充代码，为项目配置 history 模式的路由</span><br>    <span class="hljs-attr">history</span>:<span class="hljs-title function_">createWebHistory</span>(),<br>    <span class="hljs-attr">routes</span>:[<br>        &#123;<br>            <span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/&#x27;</span>,<br>            <span class="hljs-attr">component</span>: <span class="hljs-title class_">WalletPage</span><br>        &#125;,<br>        &#123;<br>            <span class="hljs-attr">path</span>:<span class="hljs-string">&#x27;/deposit&#x27;</span>,<br>            <span class="hljs-attr">component</span>: <span class="hljs-title class_">DepositPage</span> <br>        &#125;,<br>    ]<br>&#125;)<br></code></pre></td></tr></table></figure>

<h3 id="8-个性化推荐"><a href="#8-个性化推荐" class="headerlink" title="8 个性化推荐"></a>8 个性化推荐</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;http&quot;</span>);<br><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;fs&quot;</span>);<br><span class="hljs-keyword">const</span> path = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;path&quot;</span>);<br><span class="hljs-keyword">const</span> qs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;querystring&quot;</span>);<br><span class="hljs-keyword">const</span> data = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;../data.json&quot;</span>);<br><br><span class="hljs-keyword">const</span> server = http.<span class="hljs-title function_">createServer</span>(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> &#123;<br>  <span class="hljs-comment">// 起始页路由处理</span><br>  <span class="hljs-keyword">if</span> (req.<span class="hljs-property">url</span> === <span class="hljs-string">&quot;/&quot;</span>) &#123;<br>    <span class="hljs-comment">// 读取 index.html 内容 如何读取文件</span><br>    <span class="hljs-keyword">const</span> indexPage = fs.<span class="hljs-title function_">readFileSync</span>(path.<span class="hljs-title function_">join</span>(__dirname, <span class="hljs-string">&quot;../index.html&quot;</span>), &#123;<br>      <span class="hljs-attr">encoding</span>: <span class="hljs-string">&quot;utf8&quot;</span>,<br>    &#125;);<br><br>    <span class="hljs-comment">// 将读取的 index.html 内容写入响应中，并返回给前端展示</span><br>    res.<span class="hljs-title function_">writeHead</span>(<span class="hljs-number">200</span>, &#123; <span class="hljs-string">&quot;Content-Type&quot;</span>: <span class="hljs-string">&quot;text/html&quot;</span> &#125;);<br>    res.<span class="hljs-title function_">write</span>(indexPage);<br>    res.<span class="hljs-title function_">end</span>();<br>  &#125;<br>  <span class="hljs-comment">// 个性化页面路由处理</span><br>  <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (req.<span class="hljs-property">url</span>.<span class="hljs-title function_">startsWith</span>(<span class="hljs-string">&quot;/customized&quot;</span>)) &#123;<br>    <span class="hljs-keyword">let</span> body = <span class="hljs-string">&quot;&quot;</span>;<br>    req.<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;data&quot;</span>, <span class="hljs-function">(<span class="hljs-params">chunk</span>) =&gt;</span> &#123;<br>      body += chunk;<br>    &#125;);<br><br>    req.<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;end&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-keyword">let</span> &#123; interested = [] &#125; = qs.<span class="hljs-title function_">parse</span>(body);<br>      <span class="hljs-comment">// console.log(data);</span><br>      <span class="hljs-keyword">let</span> result = <span class="hljs-string">&quot;&quot;</span>;<br>      <span class="hljs-keyword">if</span> (interested.<span class="hljs-property">length</span>===<span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-comment">// console.log(interested);</span><br>        result = <span class="hljs-string">`&lt;div class=&quot;unselect&quot;&gt;你还未选择任何感兴趣的标签！&lt;/div&gt;`</span>;<br>      &#125; <span class="hljs-keyword">else</span> &#123;<br>        <span class="hljs-comment">// 当interested只选了一个的时候，这会是一个字符串而不是数组</span><br>        <span class="hljs-keyword">if</span>(! <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">isArray</span>(interested)) interested=[interested]<br>        <span class="hljs-comment">// console.log(interested, &#x27;\n 11111&#x27;);</span><br>        <span class="hljs-keyword">const</span> <span class="hljs-title function_">findContent</span> = (<span class="hljs-params">target</span>) =&gt; &#123;<br>          <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> item <span class="hljs-keyword">of</span> data) &#123;<br>            <span class="hljs-keyword">if</span> (item.<span class="hljs-property">tag</span> == target) &#123;<br>              <span class="hljs-keyword">return</span> item;<br>            &#125;<br>          &#125;<br>          <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;findContent&quot;</span>);<br>        &#125;;<br><br>        <span class="hljs-keyword">const</span> list = [];<br>        <span class="hljs-keyword">const</span> set = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>();<br>        <span class="hljs-comment">// 枚举用户的兴趣列表</span><br>        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> interest <span class="hljs-keyword">of</span> interested) &#123;<br>          <span class="hljs-comment">// console.log(interest);</span><br>          <span class="hljs-keyword">const</span> content = <span class="hljs-title function_">findContent</span>(interest);<br>          list.<span class="hljs-title function_">push</span>(content);<br>          set.<span class="hljs-title function_">add</span>(content);<br>        &#125;<br>        <span class="hljs-comment">// console.log(list);</span><br>        <span class="hljs-comment">// 读取相关兴趣</span><br>        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">const</span> content <span class="hljs-keyword">of</span> list)&#123;<br>          <span class="hljs-comment">// continue</span><br>          <span class="hljs-comment">// console.log(content); continue;</span><br>          <span class="hljs-keyword">if</span>(!content.<span class="hljs-property">relevance</span>.<span class="hljs-property">length</span>) <span class="hljs-keyword">continue</span><br>          <span class="hljs-comment">// C++的关联列表是空的，这里会报错</span><br>          <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> relevance <span class="hljs-keyword">of</span> content.<span class="hljs-property">relevance</span>) &#123;<br>            <span class="hljs-keyword">const</span> relevanceContent = <span class="hljs-title function_">findContent</span>(relevance);<br>            <span class="hljs-keyword">if</span> (!set.<span class="hljs-title function_">has</span>(relevanceContent)) &#123;<br>              list.<span class="hljs-title function_">push</span>(relevanceContent);<br>              set.<span class="hljs-title function_">add</span>(relevanceContent);<br>            &#125;<br>          &#125;<br>        &#125;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(list);<br>        result=list.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item</span>)=&gt;</span> <span class="hljs-string">`&lt;div class=&quot;interest&quot;&gt;</span><br><span class="hljs-string">                                      &lt;div class=&quot;tag&quot;&gt;<span class="hljs-subst">$&#123;item.tag&#125;</span>&lt;/div&gt;</span><br><span class="hljs-string">                                      &lt;div&gt;<span class="hljs-subst">$&#123;item.content&#125;</span>&lt;/div&gt;</span><br><span class="hljs-string">                                  &lt;/div&gt;`</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;&#x27;</span>)      <br>      &#125;<br>      <span class="hljs-keyword">let</span> indexPage = fs.<span class="hljs-title function_">readFileSync</span>(path.<span class="hljs-title function_">join</span>(__dirname, <span class="hljs-string">&quot;../customized.html&quot;</span>), &#123;<br>        <span class="hljs-attr">encoding</span>: <span class="hljs-string">&quot;utf8&quot;</span>,<br>      &#125;);<br>      indexPage=indexPage.<span class="hljs-title function_">replace</span>(<span class="hljs-string">&#x27;&lt;body&gt;&lt;/body&gt;&#x27;</span>, <span class="hljs-string">`&lt;body&gt;`</span> + result+<span class="hljs-string">`&lt;/body&gt;`</span>)<br>      res.<span class="hljs-title function_">write</span>(indexPage)<br>      res.<span class="hljs-title function_">end</span>();<br>    &#125;);<br>  &#125;<br>&#125;);<br><br>server.<span class="hljs-title function_">listen</span>(<span class="hljs-number">8080</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;server is running in port 8080&quot;</span>);<br>&#125;);<br><br></code></pre></td></tr></table></figure>

<h3 id="9-贪吃蛇"><a href="#9-贪吃蛇" class="headerlink" title="9 贪吃蛇"></a>9 贪吃蛇</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">nextStep</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// TODO：待补充代码   </span><br>    <span class="hljs-comment">// debugger</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-variable language_">this</span>.<span class="hljs-property">snakeBody</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>; i &gt;= <span class="hljs-number">1</span>; i--) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">snakeBody</span>[i] = &#123;<br>            ...<span class="hljs-variable language_">this</span>.<span class="hljs-property">snakeBody</span>[i - <span class="hljs-number">1</span>]<br>        &#125;<br>    &#125;<br>    <span class="hljs-keyword">switch</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">direction</span>) &#123;<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;right&#x27;</span>:<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">snakeBody</span>[<span class="hljs-number">0</span>].<span class="hljs-property">left</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span><br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;down&#x27;</span>:<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">snakeBody</span>[<span class="hljs-number">0</span>].<span class="hljs-property">top</span> += <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span><br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;left&#x27;</span>:<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">snakeBody</span>[<span class="hljs-number">0</span>].<span class="hljs-property">left</span> -= <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span><br>            <span class="hljs-keyword">break</span>;<br>        <span class="hljs-keyword">case</span> <span class="hljs-string">&#x27;up&#x27;</span>:<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">snakeBody</span>[<span class="hljs-number">0</span>].<span class="hljs-property">top</span> -= <span class="hljs-variable language_">this</span>.<span class="hljs-property">size</span><br>            <span class="hljs-keyword">break</span>;<br>    &#125;<br>    <span class="hljs-comment">// debugger</span><br>    <span class="hljs-comment">// 或者</span><br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">snakeBody</span>.<span class="hljs-title function_">unshift</span>(newHead);<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">snakeBody</span>.<span class="hljs-title function_">pop</span>();<br>    <span class="hljs-comment">// 结合unshift和pop，也能达到向后移动的效果</span><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="10-自定义表单验证器"><a href="#10-自定义表单验证器" class="headerlink" title="10 自定义表单验证器"></a>10 自定义表单验证器</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">watch</span>(inputValue, <span class="hljs-function">(<span class="hljs-params">newValue</span>) =&gt;</span> &#123;<br>      <span class="hljs-title function_">emit</span>(<span class="hljs-string">&#x27;update:modelValue&#x27;</span>, newValue)<br>    &#125;)<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">is_email</span> = (<span class="hljs-params">val</span>) =&gt; &#123;<br>  <span class="hljs-comment">// TODO：目标 2 待补充代码</span><br>  <span class="hljs-keyword">let</span> [before, behind] = val.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;@&#x27;</span>)<br><br>  <span class="hljs-comment">// 没有@或@后面没有字母</span><br>  <span class="hljs-keyword">if</span> (<span class="hljs-title function_">typeof</span>(behind)!=<span class="hljs-string">&#x27;string&#x27;</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br>  <span class="hljs-keyword">let</span> userReg = <span class="hljs-regexp">/[0-9a-zA-Z]+/</span><br>  <span class="hljs-keyword">if</span> (!before.<span class="hljs-title function_">match</span>(userReg)) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br>  <br>  <span class="hljs-keyword">let</span> [firstBehind, lastBehind] = behind.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;.&#x27;</span>)<br>  <span class="hljs-keyword">let</span> firstBehindReg = <span class="hljs-regexp">/^[0-9a-zA-Z]+$/</span><br>  <span class="hljs-keyword">if</span> (!firstBehind.<span class="hljs-title function_">match</span>(firstBehindReg)) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br><br>  <span class="hljs-keyword">let</span> lastBehindReg = <span class="hljs-regexp">/^[0-9a-zA-Z]&#123;2,4&#125;$/</span><br>  <span class="hljs-keyword">if</span> (!lastBehind.<span class="hljs-title function_">match</span>(lastBehindReg)) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">111</span>);<br>  <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><br>&#125;<br></code></pre></td></tr></table></figure>



<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// FormValidator.js</span><br><span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> key <span class="hljs-keyword">in</span> props.<span class="hljs-property">formData</span>) &#123;<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> rule <span class="hljs-keyword">of</span> props.<span class="hljs-property">rules</span>[key]) &#123;<br>    <span class="hljs-comment">// 若某个字段对应的错误信息为多个时，将按照验证规则数组的顺序优先显示，即只显示第一个错误信息。</span><br>    <span class="hljs-keyword">if</span> (key <span class="hljs-keyword">in</span> errors) <span class="hljs-keyword">break</span><br><br>    <span class="hljs-comment">// rule有两种</span><br>    <span class="hljs-keyword">if</span> (<span class="hljs-string">&#x27;validator&#x27;</span> <span class="hljs-keyword">in</span> rule) &#123;<br>      rule.<span class="hljs-title function_">validator</span>(rule, props.<span class="hljs-property">formData</span>[key], <span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">if</span> (error) errors.<span class="hljs-property">value</span>[key] = error.<span class="hljs-property">message</span>;<br>      &#125;)<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>      <span class="hljs-keyword">if</span> (<span class="hljs-string">&#x27;required&#x27;</span> <span class="hljs-keyword">in</span> rule) &#123;<br>        <span class="hljs-keyword">if</span> (rule.<span class="hljs-property">required</span> &amp;&amp; props.<span class="hljs-property">formData</span>[key] === <span class="hljs-string">&#x27;&#x27;</span>) &#123;<br>          errors.<span class="hljs-property">value</span>[key] = rule.<span class="hljs-property">message</span><br>        &#125;<br>      &#125;<br>      <span class="hljs-keyword">if</span> (<span class="hljs-string">&#x27;type&#x27;</span> <span class="hljs-keyword">in</span> rule &amp;&amp; rule.<span class="hljs-property">type</span> === <span class="hljs-string">&#x27;email&#x27;</span>) &#123;<br>        <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">validateByType</span>(rule.<span class="hljs-property">type</span>, props.<span class="hljs-property">formData</span>[key])<br>          || props.<span class="hljs-property">formData</span>[key].<span class="hljs-property">length</span> &lt; <span class="hljs-number">8</span> || props.<span class="hljs-property">formData</span>[key].<span class="hljs-property">length</span> &gt; <span class="hljs-number">20</span>) &#123;<br>          errors.<span class="hljs-property">value</span>[key] = rule.<span class="hljs-property">message</span><br>        &#125;<br>      &#125;<br>    &#125;<br>  &#125;<br>&#125;<br></code></pre></td></tr></table></figure>



<h2 id="模拟赛2-1"><a href="#模拟赛2-1" class="headerlink" title="模拟赛2"></a>模拟赛2</h2><h3 id="1-相不相等"><a href="#1-相不相等" class="headerlink" title="1 相不相等"></a>1 相不相等</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">var</span> expectFn = <span class="hljs-keyword">function</span>(<span class="hljs-params">val</span>) &#123;<br>  <span class="hljs-comment">// TODO</span><br>  <span class="hljs-keyword">return</span> &#123;<br>    <span class="hljs-title function_">toBe</span>(<span class="hljs-params">val2</span>)&#123;<br>      <span class="hljs-keyword">if</span>(val2===val) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><br>      <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;Not Equal&#x27;</span><br>    &#125;,<br>    <span class="hljs-title function_">notToBe</span>(<span class="hljs-params">val2</span>)&#123;<br>      <span class="hljs-keyword">if</span>(val2!==val) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><br>      <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;Equal&#x27;</span><br>    &#125;<br>  &#125;<br>&#125;;<br></code></pre></td></tr></table></figure>

<h3 id="2-三行情书"><a href="#2-三行情书" class="headerlink" title="2 三行情书"></a>2 三行情书</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-tag">span</span> &#123;<br>    <span class="hljs-attribute">font-size</span>: <span class="hljs-number">20px</span>;<br>    <span class="hljs-attribute">color</span>: <span class="hljs-number">#837362</span>;<br>    <span class="hljs-comment">/* TODO：补充下面的代码 */</span><br>    <span class="hljs-comment">/* 1. 宽度要固定，先强制一行内显示文本 */</span><br>    <span class="hljs-attribute">white-space</span>: nowrap;<br>    <span class="hljs-attribute">display</span>: block;<br>    <span class="hljs-attribute">width</span>: <span class="hljs-number">100%</span>;<br>    <span class="hljs-comment">/*2. 超出的部分隐藏*/</span><br>    <span class="hljs-attribute">overflow</span>: hidden;<br>    <span class="hljs-comment">/*3. 文字用省略号替代超出的部分*/</span><br>    <span class="hljs-attribute">text-overflow</span>: ellipsis;<br>&#125;<br><span class="hljs-selector-tag">p</span> &#123;<br>    <span class="hljs-attribute">color</span>: <span class="hljs-number">#837362</span>;<br>    <span class="hljs-comment">/* TODO：补充下面的代码 */</span><br>    <span class="hljs-attribute">overflow</span>: hidden;<br>    <span class="hljs-attribute">display</span>: -webkit-box;<br>    -webkit-line-clamp: <span class="hljs-number">3</span>;<br>    -webkit-box-orient: vertical;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="3-电影院在线订票"><a href="#3-电影院在线订票" class="headerlink" title="3 电影院在线订票"></a>3 电影院在线订票</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/* <span class="hljs-doctag">TODO:</span> </span><br><span class="hljs-comment">      1. 完成数据请求，生成电影名，价格以及座位情况</span><br><span class="hljs-comment">      2. 绑定点击事件，实现订票功能</span><br><span class="hljs-comment"> */</span><br><br><span class="hljs-comment">// 获取座位区域节点</span><br><span class="hljs-keyword">const</span> seatAreaNode = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;seat-area&quot;</span>);<br><span class="hljs-comment">// 获取电影名节点</span><br><span class="hljs-keyword">const</span> movieNameNode = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;movie-name&quot;</span>);<br><span class="hljs-comment">// 获取电影票价节点</span><br><span class="hljs-keyword">const</span> moviePriceNode = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;movie-price&quot;</span>);<br><span class="hljs-comment">// 获取已订电影票数量节点</span><br><span class="hljs-keyword">const</span> count = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;count&quot;</span>);<br><span class="hljs-comment">// 获取已订电影票总价节点</span><br><span class="hljs-keyword">const</span> total = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;total&quot;</span>);<br><br><span class="hljs-title function_">axios</span>(<span class="hljs-string">&#x27;./data.json&#x27;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">result</span>) =&gt;</span> &#123;<br>      movieNameNode.<span class="hljs-property">innerText</span> = result.<span class="hljs-property">data</span>.<span class="hljs-property">name</span><br>      moviePriceNode.<span class="hljs-property">innerText</span> = result.<span class="hljs-property">data</span>.<span class="hljs-property">price</span><br>      <span class="hljs-keyword">let</span> rowHtml = <span class="hljs-string">``</span><br>      <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> row <span class="hljs-keyword">of</span> result.<span class="hljs-property">data</span>.<span class="hljs-property">seats</span>) &#123;<br>            rowHtml += <span class="hljs-string">`&lt;div class=&quot;row&quot;&gt;`</span><br>            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> seat <span class="hljs-keyword">of</span> row) &#123;<br>                  <span class="hljs-keyword">if</span> (seat) rowHtml += <span class="hljs-string">`&lt;div class=&quot;seat occupied&quot;&gt;&lt;/div&gt;`</span><br>                  <span class="hljs-keyword">else</span> rowHtml += <span class="hljs-string">`&lt;div class=&quot;seat&quot;&gt;&lt;/div&gt;`</span><br>            &#125;<br>            rowHtml += <span class="hljs-string">`&lt;/div&gt;`</span><br>      &#125;<br>      seatAreaNode.<span class="hljs-property">innerHTML</span> = rowHtml<br><br>      <span class="hljs-comment">// 实现座位选择和总价计算的功能</span><br>      <span class="hljs-keyword">let</span> totalNum = <span class="hljs-number">0</span><br>      seatAreaNode.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> &#123;<br>            e.<span class="hljs-title function_">stopPropagation</span>();<br>            <span class="hljs-keyword">if</span> (e.<span class="hljs-property">target</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">contains</span>(<span class="hljs-string">&#x27;occupied&#x27;</span>)) <span class="hljs-keyword">return</span><br>            <span class="hljs-keyword">if</span> (e.<span class="hljs-property">target</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">contains</span>(<span class="hljs-string">&#x27;selected&#x27;</span>)) &#123;<br>                  e.<span class="hljs-property">target</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">remove</span>(<span class="hljs-string">&#x27;selected&#x27;</span>)<br>                  totalNum--<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                  e.<span class="hljs-property">target</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;selected&#x27;</span>)<br>                  totalNum++<br>            &#125;<br>            count.<span class="hljs-property">innerText</span> = totalNum<br>            total.<span class="hljs-property">innerText</span> = totalNum * result.<span class="hljs-property">data</span>.<span class="hljs-property">price</span><br>      &#125;)<br>&#125;).<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">err</span>) =&gt;</span> &#123;<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(err);<br>&#125;);<br></code></pre></td></tr></table></figure>

<h3 id="4-老虎机"><a href="#4-老虎机" class="headerlink" title="4 老虎机"></a>4 老虎机</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title class_">GetResult</span>(r1, r2, r3) &#123;<br>    <span class="hljs-comment">// TODO 待补充代码</span><br>    <span class="hljs-keyword">let</span> one = sevenFirst.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&#x27;li&#x27;</span>)[r1].<span class="hljs-property">dataset</span>.<span class="hljs-property">point</span><br>    <span class="hljs-keyword">let</span> two = sevenSecond.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&#x27;li&#x27;</span>)[r2].<span class="hljs-property">dataset</span>.<span class="hljs-property">point</span><br>    <span class="hljs-keyword">let</span> three = sevenThird.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&#x27;li&#x27;</span>)[r3].<span class="hljs-property">dataset</span>.<span class="hljs-property">point</span><br>    <span class="hljs-keyword">if</span> (one === two &amp;&amp; one === three) &#123;<br>        textPanel.<span class="hljs-property">innerHTML</span> =<span class="hljs-string">&#x27;恭喜你，中奖了&#x27;</span><br>    &#125;<br>    <span class="hljs-keyword">else</span> &#123;<br>        textPanel.<span class="hljs-property">innerHTML</span> =<span class="hljs-string">&#x27;很遗憾，未中奖&#x27;</span><br>    &#125;<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="5-星际通讯"><a href="#5-星际通讯" class="headerlink" title="5 星际通讯"></a>5 星际通讯</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> <span class="hljs-title function_">translate</span> = (<span class="hljs-params">alienMessage</span>) =&gt; &#123;<br>  <span class="hljs-comment">// TODO：待补充代码</span><br>  <br>  <span class="hljs-keyword">let</span> res = <span class="hljs-string">&#x27;&#x27;</span><br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> idx = <span class="hljs-number">0</span>; idx &lt; alienMessage.<span class="hljs-property">length</span>; idx += <span class="hljs-number">3</span>) &#123;<br>    <span class="hljs-keyword">let</span> sp = alienMessage.<span class="hljs-title function_">slice</span>(idx, idx + <span class="hljs-number">3</span>)<br>    <span class="hljs-keyword">if</span> (sp === <span class="hljs-string">&#x27;XXI&#x27;</span>) <span class="hljs-keyword">break</span><br>    <span class="hljs-keyword">if</span>(sp <span class="hljs-keyword">in</span> codonTable)<br>      res += codonTable[sp]<br>    <span class="hljs-keyword">else</span><br>      <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;无效密语&#x27;</span><br>  &#125;<br>  <span class="hljs-keyword">return</span> res<br>&#125;;<br></code></pre></td></tr></table></figure>

<h3 id="6-蓝桥排位赛"><a href="#6-蓝桥排位赛" class="headerlink" title="6 蓝桥排位赛"></a>6 蓝桥排位赛</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(&#123;<br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> chartsData = <span class="hljs-title function_">ref</span>([]);<br>    <span class="hljs-title function_">onMounted</span>(<span class="hljs-keyword">async</span> () =&gt; &#123;<br>      <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span>待补充代码 请求数据，并正确渲染柱形图和地图</span><br>      <span class="hljs-keyword">await</span> <span class="hljs-title function_">axios</span>(<span class="hljs-string">&quot;./mock/map.json&quot;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>        chartsData.<span class="hljs-property">value</span> = res.<span class="hljs-property">data</span>;<br>      &#125;);<br>      <span class="hljs-title function_">showChartBar</span>();<br>      <span class="hljs-title function_">showChinaMap</span>();<br>    &#125;);<br><br>    <span class="hljs-comment">// 展示柱状图</span><br>    <span class="hljs-keyword">const</span> <span class="hljs-title function_">showChartBar</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>      <span class="hljs-keyword">const</span> myChart = echarts.<span class="hljs-title function_">init</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;chart&quot;</span>));<br>      <span class="hljs-comment">// console.log(chartsData.value);</span><br>      <span class="hljs-keyword">let</span> data = chartsData.<span class="hljs-property">value</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">item, index</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">return</span> item.<span class="hljs-property">school_power</span>;<br>      &#125;);<br><br><br>    <span class="hljs-comment">// 展示地图</span><br>    <span class="hljs-keyword">const</span> <span class="hljs-title function_">showChinaMap</span> = (<span class="hljs-params"></span>) =&gt; &#123;<br>      <span class="hljs-keyword">const</span> chinaMap = echarts.<span class="hljs-title function_">init</span>(<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;chinaMap&quot;</span>));<br>      <span class="hljs-keyword">let</span> province=chartsData.<span class="hljs-property">value</span>.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">element</span> =&gt;</span> &#123;<br>        <span class="hljs-keyword">return</span> &#123;<br>          <span class="hljs-attr">name</span>:element.<span class="hljs-property">name</span>, <br>          <span class="hljs-attr">value</span>:element.<span class="hljs-property">school_power</span>.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">a,b</span>)=&gt;</span>a+b.<span class="hljs-property">power</span>, <span class="hljs-number">0</span>), <br>          <span class="hljs-attr">school_count</span>:element.<span class="hljs-property">school_power</span>.<span class="hljs-property">length</span><br>        &#125;<br>      &#125;);<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(province);<br>    &#125;<br></code></pre></td></tr></table></figure>



<h3 id="7-拼出一个未来"><a href="#7-拼出一个未来" class="headerlink" title="7 拼出一个未来"></a>7 拼出一个未来</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 定义拖放事件的处理函数</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">drop</span>(<span class="hljs-params">event</span>) &#123;<br>  <span class="hljs-comment">// 检查是否拖动的拼图块不是当前目标拼图块</span><br>  <span class="hljs-comment">// draggedPiece 被拖动的拼图块元素。this 目标位置的拼图块元素。</span><br>  <span class="hljs-keyword">if</span> (draggedPiece !== <span class="hljs-variable language_">this</span>) &#123;<br>    <span class="hljs-comment">// TODO：待补充代码</span><br>    [<span class="hljs-variable language_">this</span>.<span class="hljs-property">innerHTML</span>, draggedPiece.<span class="hljs-property">innerHTML</span>] = [<br>      draggedPiece.<span class="hljs-property">innerHTML</span>,<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">innerHTML</span>,<br>    ];<br>    <span class="hljs-comment">// console.log([container]);</span><br>    <span class="hljs-keyword">let</span> count = <span class="hljs-number">0</span>;<br>    container.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&quot;img&quot;</span>).<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item, index</span>) =&gt;</span> &#123;<br>        <span class="hljs-comment">// data-id是字符串，所以要用==</span><br>      <span class="hljs-keyword">if</span> (item.<span class="hljs-property">dataset</span>.<span class="hljs-property">id</span> == index + <span class="hljs-number">1</span>) &#123;<br>        count++;<br>        <span class="hljs-keyword">if</span> (count === <span class="hljs-number">9</span>) &#123;<br>          successMessage.<span class="hljs-property">className</span> = <span class="hljs-string">&quot;show&quot;</span>;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>          successMessage.<span class="hljs-property">className</span> = <span class="hljs-string">&quot;hide&quot;</span>;<br>        &#125;<br>      &#125;<br>    &#125;);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(count);<br>  &#125;<br><br>  <span class="hljs-comment">// 重置正在拖动的拼图块</span><br>  draggedPiece = <span class="hljs-literal">null</span>;<br>&#125;<br></code></pre></td></tr></table></figure>

<ul>
<li><code>data-id</code>是字符串，比较要使用<code>==</code>而不是<code>===</code></li>
<li><code>className</code>以字符串形式编辑dom对象的class</li>
</ul>
<h3 id="8-超能英雄联盟"><a href="#8-超能英雄联盟" class="headerlink" title="8 超能英雄联盟"></a>8 超能英雄联盟</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//store.js</span><br><span class="hljs-keyword">const</span> &#123; defineStore &#125; = <span class="hljs-title class_">Pinia</span>;<br><span class="hljs-keyword">const</span> &#123; ref &#125; = <span class="hljs-title class_">Vue</span>;<br><br><span class="hljs-keyword">const</span> useHeroStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">&quot;hero&quot;</span>, &#123;<br>  <span class="hljs-attr">state</span>: <span class="hljs-function">() =&gt;</span> (&#123;<br>    <span class="hljs-attr">heroes</span>: [], <span class="hljs-comment">//英雄列表</span><br>    <span class="hljs-attr">team</span>: [], <span class="hljs-comment">// 队伍列表</span><br>  &#125;),<br>  <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span>补全代码，实现目标效果</span><br>  <span class="hljs-attr">getters</span>: &#123;<br>    <span class="hljs-title function_">strengthTotal</span>(<span class="hljs-params">state</span>)&#123;<br>      <span class="hljs-keyword">return</span> state.<span class="hljs-property">team</span>.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">a,b</span>)=&gt;</span>a+b.<span class="hljs-property">strength</span>,<span class="hljs-number">0</span>)<br>    &#125;<br>  &#125;,<br>  <span class="hljs-attr">actions</span>: &#123;<br>    <span class="hljs-title function_">teamAdd</span>(<span class="hljs-params">item</span>)&#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">team</span>.<span class="hljs-title function_">push</span>(item)<br>    &#125;,<br>    <span class="hljs-title function_">teamRemove</span>(<span class="hljs-params">item</span>)&#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">team</span>.<span class="hljs-title function_">splice</span>( <span class="hljs-variable language_">this</span>.<span class="hljs-property">team</span>.<span class="hljs-title function_">indexOf</span>(item), <span class="hljs-number">1</span>)<br>    &#125;,<br>    <span class="hljs-title function_">sortStrength</span>(<span class="hljs-params"></span>)&#123;<br>      <span class="hljs-variable language_">this</span>.<span class="hljs-property">team</span>.<span class="hljs-title function_">sort</span>(<span class="hljs-function">(<span class="hljs-params">a,b</span>)=&gt;</span>b.<span class="hljs-property">strength</span>-a.<span class="hljs-property">strength</span>)<br>    &#125;<br>  &#125;,<br>  <span class="hljs-comment">// TODOEnd</span><br>&#125;);<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span>补全代码，实现目标效果</span><br><span class="hljs-keyword">const</span> &#123; onMounted &#125; = <span class="hljs-title class_">Vue</span>;<br><span class="hljs-keyword">const</span> <span class="hljs-title class_">HeroList</span> = &#123;<br>  <span class="hljs-attr">template</span>: <span class="hljs-string">`</span><br><span class="hljs-string">  &lt;div class=&quot;hero-list&quot;&gt;</span><br><span class="hljs-string">    &lt;h2&gt;可选英雄&lt;/h2&gt;</span><br><span class="hljs-string">    &lt;ul&gt;</span><br><span class="hljs-string">    </span><br><span class="hljs-string">      &lt;li class=&quot;hero-item&quot; v-for=&#x27;element in list&#x27;&gt;</span><br><span class="hljs-string">        &lt;span&gt;&#123;&#123;element.name&#125;&#125;&lt;/span&gt;</span><br><span class="hljs-string">        &lt;span&gt;&#123;&#123;element.ability&#125;&#125;&lt;/span&gt;</span><br><span class="hljs-string">        &lt;span&gt;&#123;&#123;element.strength&#125;&#125;&lt;/span&gt;</span><br><span class="hljs-string">        &lt;button @click=&quot;add(element)&quot; :disabled=&quot;heroStore.team.includes(element)&quot;&gt;</span><br><span class="hljs-string">          &#123;&#123;heroStore.team.includes(element)? &quot;已添加&quot;:&quot;添加至队伍&quot;&#125;&#125;</span><br><span class="hljs-string">        &lt;/button&gt;</span><br><span class="hljs-string">      &lt;/li&gt;</span><br><span class="hljs-string">    &lt;/ul&gt;</span><br><span class="hljs-string">  &lt;/div&gt;</span><br><span class="hljs-string">  `</span>,<br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">let</span> heroStore = <span class="hljs-title function_">useHeroStore</span>();<br>    <span class="hljs-keyword">let</span> list = <span class="hljs-title function_">ref</span>([]);<br>    <span class="hljs-comment">// let btn=ref()</span><br>    <span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-title function_">axios</span>(<span class="hljs-string">&quot;./js/heroes.json&quot;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>        heroStore.<span class="hljs-property">heroes</span> = res.<span class="hljs-property">data</span>;<br>        <span class="hljs-comment">// 考虑到v-for，需要另开一个list</span><br>        list.<span class="hljs-property">value</span>=res.<span class="hljs-property">data</span><br>      &#125;);<br>    &#125;);<br><br>    <span class="hljs-keyword">const</span> <span class="hljs-title function_">add</span>=(<span class="hljs-params">item</span>)=&gt;&#123;<br>      heroStore.<span class="hljs-title function_">teamAdd</span>(item)<br>      <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(heroStore.<span class="hljs-property">team</span>);<br>    &#125;<br>    <span class="hljs-keyword">return</span> &#123;<br>      list,add,heroStore<br>    &#125;;<br>  &#125;,<br>&#125;;<br><span class="hljs-comment">// TODOEnd</span><br><br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// <span class="hljs-doctag">TODO:</span>补全代码，实现目标效果</span><br><span class="hljs-keyword">const</span> <span class="hljs-title class_">TeamList</span> = &#123;<br>  <span class="hljs-attr">template</span>: <span class="hljs-string">`</span><br><span class="hljs-string">  &lt;div class=&quot;team-list&quot;&gt;</span><br><span class="hljs-string">      &lt;h2&gt;我的队伍&lt;/h2&gt;</span><br><span class="hljs-string">      &lt;ul&gt;</span><br><span class="hljs-string">        &lt;li class=&quot;team-item&quot; v-for=&quot;element in heroStore.team&quot;&gt;</span><br><span class="hljs-string">        &lt;span&gt;&#123;&#123;element.name&#125;&#125;&lt;/span&gt;</span><br><span class="hljs-string">        &lt;span&gt;&#123;&#123;element.strength&#125;&#125;&lt;/span&gt;</span><br><span class="hljs-string">        &lt;button @click=heroStore.teamRemove(element)&gt;移除&lt;/button&gt;</span><br><span class="hljs-string">        &lt;/li&gt;</span><br><span class="hljs-string">      &lt;/ul&gt;</span><br><span class="hljs-string">      &lt;button class=&quot;sort-button&quot; @click=heroStore.sortStrength&gt;按实力排序&lt;/button&gt;</span><br><span class="hljs-string">      &lt;p class=&quot;total-strength&quot;&gt;当前队伍战斗力：&#123;&#123;heroStore.strengthTotal&#125;&#125; &lt;/p&gt;</span><br><span class="hljs-string">  &lt;/div&gt;</span><br><span class="hljs-string">  `</span>,<br>  <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">const</span> heroStore = <span class="hljs-title function_">useHeroStore</span>();<br>    <span class="hljs-keyword">return</span>&#123;<br>      heroStore<br>    &#125;<br>  &#125;,<br>&#125;;<br><span class="hljs-comment">// TODOEnd</span><br><br></code></pre></td></tr></table></figure>





<p>+ </p>
<ul>
<li><code>setup</code>可以是<code>async</code></li>
</ul>
<h3 id="9-实时展示权限日志"><a href="#9-实时展示权限日志" class="headerlink" title="9 实时展示权限日志"></a>9 实时展示权限日志</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">if</span> (req.<span class="hljs-property">method</span> === <span class="hljs-string">&quot;GET&quot;</span> &amp;&amp; req.<span class="hljs-property">url</span> === <span class="hljs-string">&quot;/users&quot;</span>) &#123;<br>    <span class="hljs-comment">// TODO 处理获取文件内容的操作</span><br>    <span class="hljs-keyword">let</span> fileContent = <span class="hljs-string">&quot;&quot;</span>;<br>    <span class="hljs-comment">// console.log(222);</span><br>    <span class="hljs-keyword">try</span> &#123;<br>        fileContent = fs.<span class="hljs-title function_">readFileSync</span>(<span class="hljs-string">&quot;data.json&quot;</span>, <span class="hljs-string">&quot;utf-8&quot;</span>);<br>        <span class="hljs-title function_">send</span>(res, <span class="hljs-number">0</span>, <span class="hljs-string">&quot;&quot;</span>, <span class="hljs-built_in">eval</span>(fileContent));<br>    &#125; <span class="hljs-keyword">catch</span> (error) &#123;<br>        <span class="hljs-title function_">send</span>(res, <span class="hljs-number">404</span>, error.<span class="hljs-property">msg</span>, <span class="hljs-string">&quot;&quot;</span>);<br>    &#125;<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (req.<span class="hljs-property">method</span> === <span class="hljs-string">&quot;PUT&quot;</span> &amp;&amp; req.<span class="hljs-property">url</span> === <span class="hljs-string">&quot;/editUser&quot;</span>) &#123;<br>    <span class="hljs-keyword">let</span> body = <span class="hljs-string">&quot;&quot;</span>;<br>    req.<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;readable&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-keyword">let</span> chunk = <span class="hljs-string">&quot;&quot;</span>;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> !== (chunk = req.<span class="hljs-title function_">read</span>())) &#123;<br>            body += chunk;<br>        &#125;<br>    &#125;);<br>    req.<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;end&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-keyword">if</span> (body) &#123;<br>            <span class="hljs-comment">// TODO 处理更改文件数据并将最新的文件数据响应给客户端</span><br>            <span class="hljs-comment">// console.log(body);</span><br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">readFileSync</span>(<span class="hljs-string">&quot;data.json&quot;</span>, <span class="hljs-string">&quot;utf-8&quot;</span>);<br>                file = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(file);<br>                body = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(body);<br>                <span class="hljs-comment">// console.log(body.params.id);</span><br>                <span class="hljs-comment">// let idx=file.indexOf(item=&gt;item.id===body.params.id)</span><br>                file.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">element</span>) =&gt;</span> &#123;<br>                    <span class="hljs-keyword">if</span> (element.<span class="hljs-property">id</span> === body.<span class="hljs-property">params</span>.<span class="hljs-property">id</span>) &#123;<br>                        element.<span class="hljs-property">power</span> = !element.<span class="hljs-property">power</span>;<br>                        <span class="hljs-comment">//   console.log(element);</span><br>                    &#125;<br>                &#125;);<br>                <span class="hljs-comment">// console.log(file);</span><br>                fs.<span class="hljs-title function_">writeFileSync</span>(<span class="hljs-string">&quot;data.json&quot;</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(file));<br>                <span class="hljs-title function_">send</span>(res, <span class="hljs-number">0</span>, <span class="hljs-string">&quot;&quot;</span>, file);<br>            &#125; <span class="hljs-keyword">catch</span> (error) &#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;error&quot;</span>);<br>                <span class="hljs-title function_">send</span>(res, <span class="hljs-number">404</span>, <span class="hljs-string">&quot;&quot;</span>);<br>            &#125;<br>        &#125;<br>    &#125;);<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (req.<span class="hljs-property">method</span> === <span class="hljs-string">&quot;POST&quot;</span> &amp;&amp; req.<span class="hljs-property">url</span> === <span class="hljs-string">&quot;/logger&quot;</span>) &#123;<br>    <span class="hljs-keyword">let</span> body = <span class="hljs-string">&quot;&quot;</span>;<br>    req.<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;readable&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-keyword">let</span> chunk = <span class="hljs-string">&quot;&quot;</span>;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-literal">null</span> !== (chunk = req.<span class="hljs-title function_">read</span>())) &#123;<br>            body += chunk;<br>        &#125;<br>    &#125;);<br>    req.<span class="hljs-title function_">on</span>(<span class="hljs-string">&quot;end&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>        <span class="hljs-keyword">if</span> (body) &#123;<br>            <span class="hljs-comment">// TODO 处理新增日志</span><br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(body);<br>            <span class="hljs-keyword">try</span> &#123;<br>                <span class="hljs-keyword">let</span> log = &#123;<br>                    <span class="hljs-attr">id</span>: <span class="hljs-title function_">getLoggerId</span>(),<br>                    <span class="hljs-attr">msg</span>: <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(body).<span class="hljs-property">data</span>,<br>                    <span class="hljs-attr">time</span>: <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">getTime</span>().<span class="hljs-title function_">toString</span>(),<br>                &#125;;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(log);<br>                fs.<span class="hljs-title function_">appendFile</span>(<span class="hljs-string">&quot;logger.json&quot;</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(log) + <span class="hljs-string">&quot;\n&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>                    <span class="hljs-title function_">send</span>(res, <span class="hljs-number">0</span>, <span class="hljs-string">&quot;&quot;</span>, log);<br>                &#125;);<br><br>            &#125; <span class="hljs-keyword">catch</span> (error) &#123;<br>                <span class="hljs-title function_">send</span>(res, <span class="hljs-number">404</span>, <span class="hljs-string">&quot;&quot;</span>);<br>            &#125;<br>        &#125;<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-title function_">axios</span>(<span class="hljs-string">&quot;./users&quot;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;<br>        data.<span class="hljs-property">userList</span> = res.<span class="hljs-property">data</span>.<span class="hljs-property">data</span>;<br>    &#125;);<br>&#125;);<br><span class="hljs-keyword">const</span> <span class="hljs-title function_">getPowerText</span> = (<span class="hljs-params">power</span>) =&gt; &#123;<br>    <span class="hljs-keyword">return</span> power ? <span class="hljs-string">&quot;可以登录&quot;</span> : <span class="hljs-string">&quot;禁止登录&quot;</span>;<br>&#125;;<br><span class="hljs-keyword">const</span> <span class="hljs-title function_">handleChange</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params">e</span>) =&gt; &#123;<br>    <span class="hljs-keyword">if</span> (e.<span class="hljs-property">target</span>.<span class="hljs-property">tagName</span> !== <span class="hljs-string">&quot;INPUT&quot;</span>) &#123;<br>        <span class="hljs-keyword">return</span>;<br>    &#125;<br><br>    <span class="hljs-keyword">let</span> person = data.<span class="hljs-property">userList</span>.<span class="hljs-title function_">find</span>(<br>        <span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> e.<span class="hljs-property">target</span>.<span class="hljs-property">dataset</span>.<span class="hljs-property">id</span> === item.<span class="hljs-property">id</span><br>    );<br>    <span class="hljs-comment">// console.log(person);</span><br>    <span class="hljs-comment">// TODO 处理发送请求修改当前用户的权限并更新一条日志记录</span><br>    <span class="hljs-keyword">let</span> res = <span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">put</span>(<span class="hljs-string">&quot;/editUser&quot;</span>, &#123;<br>        <span class="hljs-attr">data</span>: &#123; <span class="hljs-attr">power</span>: person.<span class="hljs-property">power</span> &#125;,<br>        <span class="hljs-attr">params</span>: &#123; <span class="hljs-attr">id</span>: person.<span class="hljs-property">id</span> &#125;,<br>    &#125;);<br>    res = <span class="hljs-title function_">parseRes</span>(res);<br><br>    <span class="hljs-comment">// data.userList.forEach((element) =&gt; &#123;</span><br>    <span class="hljs-comment">//     let item = res.data.find((item) =&gt; item.id === element.id);</span><br>    <span class="hljs-comment">//     element = Object.assign(item);</span><br>    <span class="hljs-comment">//     // console.log(item.power === element.power);</span><br>    <span class="hljs-comment">// &#125;);</span><br>    data.<span class="hljs-property">userList</span> = res.<span class="hljs-property">data</span>;<br><br>    <span class="hljs-keyword">let</span> res2 = <span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">post</span>(<span class="hljs-string">&quot;/logger&quot;</span>, &#123;<br>        <span class="hljs-attr">data</span>: <span class="hljs-string">`超级管理员将用户<span class="hljs-subst">$&#123;person.name&#125;</span>设置为<span class="hljs-subst">$&#123;getPowerText(</span></span><br><span class="hljs-subst"><span class="hljs-string">            !person.power</span></span><br><span class="hljs-subst"><span class="hljs-string">        )&#125;</span>权限`</span>,<br>    &#125;);<br><br>    res2 = <span class="hljs-title function_">parseRes</span>(res2);<br>    <span class="hljs-keyword">let</span> time = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>(<span class="hljs-built_in">parseInt</span>(res2.<span class="hljs-property">data</span>.<span class="hljs-property">time</span>))<br>    <span class="hljs-keyword">let</span> timeStr = <span class="hljs-string">`<span class="hljs-subst">$&#123;time.getFullYear()&#125;</span>/<span class="hljs-subst">$&#123;time.getMonth()+<span class="hljs-number">1</span>&#125;</span>/<span class="hljs-subst">$&#123;time.getDay()&#125;</span>  <span class="hljs-subst">$&#123;time.getHours() &lt;= <span class="hljs-number">12</span> ? <span class="hljs-string">&#x27;上午&#x27;</span> : <span class="hljs-string">&#x27;下午&#x27;</span>&#125;</span>`</span><br>    timeStr += <span class="hljs-string">`<span class="hljs-subst">$&#123;time.getHours()&#125;</span>:<span class="hljs-subst">$&#123;time.getMinutes()&#125;</span>:<span class="hljs-subst">$&#123;time.getSeconds()&#125;</span>`</span><br>    res2.<span class="hljs-property">data</span>.<span class="hljs-property">time</span> = timeStr<br>    data.<span class="hljs-property">loggerList</span>.<span class="hljs-title function_">unshift</span>(res2.<span class="hljs-property">data</span>)<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res2);<br></code></pre></td></tr></table></figure>

<ul>
<li><p>axios携带参数：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs js">axios.<span class="hljs-title function_">put</span>(<span class="hljs-string">&quot;/editUser&quot;</span>, &#123;<br>        <span class="hljs-attr">data</span>: &#123; <span class="hljs-attr">power</span>: person.<span class="hljs-property">power</span> &#125;,<br>        <span class="hljs-attr">params</span>: &#123; <span class="hljs-attr">id</span>: person.<span class="hljs-property">id</span> &#125;,<br>&#125;);<br></code></pre></td></tr></table></figure>
</li>
<li><p><code>node.js</code>读文件：</p>
<ul>
<li><p>同步：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">readFileSync</span>(<span class="hljs-string">&quot;data.json&quot;</span>, <span class="hljs-string">&quot;utf-8&quot;</span>);<br>file = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(file);<br></code></pre></td></tr></table></figure>
</li>
<li><p>异步：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> file = fs.<span class="hljs-title function_">readFile</span>(<span class="hljs-string">&quot;data.json&quot;</span>, <span class="hljs-string">&quot;utf-8&quot;</span>, <span class="hljs-function">()=&gt;</span>&#123;<br>	file = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(file);<br>&#125;);<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>写文件：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js">fs.<span class="hljs-title function_">writeFileSync</span>(<span class="hljs-string">&quot;data.json&quot;</span>, <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(file));<br></code></pre></td></tr></table></figure></li>
</ul>
<h3 id="10-账户验证"><a href="#10-账户验证" class="headerlink" title="10 账户验证"></a>10 账户验证</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">import</span> &#123; createPinia, defineStore, storeToRefs &#125; <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;pinia&quot;</span>;</span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> &#123; createApp, reactive, toRefs, ref, computed, onMounted &#125; = <span class="hljs-title class_">Vue</span>;</span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> &#123; <span class="hljs-title class_">ElNotification</span> &#125; = <span class="hljs-title class_">ElementPlus</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> newStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">&quot;store&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> showName = <span class="hljs-title function_">ref</span>(<span class="hljs-string">&quot;phone&quot;</span>);</span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> phoneNumber = <span class="hljs-title function_">ref</span>(<span class="hljs-number">18839764702</span>);</span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> checkNumber = <span class="hljs-title function_">ref</span>(<span class="hljs-number">0</span>);</span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> <span class="hljs-title function_">generateCheck</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span><br><span class="language-javascript">            checkNumber.<span class="hljs-property">value</span> = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">1e6</span>);</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> <span class="hljs-title function_">changeShow</span> = (<span class="hljs-params">target</span>) =&gt; &#123;</span><br><span class="language-javascript">            showName.<span class="hljs-property">value</span> = target;</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript">        <span class="hljs-keyword">return</span> &#123;showName,changeShow,phoneNumber,generateCheck,checkNumber,</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript">    &#125;);</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> app = <span class="hljs-title function_">createApp</span>(&#123;</span><br><span class="language-javascript">        <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> &#123; showName &#125; = <span class="hljs-title function_">storeToRefs</span>(<span class="hljs-title function_">newStore</span>());</span><br><span class="language-javascript">            <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span>补全代码实现目标需求</span></span><br><span class="language-javascript"></span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">                showName,</span><br><span class="language-javascript">            &#125;;</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">    &#125;);</span><br><span class="language-javascript">    app.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">ElementPlus</span>);</span><br><span class="language-javascript">    app.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">createPinia</span>());</span><br><span class="language-javascript"></span><br><span class="language-javascript">    app.<span class="hljs-title function_">component</span>(<span class="hljs-string">&quot;phone&quot;</span>, &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">template</span>: <span class="hljs-string">&quot;#phone&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span>补全代码实现目标需求</span></span><br><span class="language-javascript">            <span class="hljs-keyword">const</span> store = <span class="hljs-title function_">newStore</span>();</span><br><span class="language-javascript">            <span class="hljs-keyword">const</span> &#123; phoneNumber &#125; = <span class="hljs-title function_">storeToRefs</span>(store);</span><br><span class="language-javascript">            <span class="hljs-keyword">const</span> checkValue = <span class="hljs-title function_">ref</span>(<span class="hljs-literal">true</span>);</span><br><span class="language-javascript">            <span class="hljs-keyword">const</span> <span class="hljs-title function_">check</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">let</span> phoneReg = <span class="hljs-regexp">/^18[0-9]&#123;9&#125;$/</span>;</span><br><span class="language-javascript">                <span class="hljs-keyword">let</span> phonePass = phoneReg.<span class="hljs-title function_">test</span>(phoneNumber.<span class="hljs-property">value</span>);</span><br><span class="language-javascript"></span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> (phonePass &amp;&amp; checkValue.<span class="hljs-property">value</span>) &#123;</span><br><span class="language-javascript">                    store.<span class="hljs-title function_">generateCheck</span>();</span><br><span class="language-javascript">                    <span class="hljs-keyword">let</span> &#123; checkNumber &#125; = <span class="hljs-title function_">storeToRefs</span>(store);</span><br><span class="language-javascript">                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(checkNumber.<span class="hljs-property">value</span>);</span><br><span class="language-javascript">                    <span class="hljs-title class_">ElNotification</span>(&#123;<span class="hljs-attr">title</span>: <span class="hljs-string">&quot;发送成功&quot;</span>,<span class="hljs-attr">message</span>: <span class="hljs-string">`您的验证码为<span class="hljs-subst">$&#123;checkNumber.value&#125;</span>`</span>,<span class="hljs-attr">type</span>: <span class="hljs-string">&quot;success&quot;</span>,</span><br><span class="language-javascript">                    &#125;);</span><br><span class="language-javascript">                    store.<span class="hljs-title function_">changeShow</span>(<span class="hljs-string">&quot;check&quot;</span>);</span><br><span class="language-javascript">                &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (checkValue.<span class="hljs-property">value</span>) &#123;</span><br><span class="language-javascript">                    <span class="hljs-title class_">ElNotification</span>(&#123;<span class="hljs-attr">title</span>: <span class="hljs-string">&quot;发送失败&quot;</span>,<span class="hljs-attr">message</span>: <span class="hljs-string">`无效的手机号码`</span>,<span class="hljs-attr">type</span>: <span class="hljs-string">&quot;error&quot;</span>,</span><br><span class="language-javascript">                    &#125;);</span><br><span class="language-javascript">                &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                    <span class="hljs-title class_">ElNotification</span>(&#123;<span class="hljs-attr">title</span>: <span class="hljs-string">&quot;发送失败&quot;</span>,<span class="hljs-attr">message</span>: <span class="hljs-string">`请先阅读并同意下方协议`</span>,<span class="hljs-attr">type</span>: <span class="hljs-string">&quot;error&quot;</span>,</span><br><span class="language-javascript">                    &#125;);</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">            &#125;;</span><br><span class="language-javascript"></span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> &#123; check, phoneNumber, checkValue &#125;;</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">    &#125;);</span><br><span class="language-javascript">    app.<span class="hljs-title function_">component</span>(<span class="hljs-string">&quot;check&quot;</span>, &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">template</span>: <span class="hljs-string">&quot;#check&quot;</span>,</span><br><span class="language-javascript">        <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">            <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span>补全代码实现目标需求</span></span><br><span class="language-javascript">            <span class="hljs-keyword">const</span> store = <span class="hljs-title function_">newStore</span>();</span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> &#123; phoneNumber, checkNumber &#125; = <span class="hljs-title function_">storeToRefs</span>(store);</span><br><span class="language-javascript">            <span class="hljs-keyword">let</span> hidedNumber = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">                <span class="hljs-comment">// let tmp = phoneNumber.value.toString().split(&#x27;&#x27;);</span></span><br><span class="language-javascript">                <span class="hljs-comment">// tmp.splice(3, 6, &quot;*&quot;, &quot;*&quot;,&quot;*&quot;,&quot;*&quot;, &quot;*&quot;, &quot;*&quot;);</span></span><br><span class="language-javascript">                <span class="hljs-comment">// return tmp.join(&#x27;&#x27;);</span></span><br><span class="language-javascript">                <span class="hljs-keyword">return</span> phoneNumber.<span class="hljs-property">value</span></span><br><span class="language-javascript">                    .<span class="hljs-title function_">toString</span>()</span><br><span class="language-javascript">                    .<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^(\d&#123;3&#125;)\d&#123;6&#125;(\d&#123;2&#125;)$/</span>, <span class="hljs-string">&quot;$1******$2&quot;</span>);</span><br><span class="language-javascript">            &#125;);</span><br><span class="language-javascript">            <span class="hljs-title function_">onMounted</span>(<span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">let</span> inputs = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelectorAll</span>(<span class="hljs-string">&quot;.code&quot;</span>);</span><br><span class="language-javascript">                inputs[<span class="hljs-number">0</span>].<span class="hljs-title function_">focus</span>();</span><br><span class="language-javascript">                inputs.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">                    item.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;input&quot;</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">                        <span class="hljs-keyword">if</span> (item.<span class="hljs-property">value</span>.<span class="hljs-property">length</span> &amp;&amp; item.<span class="hljs-property">nextElementSibling</span>) &#123;</span><br><span class="language-javascript">                            item.<span class="hljs-property">nextElementSibling</span>.<span class="hljs-title function_">focus</span>();</span><br><span class="language-javascript">                        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (</span><br><span class="language-javascript">                            item.<span class="hljs-property">value</span>.<span class="hljs-property">length</span> === <span class="hljs-number">0</span> &amp;&amp;</span><br><span class="language-javascript">                            item.<span class="hljs-property">previousElementSibling</span></span><br><span class="language-javascript">                        ) &#123;</span><br><span class="language-javascript">                            item.<span class="hljs-property">previousElementSibling</span>.<span class="hljs-title function_">focus</span>();</span><br><span class="language-javascript">                        &#125;</span><br><span class="language-javascript">                        <span class="hljs-keyword">let</span> inputsArray = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(inputs);</span><br><span class="language-javascript">                        <span class="hljs-keyword">if</span> (inputsArray.<span class="hljs-title function_">every</span>(<span class="hljs-function">(<span class="hljs-params">elem</span>) =&gt;</span> elem.<span class="hljs-property">value</span>.<span class="hljs-property">length</span> === <span class="hljs-number">1</span>)) &#123;</span><br><span class="language-javascript">                            <span class="hljs-keyword">let</span> ans = inputsArray.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">elem</span>) =&gt;</span> elem.<span class="hljs-property">value</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot;&quot;</span>);</span><br><span class="language-javascript">                            ans = <span class="hljs-built_in">parseInt</span>(ans);</span><br><span class="language-javascript">                            <span class="hljs-keyword">if</span> (ans === checkNumber.<span class="hljs-property">value</span>) &#123;</span><br><span class="language-javascript">                                <span class="hljs-title class_">ElNotification</span>(&#123;</span><br><span class="language-javascript">                                    <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;验证成功&quot;</span>,</span><br><span class="language-javascript">                                    <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;欢迎回来&quot;</span>,</span><br><span class="language-javascript">                                    <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;success&quot;</span>,</span><br><span class="language-javascript">                                &#125;);</span><br><span class="language-javascript">                                store.<span class="hljs-title function_">changeShow</span>(<span class="hljs-string">&quot;success&quot;</span>);</span><br><span class="language-javascript">                            &#125; <span class="hljs-keyword">else</span> &#123;</span><br><span class="language-javascript">                                <span class="hljs-title class_">ElNotification</span>(&#123;</span><br><span class="language-javascript">                                    <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;验证失败&quot;</span>,</span><br><span class="language-javascript">                                    <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;您输入的验证码有误&quot;</span>,</span><br><span class="language-javascript">                                    <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;error&quot;</span>,</span><br><span class="language-javascript">                                &#125;);</span><br><span class="language-javascript">                                <span class="hljs-comment">// inputs.forEach(elem=&gt;console.log(elem.value))</span></span><br><span class="language-javascript">                                inputs.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">elem</span>) =&gt;</span> (elem.<span class="hljs-property">value</span> = <span class="hljs-string">&quot;&quot;</span>));</span><br><span class="language-javascript">                                inputs[<span class="hljs-number">0</span>].<span class="hljs-title function_">focus</span>();</span><br><span class="language-javascript">                            &#125;</span><br><span class="language-javascript">                            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ans);</span><br><span class="language-javascript">                        &#125;</span><br><span class="language-javascript">                    &#125;);</span><br><span class="language-javascript">                &#125;);</span><br><span class="language-javascript">            &#125;);</span><br><span class="language-javascript">            <span class="hljs-keyword">const</span> <span class="hljs-title function_">reSend</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span><br><span class="language-javascript">                store.<span class="hljs-title function_">generateCheck</span>();</span><br><span class="language-javascript">                <span class="hljs-title class_">ElNotification</span>(&#123;</span><br><span class="language-javascript">                    <span class="hljs-attr">title</span>: <span class="hljs-string">&quot;发送成功&quot;</span>,</span><br><span class="language-javascript">                    <span class="hljs-attr">message</span>: <span class="hljs-string">`您的验证码为<span class="hljs-subst">$&#123;checkNumber.value&#125;</span>`</span>,</span><br><span class="language-javascript">                    <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;success&quot;</span>,</span><br><span class="language-javascript">                &#125;);</span><br><span class="language-javascript">            &#125;;</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span> &#123; phoneNumber, hidedNumber, reSend &#125;;</span><br><span class="language-javascript">        &#125;,</span><br><span class="language-javascript">    &#125;);</span><br><span class="language-javascript">    app.<span class="hljs-title function_">component</span>(<span class="hljs-string">&quot;success&quot;</span>, &#123;</span><br><span class="language-javascript">        <span class="hljs-attr">template</span>: <span class="hljs-string">&quot;#success&quot;</span>,</span><br><span class="language-javascript">    &#125;);</span><br><span class="language-javascript">    app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>);</span><br><span class="language-javascript"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br></code></pre></td></tr></table></figure>











<ul>
<li><p><code>sotre</code>创建：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> newStore = <span class="hljs-title function_">defineStore</span>(<span class="hljs-string">&quot;store&quot;</span>, <span class="hljs-function">() =&gt;</span> &#123;<br>    <span class="hljs-keyword">const</span> showName = <span class="hljs-title function_">ref</span>(<span class="hljs-string">&quot;phone&quot;</span>);<br>    <span class="hljs-keyword">const</span> <span class="hljs-title function_">changeShow</span> = (<span class="hljs-params">target</span>) =&gt; &#123;<br>        showName.<span class="hljs-property">value</span> = target;<br>    &#125;;<br>    <span class="hljs-keyword">return</span> &#123;<br>        showName,<br>        changeShow,<br>    &#125;;<br>&#125;);<br></code></pre></td></tr></table></figure>
</li>
<li><p>使用：</p>
<ul>
<li><p>state要使用<code>storeToRefs</code>才能不丢失响应式</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> &#123; showName &#125; = <span class="hljs-title function_">storeToRefs</span>(<span class="hljs-title function_">newStore</span>());<br></code></pre></td></tr></table></figure>
</li>
<li><p><code>action</code>不必使用<code>storeToRefs</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> store = <span class="hljs-title function_">newStore</span>();<br>store.<span class="hljs-title function_">changeShow</span>(<span class="hljs-string">&quot;check&quot;</span>);<br></code></pre></td></tr></table></figure></li>
</ul>
</li>
<li><p>分清数组/字符串方法<strong>会不会修改原值</strong>、<strong>返回什么值</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 把tmp拆散为数组，这样不会修改原值</span><br><span class="hljs-keyword">let</span> tmp = phoneNumber.<span class="hljs-property">value</span>.<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;&#x27;</span>);<br><span class="hljs-comment">// 由于splice修改了原数组，返回了删除部分，所以不能把join直接加载后面</span><br>tmp.<span class="hljs-title function_">splice</span>(<span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-string">&quot;*&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>, <span class="hljs-string">&quot;*&quot;</span>);<br><span class="hljs-keyword">return</span> tmp.<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;&#x27;</span>);<br><span class="hljs-comment">// 或者</span><br><span class="hljs-keyword">return</span> phoneNumber.<span class="hljs-property">value</span>.<span class="hljs-title function_">toString</span>().<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^(\d&#123;3&#125;)\d&#123;4&#125;(\d&#123;4&#125;)$/</span>, <span class="hljs-string">&#x27;$1****$2&#x27;</span>)<br></code></pre></td></tr></table></figure>
</li>
<li><p><code>querySelectorAll</code>返回的并不是<code>Array</code>，而是<code>NodeList</code>，需要使用<code>Array.from()</code>转换成数组才能使用<code>map</code> <code>every</code>等方法</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">let</span> inputsArray=<span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(inputs)<br><span class="hljs-keyword">if</span> (inputsArray.<span class="hljs-title function_">every</span>(<span class="hljs-function"><span class="hljs-params">elem</span>=&gt;</span> elem.<span class="hljs-property">value</span>.<span class="hljs-property">length</span>===<span class="hljs-number">1</span>))<br></code></pre></td></tr></table></figure>
</li>
<li><p><code>input</code>事件：<code>input</code></p>
<p>方法：<code>focus</code></p>
</li>
</ul>
<h2 id="模拟赛3-1"><a href="#模拟赛3-1" class="headerlink" title="模拟赛3"></a>模拟赛3</h2><h3 id="1-创意广告牌"><a href="#1-创意广告牌" class="headerlink" title="1. 创意广告牌"></a>1. 创意广告牌</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs css"><span class="hljs-selector-class">.billboard</span> &#123;<br>  <span class="hljs-attribute">position</span>: relative;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#8e6534</span>;<br>  <span class="hljs-attribute">color</span>: <span class="hljs-number">#fff</span>;<br>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">20px</span>;<br>  <span class="hljs-attribute">box-shadow</span>: <span class="hljs-number">0px</span> <span class="hljs-number">5px</span> <span class="hljs-number">15px</span> <span class="hljs-built_in">rgba</span>(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0.3</span>);<br>  <span class="hljs-attribute">background-size</span>: cover;<br>  <span class="hljs-comment">/* TODO：待补充代码  设置圆角 10px，背景图片为woodiness.jpg  */</span><br> <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">10px</span>;<br> <span class="hljs-attribute">background-image</span>: <span class="hljs-built_in">url</span>(<span class="hljs-string">&#x27;../images/woodiness.jpg&#x27;</span>);<br>&#125;<br><span class="hljs-selector-class">.top-sign</span> &#123;<br>  <span class="hljs-attribute">position</span>: relative;<br>  <span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;<br>  <span class="hljs-attribute">height</span>: <span class="hljs-number">100px</span>;<br>  <span class="hljs-attribute">background-color</span>: <span class="hljs-number">#a87f4a</span>;<br>  <span class="hljs-attribute">display</span>: flex;<br>  <span class="hljs-attribute">justify-content</span>: center;<br>  <span class="hljs-attribute">align-items</span>: center;<br>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">1rem</span>;<br>  <span class="hljs-comment">/* TODO：待补充代码   上面两个角是圆角 15px，下面两个角是直角  元素 x 轴倾斜 20度*/</span><br> <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">15px</span> <span class="hljs-number">15px</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span> ;<br> <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">skewX</span>(-<span class="hljs-number">20deg</span>); <br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="2-原子化CSS"><a href="#2-原子化CSS" class="headerlink" title="2.原子化CSS"></a>2.原子化CSS</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs css">&lt;<span class="hljs-selector-tag">div</span> <span class="hljs-attribute">flex</span>=&quot;~ col&quot;&gt;<br>    &lt;<span class="hljs-selector-tag">div</span> red&gt;&lt;/<span class="hljs-selector-tag">div</span>&gt;<br>    &lt;<span class="hljs-selector-tag">div</span> yellow&gt;&lt;/<span class="hljs-selector-tag">div</span>&gt;<br>    &lt;<span class="hljs-selector-tag">div</span> blue&gt;&lt;/<span class="hljs-selector-tag">div</span>&gt;<br>&lt;/<span class="hljs-selector-tag">div</span>&gt;<br><br><span class="hljs-selector-tag">div</span><span class="hljs-selector-attr">[flex=<span class="hljs-string">&quot;~ col&quot;</span>]</span>&#123;<br>  <span class="hljs-attribute">display</span>: flex;<br>  <span class="hljs-attribute">flex-direction</span>: column;<br>&#125;<br><br></code></pre></td></tr></table></figure>

<p> <code>flex=&quot;~ col&quot;</code> ，其中 <code>~</code> 代表 <code>flex</code> 本身，表示使用 <code>flex</code> 布局，而 <code>col</code> 代表让 <code>flex</code> 纵向布局</p>
<h3 id="3-神秘咒语"><a href="#3-神秘咒语" class="headerlink" title="3.神秘咒语"></a>3.神秘咒语</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs js"><br>key1Button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">async</span> () =&gt; &#123;<br>    <span class="hljs-comment">// 从后台请求钥匙1的咒语部分</span><br>    key1Button.<span class="hljs-property">disabled</span> = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">let</span> &#123;data&#125; =  <span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/spellone&#x27;</span>,&#123;<br>        <span class="hljs-string">&#x27;headers&#x27;</span>:&#123;<br>            <span class="hljs-title class_">Authorization</span>:<span class="hljs-string">&#x27;2b58f9a8-7d73-4a9c-b8a2-9f05d6e8e3c7&#x27;</span><br>        &#125;<br>    &#125;)<br>    spell1.<span class="hljs-property">innerHTML</span> = data;<br>    <span class="hljs-title function_">tryOpenTreasureBox</span>();<br>&#125;);<br><br>key2Button.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-keyword">async</span> () =&gt; &#123;<br>    <span class="hljs-comment">// 从后台请求钥匙2的咒语部分</span><br>    key2Button.<span class="hljs-property">disabled</span> = <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">let</span> &#123;data&#125; =  <span class="hljs-keyword">await</span> axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/spelltwo&#x27;</span>,&#123;<br>        <span class="hljs-string">&#x27;headers&#x27;</span>:&#123;<br>            <span class="hljs-title class_">Authorization</span>:<span class="hljs-string">&#x27;2b58f9a8-7d73-4a9c-b8a2-9f05d6e8e3c7&#x27;</span><br>        &#125;<br>    &#125;)<br>    spell2.<span class="hljs-property">innerHTML</span> = data;<br>    <span class="hljs-title function_">tryOpenTreasureBox</span>();<br>&#125;);<br></code></pre></td></tr></table></figure>

<h3 id="4-朋友圈"><a href="#4-朋友圈" class="headerlink" title="4. 朋友圈"></a>4. 朋友圈</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">const</span> textArea = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#text&quot;</span>);<br><span class="hljs-keyword">const</span> postBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#post&quot;</span>);<br><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;DOMContentLoaded&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> 请在此补充页面加载时缓存检查的代码</span><br>  <span class="hljs-keyword">const</span> value = <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">getItem</span>(<span class="hljs-string">&quot;savedText&quot;</span>);<br>  <span class="hljs-keyword">if</span> (value) &#123;<br>    textArea.<span class="hljs-property">innerText</span> = value;<br>  &#125;<span class="hljs-keyword">else</span>&#123;<br>    <span class="hljs-comment">// 不能用这个：</span><br>    <span class="hljs-comment">// postBtn.disabled=true</span><br>	postBtn.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;disabled&#x27;</span>,<span class="hljs-string">&#x27;disabled&#x27;</span>)<br>  &#125;<br>&#125;);<br><br><span class="hljs-comment">// 当文本框输入内容改变时，动态地设置localStorage缓存，并根据有没有文本改变按钮状态</span><br><span class="hljs-comment">// 此处使用了防抖函数，避免太过频繁地更新缓存</span><br><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;text&quot;</span>).<span class="hljs-title function_">addEventListener</span>(<br>  <span class="hljs-string">&quot;input&quot;</span>,<br>  <span class="hljs-title function_">debounce</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">// 提示正在保存中</span><br>    <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;prompt&quot;</span>).<span class="hljs-property">textContent</span> = <span class="hljs-string">&quot;正在保存中...&quot;</span>;<br><br>    <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> 请在此补充用户输入时设置缓存和调整按钮状态的代码</span><br>    <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">&quot;savedText&quot;</span>, textArea.<span class="hljs-property">value</span>);<br>    <span class="hljs-keyword">if</span>(textArea.<span class="hljs-property">value</span>)&#123;<br>      <span class="hljs-comment">// postBtn.disabled=false</span><br>	  postBtn.<span class="hljs-title function_">removeAttribute</span>(<span class="hljs-string">&#x27;disabled&#x27;</span>)<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>      postBtn.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;disabled&#x27;</span>,<span class="hljs-string">&#x27;disabled&#x27;</span>)<br>    &#125;<br><br>    <span class="hljs-comment">// TODO-END</span><br><br>    <span class="hljs-comment">// 过一段时间后提示保存完成，模拟上传数据至后台的效果</span><br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>      <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;prompt&quot;</span>).<span class="hljs-property">textContent</span> = <span class="hljs-string">&quot;内容已保存&quot;</span>;<br>    &#125;, <span class="hljs-number">750</span>);<br>  &#125;, <span class="hljs-number">200</span>)<br>);<br><br><span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;post&quot;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>  <span class="hljs-keyword">const</span> content = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;text&quot;</span>).<span class="hljs-property">value</span>;<br>  <span class="hljs-keyword">const</span> element = <span class="hljs-title function_">createContent</span>(content);<br>  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;.contents&quot;</span>).<span class="hljs-title function_">appendChild</span>(element);<br>  <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;prompt&quot;</span>).<span class="hljs-property">textContent</span> = <span class="hljs-string">&quot;&quot;</span>;<br><br>  <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> 请在此补充用户点击“发表”按钮时清空文本框和缓存的代码</span><br>  textArea.<span class="hljs-property">value</span>=<span class="hljs-string">&#x27;&#x27;</span><br>  <span class="hljs-variable language_">localStorage</span>.<span class="hljs-title function_">setItem</span>(<span class="hljs-string">&#x27;savedText&#x27;</span>, <span class="hljs-string">&quot;&quot;</span>)<br>  postBtn.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;disabled&#x27;</span>,<span class="hljs-string">&#x27;disabled&#x27;</span>)<br>&#125;);<br><br><span class="hljs-comment">// 防抖工具函数</span><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span>  &#123;<span class="hljs-type">function</span>&#125; <span class="hljs-variable">fn</span>  - 回调函数</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span>  &#123;<span class="hljs-type">string</span>&#125; <span class="hljs-variable">delay</span> - 函数执行延迟，单位为ms</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">debounce</span>(<span class="hljs-params">fn, delay</span>) &#123;<br>  <span class="hljs-comment">// return fn; // 这一行是为了确保页面正常运行，可以去掉</span><br>  <span class="hljs-keyword">let</span> timer;<br>  <span class="hljs-keyword">return</span> <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">if</span> (timer) <span class="hljs-built_in">clearTimeout</span>(timer);<br>    timer = <span class="hljs-built_in">setTimeout</span>(<span class="hljs-function">() =&gt;</span> &#123;<br>      <span class="hljs-title function_">fn</span>();<br>    &#125;, delay);<br>  &#125;;<br>  <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> 请实现函数防抖的功能</span><br>&#125;<br><br><span class="hljs-comment">// 用户点击“发表”后，创建一条新信息的DOM元素</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">createContent</span>(<span class="hljs-params">content</span>) &#123;<br>  <span class="hljs-keyword">const</span> div = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;div&quot;</span>);<br>  <span class="hljs-keyword">const</span> d = <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>();<br>  <span class="hljs-keyword">const</span> deleteBtn = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;button&quot;</span>);<br>  deleteBtn.<span class="hljs-property">textContent</span> = <span class="hljs-string">&quot;删除&quot;</span>;<br>  deleteBtn.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    div.<span class="hljs-title function_">remove</span>();<br>  &#125;);<br>  div.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">`&lt;div&gt;&lt;span class=&quot;content&quot;&gt;<span class="hljs-subst">$&#123;content&#125;</span>&lt;/span&gt;&lt;span class=&quot;date&quot;&gt;<span class="hljs-subst">$&#123;d.toLocaleString()&#125;</span>&lt;/span&gt;&lt;/div&gt;`</span>;<br>  div.<span class="hljs-title function_">appendChild</span>(deleteBtn);<br>  <span class="hljs-keyword">return</span> div;<br>&#125;<br><br></code></pre></td></tr></table></figure>



<h3 id="5-美食蛋白质揭秘"><a href="#5-美食蛋白质揭秘" class="headerlink" title="5 美食蛋白质揭秘"></a>5 美食蛋白质揭秘</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">async</span> <span class="hljs-keyword">function</span> <span class="hljs-title function_">fetchData</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">let</span> res;<br>    <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span>待补充代码</span><br>    <span class="hljs-keyword">await</span> <span class="hljs-title function_">fetch</span>(<span class="hljs-title class_">MockURL</span>)<br>        .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">response</span>) =&gt;</span> response.<span class="hljs-title function_">json</span>())<br>        .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> &#123;<br>        res = data;<br>    &#125;)<br>        .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">error</span>) =&gt;</span> <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">error</span>(<span class="hljs-string">&quot;Error:&quot;</span>, error));<br>    <span class="hljs-keyword">const</span> container = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;.protein-container&quot;</span>);<br>    <span class="hljs-keyword">let</span> cont = res.<span class="hljs-title function_">reduce</span>(<br>        <span class="hljs-function">(<span class="hljs-params">prev, now</span>) =&gt;</span><br>        prev +<br>        <span class="hljs-string">`&lt;div class=&quot;protein-item&quot;&gt;<span class="hljs-subst">$&#123;now.name&#125;</span> <span class="hljs-subst">$&#123;now.value&#125;</span>&lt;/div&gt;`</span>,<br>        <span class="hljs-string">``</span><br>    );<br>    container.<span class="hljs-property">innerHTML</span> = cont;<br>    <span class="hljs-comment">// 记得echartsInit的第一个数据要是这个：</span><br>     res.<span class="hljs-title function_">unshift</span>(&#123; <span class="hljs-attr">name</span>: <span class="hljs-string">&quot;表头&quot;</span>, <span class="hljs-attr">icon</span>: <span class="hljs-string">&quot;none&quot;</span> &#125;)<br>    <span class="hljs-title function_">echartsInit</span>(res);<br>&#125;<br><span class="hljs-title function_">fetchData</span>();<br></code></pre></td></tr></table></figure>

<h3 id="6-营业状态切换"><a href="#6-营业状态切换" class="headerlink" title="6 营业状态切换"></a>6 营业状态切换</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">useToggle</span>(<span class="hljs-params">state</span>) &#123;<br>    <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span>待补充代码</span><br>    <span class="hljs-keyword">const</span> isWorking=<span class="hljs-title function_">ref</span>(state)<br>    <span class="hljs-keyword">const</span> <span class="hljs-title function_">toggleWorking</span>=(<span class="hljs-params"></span>)=&gt;&#123;<br>        isWorking.<span class="hljs-property">value</span>=! isWorking.<span class="hljs-property">value</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> [isWorking, toggleWorking]<br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="7-小说阅读器"><a href="#7-小说阅读器" class="headerlink" title="7. 小说阅读器"></a>7. 小说阅读器</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// run/index.js</span><br><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">&quot;fs&quot;</span>);<br><span class="hljs-comment">//读取txt小说文件</span><br><span class="hljs-keyword">let</span> readFilePath = <span class="hljs-string">&quot;./run/book.txt&quot;</span>;<br><span class="hljs-keyword">let</span> writeFilePath = <span class="hljs-string">&quot;./run/book.json&quot;</span>;<br><span class="hljs-keyword">let</span> options = <span class="hljs-string">&quot;UTF-8&quot;</span>;<br><br><span class="hljs-comment">//请按照要求修改一下两个函数内容。</span><br><br><span class="hljs-comment">// run/index.js</span><br><br><span class="hljs-comment">//读取txt小说文件,并按对应数据格式返回。</span><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">readFile</span> = (<span class="hljs-params">file</span>) =&gt; &#123;<br>  <span class="hljs-comment">//TODO：待补充代码</span><br>  <span class="hljs-keyword">try</span> &#123;<br>    <span class="hljs-keyword">const</span> book = fs.<span class="hljs-title function_">readFileSync</span>(file).<span class="hljs-title function_">toString</span>()<br>    <span class="hljs-comment">// 分割字符串 + 去掉两边空字符 + 移除空行</span><br>    <span class="hljs-keyword">const</span> list = book.<span class="hljs-title function_">split</span>(<span class="hljs-regexp">/\r\n/g</span>).<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> t.<span class="hljs-title function_">trim</span>()).<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">t</span> =&gt;</span> !!t)<br><br>    <span class="hljs-keyword">const</span> res = &#123; <span class="hljs-attr">name</span>: list[<span class="hljs-number">0</span>], <span class="hljs-attr">data</span>: []&#125;<br><br>    <span class="hljs-keyword">const</span> rollReg = <span class="hljs-regexp">/^---([^-]+?)---$/</span><br>    <span class="hljs-keyword">let</span> i = <span class="hljs-number">2</span><br><br>    <span class="hljs-keyword">while</span> (i &lt; list.<span class="hljs-property">length</span>) &#123;<br>      <span class="hljs-keyword">let</span> s = list[i]<br>      <span class="hljs-keyword">if</span> (rollReg.<span class="hljs-title function_">test</span>(s)) &#123; <span class="hljs-comment">// 卷</span><br>        res.<span class="hljs-property">data</span>.<span class="hljs-title function_">push</span>(&#123; <span class="hljs-attr">isRoll</span>: <span class="hljs-literal">true</span>, <span class="hljs-attr">title</span>: rollReg.<span class="hljs-title function_">exec</span>(s)[<span class="hljs-number">1</span>] &#125;)<br>      &#125; <span class="hljs-keyword">else</span> &#123; <span class="hljs-comment">// 章节</span><br>        <span class="hljs-keyword">const</span> j = i + <span class="hljs-number">1</span><br>        <span class="hljs-keyword">while</span> (i &lt; list.<span class="hljs-property">length</span> &amp;&amp; list[i] !== <span class="hljs-string">&#x27;------------&#x27;</span>) i++ <br>        res.<span class="hljs-property">data</span>.<span class="hljs-title function_">push</span>(&#123; <span class="hljs-attr">title</span>: s, <span class="hljs-attr">content</span>: list.<span class="hljs-title function_">slice</span>(j, i) &#125;)<br>      &#125;<br>      i++<br>    &#125;<br><br>    <span class="hljs-keyword">let</span> result = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(res);<br>    <span class="hljs-keyword">return</span> result;<br>  &#125; <span class="hljs-keyword">catch</span> (err) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>  &#125;<br>&#125;;<br><span class="hljs-comment">//写入json文件中</span><br><span class="hljs-keyword">const</span> <span class="hljs-title function_">writeFile</span> = (<span class="hljs-params">file, data</span>) =&gt; &#123;<br>  <span class="hljs-comment">//TODO：待补充代码</span><br>  fs.<span class="hljs-title function_">writeFileSync</span>(file, data)<br>&#125;;<br><br><span class="hljs-comment">//以下内容请勿修改，否则将影响结果</span><br><span class="hljs-keyword">let</span> data = <span class="hljs-title function_">readFile</span>(readFilePath);<br><span class="hljs-keyword">if</span> (data != <span class="hljs-literal">null</span>) <span class="hljs-title function_">writeFile</span>(writeFilePath, data);<br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = &#123;<br>  writeFile,<br>  readFile,<br>&#125;;<br></code></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">//component</span><br><span class="hljs-title function_">next</span>(<span class="hljs-params">value</span>) &#123;<br>    <span class="hljs-comment">// TODO：待补充代码</span><br>    <span class="hljs-keyword">let</span> now = <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeChapter</span> + value;<br>    <span class="hljs-keyword">if</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">chapters</span>[now].<span class="hljs-property">isRoll</span>)&#123;<br>        now+=value<br>    &#125;<br>    <span class="hljs-keyword">let</span> rollCount = <span class="hljs-number">0</span>;<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">chapters</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">element</span>) =&gt;</span> &#123;<br>        <span class="hljs-keyword">if</span> (element.<span class="hljs-property">isRoll</span>) rollCount++;<br>    &#125;);<br>    <span class="hljs-comment">// console.log(rollCount);</span><br>    <span class="hljs-keyword">if</span> (now &lt; <span class="hljs-number">1</span> || now &gt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">chapters</span>.<span class="hljs-property">length</span> - rollCount) <span class="hljs-keyword">return</span>;<br>    <span class="hljs-keyword">else</span> <span class="hljs-variable language_">this</span>.<span class="hljs-property">activeChapter</span>=now<br>&#125;,<br><br>    <span class="hljs-title function_">created</span>(<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-comment">// TODO：待补充代码</span><br>        <span class="hljs-title function_">axios</span>(<span class="hljs-string">&quot;../run/book.json&quot;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">data</span>) =&gt;</span> &#123;<br>            <span class="hljs-comment">// console.log(data);</span><br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">bookName</span> = data.<span class="hljs-property">data</span>.<span class="hljs-property">name</span>;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-property">chapters</span> = data.<span class="hljs-property">data</span>.<span class="hljs-property">data</span>;<br>        &#125;);<br>    &#125;,<br></code></pre></td></tr></table></figure>

<h3 id="8-冰岛人"><a href="#8-冰岛人" class="headerlink" title="8. 冰岛人"></a>8. 冰岛人</h3><p>这个没问题，但是过不去</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@description</span> 通过输入的两个人的姓名返回相应的字符串</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">array</span>&#125; data 当地的人口信息</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">string</span>&#125; name1 要查询的两人名字之一</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@param</span> &#123;<span class="hljs-type">string</span>&#125; name2 要查询的两人名字之一</span><br><span class="hljs-comment"> * <span class="hljs-doctag">@return</span> &#123;<span class="hljs-type">string</span>&#125; 根据被查询两人的名字返回对应的字符串</span><br><span class="hljs-comment"> * */</span><br><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">marry</span>(<span class="hljs-params">data, name1, name2</span>) &#123;<br>  <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span>补充代码，实现目标效果</span><br>  <span class="hljs-keyword">let</span> [firstName1, lastName1] = name1.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>);<br>  <span class="hljs-keyword">let</span> [firstName2, lastName2] = name2.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot; &quot;</span>);<br>    <br>  <span class="hljs-comment">// 检查是否都在名单里</span><br>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">isExist</span> = (<span class="hljs-params">name1, name2</span>) =&gt; &#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> item <span class="hljs-keyword">of</span> data) &#123;<br>      <span class="hljs-keyword">if</span> (item.<span class="hljs-property">givenName</span> === name1 &amp;&amp; item.<span class="hljs-property">familyName</span>.<span class="hljs-title function_">indexOf</span>(name2) === <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>      &#125;<br>    &#125;<br>    <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>  &#125;;<br><br>  <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">isExist</span>(firstName1, lastName1) || !<span class="hljs-title function_">isExist</span>(firstName2, lastName2)) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;NA&quot;</span>;<br>  &#125;<br><br>  <span class="hljs-comment">// 检查是否为同性 </span><br>  <span class="hljs-keyword">let</span> genderValue = <span class="hljs-number">0</span>;<br>  <span class="hljs-keyword">const</span> <span class="hljs-title function_">checkGender</span> = (<span class="hljs-params">name1, name2</span>) =&gt; &#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">const</span> item <span class="hljs-keyword">of</span> data) &#123;<br>      <span class="hljs-keyword">if</span> (item.<span class="hljs-property">givenName</span> === name1 &amp;&amp; item.<span class="hljs-property">familyName</span>.<span class="hljs-title function_">indexOf</span>(name2) === <span class="hljs-number">0</span>) &#123;<br>        <span class="hljs-keyword">let</span> gender = item.<span class="hljs-property">familyName</span>.<span class="hljs-title function_">slice</span>(<br>          name2.<span class="hljs-property">length</span>,<br>          item.<span class="hljs-property">familyName</span>.<span class="hljs-property">length</span><br>        );<br>        <span class="hljs-keyword">if</span> (gender === <span class="hljs-string">&quot;sson&quot;</span>) genderValue += <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (gender === <span class="hljs-string">&quot;sdottir&quot;</span>) genderValue += <span class="hljs-number">2</span>;<br>      &#125;<br>    &#125;<br>  &#125;;<br>  <span class="hljs-title function_">checkGender</span>(firstName1, lastName1)<br>  <span class="hljs-title function_">checkGender</span>(firstName2, lastName2)<br><br>  <span class="hljs-keyword">if</span>(genderValue != <span class="hljs-number">3</span>) <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;Whatever&quot;</span> <br>  <br><br>&#125;<br><br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = marry;<br></code></pre></td></tr></table></figure>

<p>这是大佬写的题解，可以过去</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-keyword">function</span> <span class="hljs-title function_">marry</span>(<span class="hljs-params">data, name1, name2</span>) &#123;<br>  <span class="hljs-keyword">let</span> [na1, na2] = [name1.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27; &#x27;</span>), name2.<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27; &#x27;</span>)];<br>  <span class="hljs-keyword">let</span> givenArr = <span class="hljs-title class_">Array</span>.<span class="hljs-title function_">from</span>(data,<span class="hljs-function">(<span class="hljs-params">&#123; givenName &#125;</span>) =&gt;</span> givenName);<br>  <span class="hljs-keyword">if</span>(!givenArr.<span class="hljs-title function_">includes</span>(na1[<span class="hljs-number">0</span>]) || !givenArr.<span class="hljs-title function_">includes</span>(na2[<span class="hljs-number">0</span>])) <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;NA&#x27;</span><br>  <span class="hljs-keyword">let</span> &#123;<span class="hljs-attr">givenName</span>:gn1, <span class="hljs-attr">familyName</span>:fn1&#125; = data.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">a</span>)=&gt;</span>a.<span class="hljs-property">givenName</span>===na1[<span class="hljs-number">0</span>])<br>  <span class="hljs-keyword">let</span> &#123;<span class="hljs-attr">givenName</span>:gn2, <span class="hljs-attr">familyName</span>:fn2&#125; = data.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">a</span>)=&gt;</span>a.<span class="hljs-property">givenName</span>===na2[<span class="hljs-number">0</span>])<br>  <span class="hljs-keyword">let</span> g1 = fn1.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">&#x27;sson&#x27;</span>) || fn1.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">&#x27;m&#x27;</span>) ? <span class="hljs-string">&#x27;M&#x27;</span> : <span class="hljs-string">&#x27;F&#x27;</span>,<br>      g2 = fn2.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">&#x27;sson&#x27;</span>) || fn2.<span class="hljs-title function_">endsWith</span>(<span class="hljs-string">&#x27;m&#x27;</span>) ? <span class="hljs-string">&#x27;M&#x27;</span> : <span class="hljs-string">&#x27;F&#x27;</span>;<br>  <span class="hljs-keyword">if</span>(g1 === g2) <span class="hljs-keyword">return</span> <span class="hljs-string">&#x27;Whatever&#x27;</span>;<br><br>  <span class="hljs-keyword">function</span> <span class="hljs-title function_">findAncestor</span>(<span class="hljs-params">g, f, generation, ance = []</span>) &#123;<br>    <span class="hljs-keyword">if</span> (generation &gt;= <span class="hljs-number">3</span> || !g) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>; <span class="hljs-comment">// 出口</span><br>    <span class="hljs-keyword">let</span> parentName = f.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/sson|sdottir/</span>, <span class="hljs-string">&#x27;&#x27;</span>);<br>    <span class="hljs-keyword">let</span> &#123;<span class="hljs-attr">givenName</span>:gn, <span class="hljs-attr">familyName</span>:fn&#125; = data.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">p</span> =&gt;</span> p.<span class="hljs-property">givenName</span> === parentName);<br>    <span class="hljs-keyword">if</span> (gn) ance.<span class="hljs-title function_">push</span>(gn+fn);<br>    <span class="hljs-keyword">return</span> <span class="hljs-title function_">findAncestor</span>(gn, fn, generation + <span class="hljs-number">1</span>, ance);<br>  &#125;<br>   <span class="hljs-comment">// 获取两个人的祖先列表</span><br>  <span class="hljs-keyword">let</span> ancestors1 = [], ancestors2 = [];<br>  <span class="hljs-title function_">findAncestor</span>(gn1, fn1, <span class="hljs-number">0</span>, ancestors1);<br>  <span class="hljs-title function_">findAncestor</span>(gn2, fn2, <span class="hljs-number">0</span>, ancestors2);<br>   <span class="hljs-comment">// 检查是否有共同的祖先</span><br>   <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ancestors1, ancestors2)<br>  <span class="hljs-keyword">let</span> commonAncestor = ancestors1.<span class="hljs-title function_">some</span>(<span class="hljs-function"><span class="hljs-params">ancestor</span> =&gt;</span> ancestors2.<span class="hljs-title function_">includes</span>(ancestor));<br>  <span class="hljs-keyword">return</span> commonAncestor ? <span class="hljs-string">&#x27;No&#x27;</span> : <span class="hljs-string">&#x27;Yes&#x27;</span>;<br>&#125;<br><span class="hljs-variable language_">module</span>.<span class="hljs-property">exports</span> = marry;<br></code></pre></td></tr></table></figure>

<h3 id="9-这是一个“浏览器”"><a href="#9-这是一个“浏览器”" class="headerlink" title="9 这是一个“浏览器”"></a>9 这是一个“浏览器”</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">// 1.切换功能</span><br><span class="hljs-title function_">toggleTab</span>(<span class="hljs-params">that</span>) &#123;<br>    <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span> 添加代码，点击标签页，切换到对应标签页的功能</span><br>    that.<span class="hljs-title function_">clearClass</span>()<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&quot;liactive&quot;</span>);<br>    that.<span class="hljs-property">sections</span>[<span class="hljs-variable language_">this</span>.<span class="hljs-property">index</span>].<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&quot;conactive&quot;</span>);<br><br>    <span class="hljs-comment">// console.log(this.index);</span><br>    <span class="hljs-comment">// TODO结束</span><br>&#125;<br><span class="hljs-comment">// 2.清空所有标签页及其内容页类名</span><br><span class="hljs-title function_">clearClass</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-variable language_">this</span>.<span class="hljs-property">lis</span>.<span class="hljs-property">length</span>; i++) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">lis</span>[i].<span class="hljs-property">className</span> = <span class="hljs-string">&quot;&quot;</span>;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">sections</span>[i].<span class="hljs-property">className</span> = <span class="hljs-string">&quot;&quot;</span>;<br>    &#125;<br>&#125;<br><span class="hljs-comment">// 3.添加标签页</span><br><span class="hljs-title function_">addTab</span>(<span class="hljs-params">that</span>) &#123;<br>    <span class="hljs-comment">// TODO：添加代码，当点击加号，添加新的标签页（对应的内容页也应一并添加）</span><br>    <span class="hljs-keyword">let</span> newLi = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;li&#x27;</span>)<br>    newLi.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">`&lt;span class=&quot;content&quot;&gt;标签页<span class="hljs-subst">$&#123;that.lis.length + <span class="hljs-number">1</span>&#125;</span>&lt;/span&gt;</span><br><span class="hljs-string">    &lt;span class=&quot;iconfont icon-guanbi&quot;&gt;</span><br><span class="hljs-string">        &lt;span class=&quot;glyphicon glyphicon-remove&quot;&gt;&lt;/span&gt;</span><br><span class="hljs-string">    &lt;/span&gt;`</span><br>    that.<span class="hljs-property">ul</span>.<span class="hljs-title function_">appendChild</span>(newLi)<br><br>    <span class="hljs-keyword">let</span> newSection = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&#x27;section&#x27;</span>)<br>    newSection.<span class="hljs-property">innerText</span> = <span class="hljs-string">`标签页<span class="hljs-subst">$&#123;that.lis.length + <span class="hljs-number">1</span>&#125;</span>的内容`</span><br>    that.<span class="hljs-property">fsection</span>.<span class="hljs-title function_">appendChild</span>(newSection)<br>    that.<span class="hljs-title function_">init</span>()<br>    that.<span class="hljs-title function_">clearClass</span>()<br>    that.<span class="hljs-property">lis</span>[that.<span class="hljs-property">lis</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;liactive&#x27;</span>)<br>    that.<span class="hljs-property">sections</span>[that.<span class="hljs-property">lis</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>].<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;conactive&#x27;</span>)<br>    <span class="hljs-comment">// TODO结束</span><br>&#125;<br><span class="hljs-comment">// 4.删除功能</span><br><span class="hljs-title function_">removeTab</span>(<span class="hljs-params">that, e</span>) &#123;<br>    <span class="hljs-comment">// 阻止冒泡，不然会触发toggleTab</span><br>    e.<span class="hljs-title function_">stopPropagation</span>();<br>    <span class="hljs-keyword">let</span> index = <span class="hljs-variable language_">this</span>.<span class="hljs-property">parentNode</span>.<span class="hljs-property">index</span>, flag = <span class="hljs-number">0</span>;<br>    <span class="hljs-keyword">if</span> (that.<span class="hljs-property">lis</span>[index].<span class="hljs-property">classList</span>.<span class="hljs-property">value</span>) &#123;<br>        <span class="hljs-comment">// 删除的标签页是当前选中的标签页</span><br>        <span class="hljs-keyword">if</span> (index === that.<span class="hljs-property">lis</span>.<span class="hljs-property">length</span> - <span class="hljs-number">1</span>) &#123;<br>            flag = -<span class="hljs-number">1</span><br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            flag = <span class="hljs-number">1</span><br>        &#125;<br>        that.<span class="hljs-property">lis</span>[index + flag].<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;liactive&#x27;</span>)<br>        that.<span class="hljs-property">sections</span>[index + flag].<span class="hljs-property">classList</span>.<span class="hljs-title function_">add</span>(<span class="hljs-string">&#x27;conactive&#x27;</span>)<br>    &#125;<br>    that.<span class="hljs-property">lis</span>[index].<span class="hljs-title function_">remove</span>()<br>    that.<span class="hljs-property">sections</span>[index].<span class="hljs-title function_">remove</span>();<br>    that.<span class="hljs-title function_">init</span>();<br><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = index; i &lt; that.<span class="hljs-property">lis</span>.<span class="hljs-property">length</span>; i++) &#123;<br>        that.<span class="hljs-property">lis</span>[i].<span class="hljs-property">children</span>[<span class="hljs-number">0</span>].<span class="hljs-property">innerText</span> = <span class="hljs-string">`标签页<span class="hljs-subst">$&#123;i+<span class="hljs-number">1</span>&#125;</span>`</span><br>        that.<span class="hljs-property">sections</span>[i].<span class="hljs-property">innerText</span> = <span class="hljs-string">`标签页<span class="hljs-subst">$&#123;i+<span class="hljs-number">1</span>&#125;</span>的内容`</span><br>        <span class="hljs-comment">// console.log(that.lis[i].children[0].innerText);</span><br>    &#125;<br>&#125;<br><span class="hljs-comment">// 5.修改功能</span><br><span class="hljs-title function_">editTab</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> str = <span class="hljs-variable language_">this</span>.<span class="hljs-property">innerHTML</span>;<br>    <span class="hljs-variable language_">window</span>.<span class="hljs-property">getSelection</span><br>        ? <span class="hljs-variable language_">window</span>.<span class="hljs-title function_">getSelection</span>().<span class="hljs-title function_">removeAllRanges</span>()<br>    : <span class="hljs-variable language_">document</span>.<span class="hljs-property">Selection</span>.<span class="hljs-title function_">empty</span>();<br>    <span class="hljs-variable language_">this</span>.<span class="hljs-property">innerHTML</span> = <span class="hljs-string">&#x27;&lt;input type=&quot;text&quot; /&gt;&#x27;</span>;<br>    <span class="hljs-keyword">var</span> input = <span class="hljs-variable language_">this</span>.<span class="hljs-property">children</span>[<span class="hljs-number">0</span>];<br>    input.<span class="hljs-property">value</span> = str;<br>    input.<span class="hljs-title function_">select</span>(); <span class="hljs-comment">//让文本框里的文字处于选定状态</span><br>    <span class="hljs-comment">// TODO：实现双击修改内容，当文本框失焦时，把修改的值赋给被双击的对象，并作上已修改的标记</span><br>    <span class="hljs-comment">// console.log(this);</span><br>    input.<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;blur&quot;</span>, <span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">innerHTML</span> = input.<span class="hljs-property">value</span>;<br>    &#125;);<br>    <span class="hljs-comment">// TODO结束</span><br>&#125;<br></code></pre></td></tr></table></figure>

<h3 id="10-趣味加密解密"><a href="#10-趣味加密解密" class="headerlink" title="10 趣味加密解密"></a>10 趣味加密解密</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><code class="hljs js"><span class="hljs-comment">/*</span><br><span class="hljs-comment">    加密函数 encryption 接受两个参数 plainText 和 codes ，能够实现对明文的加密，并返回加密后的密文字符串。</span><br><span class="hljs-comment">    函数参数 plainText 是用户输入的明文，类型为 String 字符串。</span><br><span class="hljs-comment">    函数参数 codes 是用户输入的密码表，类型也为 String 字符串，并且可能存在重复字符，需要进行去重</span><br><span class="hljs-comment">    若去重后 codes 长度小于 2 则应采用默认密码表 defaultCodes 。</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">encryption</span>(<span class="hljs-params">plainText, codes</span>) &#123;<br>  <span class="hljs-comment">//TODO</span><br>  <span class="hljs-keyword">let</span> plainArray = <span class="hljs-title function_">string2Unit8Array</span>(plainText);<br>  <span class="hljs-comment">// 需要使用去重后的密钥</span><br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(plainArray);<br>  codes = [...<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(codes)].<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot;&quot;</span>);<br>  <span class="hljs-keyword">if</span> (codes.<span class="hljs-property">length</span> &lt; <span class="hljs-number">2</span>) codes = defaultCodes;<br><br>  <span class="hljs-comment">//   4. 单位长度：log length(code)(256)=2</span><br>  <span class="hljs-keyword">let</span> len = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">256</span>) / <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">log</span>(codes.<span class="hljs-property">length</span>));<br>  <span class="hljs-keyword">let</span> dive = codes.<span class="hljs-property">length</span>;<br><br>  <span class="hljs-keyword">let</span> ans = [];<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; plainArray.<span class="hljs-property">length</span>; i++) &#123;<br>    <span class="hljs-keyword">let</span> stringTemp = <span class="hljs-string">&quot;&quot;</span>;<br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> idx = <span class="hljs-number">0</span>; idx &lt; len; idx++) &#123;<br>      stringTemp = codes[plainArray[i] % dive] + stringTemp;<br>      plainArray[i] /= dive;<br>    &#125;<br>    ans.<span class="hljs-title function_">push</span>(stringTemp);<br>  &#125;<br>  <span class="hljs-keyword">return</span> ans.<span class="hljs-title function_">map</span>(<span class="hljs-function">(<span class="hljs-params">str</span>) =&gt;</span> str.<span class="hljs-title function_">split</span>(<span class="hljs-string">&quot;&quot;</span>).<span class="hljs-title function_">reverse</span>().<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot;&quot;</span>)).<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot;&quot;</span>);<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    加密函数 decryption 接受两个参数 cipherText 和 codes ，能够实现对密文的解密，并返回解密之后的明文字符串。</span><br><span class="hljs-comment">    函数参数 cipherText 是用户输入的密文，类型为 String 字符串。</span><br><span class="hljs-comment">    函数参数 codes 是用户输入的密码表，类型也为 String 字符串，并且可能存在重复字符，需要进行去重</span><br><span class="hljs-comment">    若去重后 codes 长度小于 2 则应采用默认密码表 defaultCodes 。</span><br><span class="hljs-comment">*/</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">decryption</span>(<span class="hljs-params">cipherText, codes</span>) &#123;<br>  <span class="hljs-comment">//TODO</span><br>  codes = [...<span class="hljs-keyword">new</span> <span class="hljs-title class_">Set</span>(codes)].<span class="hljs-title function_">join</span>(<span class="hljs-string">&quot;&quot;</span>);<br>    <span class="hljs-keyword">if</span> (codes.<span class="hljs-property">length</span> &lt; <span class="hljs-number">2</span>) codes = defaultCodes;<br>  <span class="hljs-keyword">let</span> len = <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">256</span>) / <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">log</span>(codes.<span class="hljs-property">length</span>));<br>  <span class="hljs-keyword">let</span> dive = codes.<span class="hljs-property">length</span>;<br>  <span class="hljs-keyword">if</span> (cipherText.<span class="hljs-property">length</span> % len) <span class="hljs-keyword">return</span> <span class="hljs-string">&quot;ERROR&quot;</span>;<br><br>  <span class="hljs-keyword">let</span> cipherArray = [];<br>  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; cipherText.<span class="hljs-property">length</span>; i+=len) &#123;<br>    cipherArray.<span class="hljs-title function_">push</span>(cipherText.<span class="hljs-title function_">slice</span>(i,i+len).<span class="hljs-title function_">split</span>(<span class="hljs-string">&#x27;&#x27;</span>).<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;&#x27;</span>))<br>    <span class="hljs-comment">// 不必加reverse，方便下面计算</span><br>    <span class="hljs-comment">// cipherArray.push(cipherText.slice(i,i+len).split(&#x27;&#x27;).reverse().join(&#x27;&#x27;))</span><br>  &#125;<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(cipherArray);<br><br>  <span class="hljs-keyword">let</span> ans=[]<br>  cipherArray.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item</span>)=&gt;</span>&#123;<br>    <span class="hljs-keyword">let</span> ansTmp=<span class="hljs-number">0</span><br>    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> idx = <span class="hljs-number">0</span>; idx &lt; len; idx++) &#123;<br>        ansTmp+=codes.<span class="hljs-title function_">indexOf</span>(item[idx]) * dive**idx<br>        <span class="hljs-comment">// debugger</span><br>    &#125;<br>    ans.<span class="hljs-title function_">push</span>(ansTmp)    <br>  &#125;)<br>  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ans);<br>  <span class="hljs-keyword">return</span> <span class="hljs-title function_">uint8Array2String</span>(ans)<br>&#125;<br><br><span class="hljs-comment">/*</span><br><span class="hljs-comment">    调用 encryption(&quot;你好，世界&quot;,&quot;0123456789ABCDEF&quot;) 方法，应当返回密文 &quot;4EDB0A5E5ADBFECBC84E8B697E59C8&quot; 。</span><br><span class="hljs-comment">    调用 decryption(&quot;4EDB0A5E5ADBFECBC84E8B697E59C8&quot;,&quot;0123456789ABCDEF&quot;) 方法，应当返回明文 &quot;你好，世界&quot; 。</span><br><span class="hljs-comment">*/</span><br><br><span class="hljs-comment">//以下代码请勿删除，否则可能导致检测不通过</span><br><span class="hljs-keyword">export</span> &#123; defaultCodes, encryption, decryption &#125;;<br><br></code></pre></td></tr></table></figure>

<h3 id="11-嘟嘟购物"><a href="#11-嘟嘟购物" class="headerlink" title="11 嘟嘟购物"></a>11 嘟嘟购物</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br></pre></td><td class="code"><pre><code class="hljs html"><span class="hljs-meta">&lt;!DOCTYPE <span class="hljs-keyword">html</span>&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">html</span> <span class="hljs-attr">lang</span>=<span class="hljs-string">&quot;en&quot;</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;UTF-8&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;viewport&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;./css/element-plus@2.3.7/index.css&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">link</span> <span class="hljs-attr">rel</span>=<span class="hljs-string">&quot;stylesheet&quot;</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;./css/index.css&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./lib/vue.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./css/element-plus@2.3.7/index.full.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./lib/axios.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./lib/vueDemi.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./lib/pinia.min.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">src</span>=<span class="hljs-string">&quot;./js/store.js&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>嘟嘟购物<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;app&quot;</span>&gt;</span><br>      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;c-container&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;w&quot;</span>&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;cart-filter-bar&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">em</span>&gt;</span>全部商品<span class="hljs-tag">&lt;/<span class="hljs-name">em</span>&gt;</span><br>          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>          <span class="hljs-comment">&lt;!-- 购物车主要核心区域 --&gt;</span><br>          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;cart-warp&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;cart-thead&quot;</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;t-checkbox&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;t-goods&quot;</span>&gt;</span>商品<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;t-price&quot;</span>&gt;</span>单价<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;t-num&quot;</span>&gt;</span>数量<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;t-sum&quot;</span>&gt;</span>小计<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;t-action&quot;</span>&gt;</span>操作<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-comment">&lt;!-- 商品详细模块 --&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;cart-item-list&quot;</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;cart-item check-cart-item&quot;</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in goodsCart&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;p-checkbox&quot;</span>&gt;</span><br>                  <span class="hljs-tag">&lt;<span class="hljs-name">input</span></span><br><span class="hljs-tag">                    <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span></span><br><span class="hljs-tag">                    <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;item.checked&quot;</span></span><br><span class="hljs-tag">                    <span class="hljs-attr">:name</span>=<span class="hljs-string">&quot;item.name&quot;</span></span><br><span class="hljs-tag">                    <span class="hljs-attr">:id</span>=<span class="hljs-string">&quot;item.id&quot;</span></span><br><span class="hljs-tag">                    <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;j-checkbox&quot;</span></span><br><span class="hljs-tag">                  /&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;p-goods&quot;</span>&gt;</span><br>                  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;p-img&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">&quot;item.image&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;&quot;</span> /&gt;</span><br>                  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;p-msg&quot;</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;p-price&quot;</span>&gt;</span>&#123;&#123;item.price&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;p-num&quot;</span>&gt;</span><br>                  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;quantity-form&quot;</span>&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">a</span></span><br><span class="hljs-tag">                      <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:;&quot;</span></span><br><span class="hljs-tag">                      <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;decrement&quot;</span></span><br><span class="hljs-tag">                      @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;edit(item.id,-1)&quot;</span></span><br><span class="hljs-tag">                      &gt;</span>-&lt;/a<br>                    &gt;<br>                    <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;itxt&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;item.num&quot;</span> /&gt;</span><br>                    <span class="hljs-tag">&lt;<span class="hljs-name">a</span></span><br><span class="hljs-tag">                      <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:;&quot;</span></span><br><span class="hljs-tag">                      <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;increment&quot;</span></span><br><span class="hljs-tag">                      @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;edit(item.id,1)&quot;</span></span><br><span class="hljs-tag">                      &gt;</span>+&lt;/a<br>                    &gt;<br>                  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;p-sum&quot;</span>&gt;</span>&#123;&#123;(item.num*item.price).toFixed(2)&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;p-action&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:;&quot;</span>&gt;</span>删除<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>              <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-comment">&lt;!-- 结算模块 --&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;cart-floatbar&quot;</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;select-all&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;toolbar-right&quot;</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;amount-sum&quot;</span>&gt;</span><br>                  已经选<span class="hljs-tag">&lt;<span class="hljs-name">em</span>&gt;</span>&#123;&#123;total.number&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">em</span>&gt;</span>件商品<br>                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;price-sum&quot;</span>&gt;</span>总价： <span class="hljs-tag">&lt;<span class="hljs-name">em</span>&gt;</span>￥&#123;&#123;total.price&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">em</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn-area&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;submit&quot;</span>&gt;</span>去结算<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>              <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>  <span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span><br>  <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> &#123; createApp, ref, onMounted, computed &#125; = <span class="hljs-title class_">Vue</span>;</span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> &#123; createPinia &#125; = <span class="hljs-title class_">Pinia</span>;</span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> &#123; <span class="hljs-title class_">ElMessage</span>, <span class="hljs-title class_">ElNotification</span> &#125; = <span class="hljs-title class_">ElementPlus</span>;</span><br><span class="language-javascript"></span><br><span class="language-javascript">    <span class="hljs-keyword">const</span> app = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>(&#123;</span><br><span class="language-javascript">      <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">        <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span>补充代码，实现目标效果</span></span><br><span class="language-javascript">        <span class="hljs-keyword">let</span> goodsCart = <span class="hljs-title function_">ref</span>([]);</span><br><span class="language-javascript">        <span class="hljs-keyword">let</span> detail = [];</span><br><span class="language-javascript">        <span class="hljs-keyword">let</span> goodsStore = <span class="hljs-title function_">useGoodsStore</span>();</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> <span class="hljs-title function_">edit</span> = (<span class="hljs-params">id, step</span>) =&gt; &#123;</span><br><span class="language-javascript">          <span class="hljs-keyword">let</span> target = goodsCart.<span class="hljs-property">value</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> item.<span class="hljs-property">id</span> === id);</span><br><span class="language-javascript">          <span class="hljs-keyword">if</span> (target.<span class="hljs-property">num</span> === <span class="hljs-number">1</span> &amp;&amp; step === -<span class="hljs-number">1</span>) <span class="hljs-keyword">return</span>;</span><br><span class="language-javascript">          target.<span class="hljs-property">num</span> += step;</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> total = <span class="hljs-title function_">computed</span>(<span class="hljs-function">() =&gt;</span> &#123;</span><br><span class="language-javascript">          <span class="hljs-keyword">const</span> tmp = &#123;</span><br><span class="language-javascript">            <span class="hljs-attr">number</span>: <span class="hljs-number">0</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">price</span>: <span class="hljs-number">0</span>,</span><br><span class="language-javascript">          &#125;;</span><br><span class="language-javascript">          goodsCart.<span class="hljs-property">value</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (item.<span class="hljs-property">checked</span>) &#123;</span><br><span class="language-javascript">              tmp.<span class="hljs-property">number</span> += item.<span class="hljs-property">num</span>;</span><br><span class="language-javascript">              tmp.<span class="hljs-property">price</span> += item.<span class="hljs-property">num</span> * item.<span class="hljs-property">price</span>;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">          &#125;);</span><br><span class="language-javascript">          <span class="hljs-keyword">return</span> tmp;</span><br><span class="language-javascript">        &#125;);</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> <span class="hljs-title function_">submit</span> = (<span class="hljs-params"></span>) =&gt; &#123;</span><br><span class="language-javascript">          <span class="hljs-keyword">if</span> (goodsCart.<span class="hljs-property">value</span>.<span class="hljs-title function_">every</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> !item.<span class="hljs-property">checked</span>)) &#123;</span><br><span class="language-javascript">            <span class="hljs-title class_">ElMessage</span>(&#123;</span><br><span class="language-javascript">              <span class="hljs-attr">message</span>: <span class="hljs-string">&quot;请至少选择一件商品&quot;</span>,</span><br><span class="language-javascript">              <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;warning&quot;</span>,</span><br><span class="language-javascript">            &#125;);</span><br><span class="language-javascript">            <span class="hljs-keyword">return</span>;</span><br><span class="language-javascript">          &#125;</span><br><span class="language-javascript"></span><br><span class="language-javascript">          <span class="hljs-comment">// 模拟发送请求获取所有商品的库存：</span></span><br><span class="language-javascript">          <span class="hljs-keyword">let</span> stock = [];</span><br><span class="language-javascript">          goodsCart.<span class="hljs-property">value</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (item.<span class="hljs-property">checked</span>) &#123;</span><br><span class="language-javascript">              goodsStore</span><br><span class="language-javascript">                .<span class="hljs-title function_">fetchInventory</span>(item.<span class="hljs-property">name</span>)</span><br><span class="language-javascript">                .<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res);</span><br><span class="language-javascript">                  stock.<span class="hljs-title function_">push</span>(&#123;</span><br><span class="language-javascript">                    <span class="hljs-attr">id</span>: item.<span class="hljs-property">id</span>,</span><br><span class="language-javascript">                    <span class="hljs-attr">stock</span>: res,</span><br><span class="language-javascript">                  &#125;);</span><br><span class="language-javascript">                &#125;)</span><br><span class="language-javascript">                .<span class="hljs-title function_">catch</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">                  <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(res);</span><br><span class="language-javascript">                  <span class="hljs-title class_">ElMessage</span>(&#123;</span><br><span class="language-javascript">                    <span class="hljs-attr">message</span>: <span class="hljs-string">`结算失败，<span class="hljs-subst">$&#123;res&#125;</span>`</span>,</span><br><span class="language-javascript">                    <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;error&quot;</span>,</span><br><span class="language-javascript">                  &#125;);</span><br><span class="language-javascript">                &#125;);</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">          &#125;);</span><br><span class="language-javascript"></span><br><span class="language-javascript">          <span class="hljs-comment">// 库存</span></span><br><span class="language-javascript">          goodsCart.<span class="hljs-property">value</span></span><br><span class="language-javascript">            .<span class="hljs-title function_">filter</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> item.<span class="hljs-property">checked</span>)</span><br><span class="language-javascript">            .<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">              stock.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">store</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">                <span class="hljs-keyword">if</span> (store.<span class="hljs-property">id</span> === item.<span class="hljs-property">id</span> &amp;&amp; store.<span class="hljs-property">stock</span> &lt; item.<span class="hljs-property">num</span>) &#123;</span><br><span class="language-javascript">                  <span class="hljs-title class_">ElMessage</span>(&#123;</span><br><span class="language-javascript">                    <span class="hljs-attr">message</span>: <span class="hljs-string">`结算失败，<span class="hljs-subst">$&#123;item.name&#125;</span>库存不足`</span>,</span><br><span class="language-javascript">                    <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;error&quot;</span>,</span><br><span class="language-javascript">                  &#125;);</span><br><span class="language-javascript">                  <span class="hljs-keyword">return</span>;</span><br><span class="language-javascript">                &#125;</span><br><span class="language-javascript">              &#125;);</span><br><span class="language-javascript">            &#125;);</span><br><span class="language-javascript">            <span class="hljs-title class_">ElMessage</span>(&#123;</span><br><span class="language-javascript">                    <span class="hljs-attr">message</span>: <span class="hljs-string">`结算成功`</span>,</span><br><span class="language-javascript">                    <span class="hljs-attr">type</span>: <span class="hljs-string">&quot;success&quot;</span>,</span><br><span class="language-javascript">                  &#125;);</span><br><span class="language-javascript">          <span class="hljs-comment">// 发送</span></span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">const</span> <span class="hljs-title function_">getAxios</span> = <span class="hljs-keyword">async</span> (<span class="hljs-params"></span>) =&gt; &#123;</span><br><span class="language-javascript">          <span class="hljs-keyword">await</span> <span class="hljs-title function_">axios</span>(<span class="hljs-string">&quot;./js/goods.json&quot;</span>).<span class="hljs-title function_">then</span>(<span class="hljs-function">(<span class="hljs-params">res</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">            detail = res.<span class="hljs-property">data</span>;</span><br><span class="language-javascript">          &#125;);</span><br><span class="language-javascript"></span><br><span class="language-javascript">          goodsStore.<span class="hljs-property">store</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">if</span> (item.<span class="hljs-property">stock</span>) &#123;</span><br><span class="language-javascript">              goodsCart.<span class="hljs-property">value</span>.<span class="hljs-title function_">push</span>(&#123;</span><br><span class="language-javascript">                <span class="hljs-attr">id</span>: item.<span class="hljs-property">id</span>,</span><br><span class="language-javascript">                <span class="hljs-attr">name</span>: item.<span class="hljs-property">name</span>,</span><br><span class="language-javascript">              &#125;);</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">          &#125;);</span><br><span class="language-javascript">          goodsCart.<span class="hljs-property">value</span>.<span class="hljs-title function_">forEach</span>(<span class="hljs-function">(<span class="hljs-params">item</span>) =&gt;</span> &#123;</span><br><span class="language-javascript">            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> priceImage <span class="hljs-keyword">of</span> detail) &#123;</span><br><span class="language-javascript">              <span class="hljs-keyword">if</span> (priceImage.<span class="hljs-property">id</span> === item.<span class="hljs-property">id</span>) &#123;</span><br><span class="language-javascript">                item.<span class="hljs-property">price</span> = priceImage.<span class="hljs-property">price</span>;</span><br><span class="language-javascript">                item.<span class="hljs-property">image</span> = priceImage.<span class="hljs-property">image</span>;</span><br><span class="language-javascript">                item.<span class="hljs-property">checked</span> = <span class="hljs-literal">false</span>;</span><br><span class="language-javascript">                item.<span class="hljs-property">num</span> = <span class="hljs-number">1</span>;</span><br><span class="language-javascript">              &#125;</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">          &#125;);</span><br><span class="language-javascript">          <span class="hljs-comment">// console.log(goodsCart.value);</span></span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript">        <span class="hljs-title function_">onMounted</span>(getAxios);</span><br><span class="language-javascript"></span><br><span class="language-javascript">        <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">          goodsCart,</span><br><span class="language-javascript">          edit,</span><br><span class="language-javascript">          total,</span><br><span class="language-javascript">          submit,</span><br><span class="language-javascript">        &#125;;</span><br><span class="language-javascript">        <span class="hljs-comment">// TODOEnd</span></span><br><span class="language-javascript">      &#125;,</span><br><span class="language-javascript">    &#125;);</span><br><span class="language-javascript">    app.<span class="hljs-title function_">use</span>(<span class="hljs-title class_">ElementPlus</span>);</span><br><span class="language-javascript">    app.<span class="hljs-title function_">use</span>(<span class="hljs-title function_">createPinia</span>());</span><br><span class="language-javascript">    app.<span class="hljs-title function_">mount</span>(<span class="hljs-string">&quot;#app&quot;</span>);</span><br><span class="language-javascript">  </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span><br><br></code></pre></td></tr></table></figure>

<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><code class="hljs html"><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">&quot;item in carList&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;cart-item check-cart-item&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;p-checkbox&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;item.checked&quot;</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;checkbox&quot;</span> <span class="hljs-attr">name</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;j-checkbox&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;p-goods&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;p-img&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">:src</span>=<span class="hljs-string">&quot;item.image&quot;</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">&quot;&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;p-msg&quot;</span>&gt;</span>&#123;&#123;item.name&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;p-price&quot;</span>&gt;</span>&#123;&#123;item.price&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;p-num&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;quantity-form&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:;&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;Edit(item.id,0)&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;decrement&quot;</span> &gt;</span>-<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;text&quot;</span> <span class="hljs-attr">v-model</span>=<span class="hljs-string">&quot;item.num&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;itxt&quot;</span>&gt;</span><br>            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:;&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;Edit(item.id,1)&quot;</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;increment&quot;</span> &gt;</span>+<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><br>        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;p-sum&quot;</span>&gt;</span>&#123;&#123;(item.num*item.price).toFixed(2)&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;p-action&quot;</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">&quot;javascript:;&quot;</span>&gt;</span>删除<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><span class="hljs-comment">&lt;!-- 结算模块 --&gt;</span><br><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;cart-floatbar&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;select-all&quot;</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;toolbar-right&quot;</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;amount-sum&quot;</span>&gt;</span>已经选<span class="hljs-tag">&lt;<span class="hljs-name">em</span>&gt;</span>&#123;&#123;Total.select&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">em</span>&gt;</span>件商品<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;price-sum&quot;</span>&gt;</span>总价： <span class="hljs-tag">&lt;<span class="hljs-name">em</span>&gt;</span>￥&#123;&#123;Total.price&#125;&#125;<span class="hljs-tag">&lt;/<span class="hljs-name">em</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn-area&quot;</span> @<span class="hljs-attr">click</span>=<span class="hljs-string">&quot;comMit&quot;</span>&gt;</span>去结算<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span><br><br><br><span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">&quot;module&quot;</span>&gt;</span><span class="language-javascript"></span><br><span class="language-javascript">  </span><br><span class="language-javascript">  <span class="hljs-keyword">const</span> &#123; createApp,reactive,onMounted,computed&#125; = <span class="hljs-title class_">Vue</span></span><br><span class="language-javascript">  <span class="hljs-keyword">const</span> &#123; createPinia &#125; = <span class="hljs-title class_">Pinia</span></span><br><span class="language-javascript">  <span class="hljs-keyword">const</span> &#123; <span class="hljs-title class_">ElMessage</span>, <span class="hljs-title class_">ElNotification</span>  &#125; = <span class="hljs-title class_">ElementPlus</span></span><br><span class="language-javascript">  <span class="hljs-keyword">const</span> app = <span class="hljs-title class_">Vue</span>.<span class="hljs-title function_">createApp</span>(&#123;</span><br><span class="language-javascript">    <span class="hljs-title function_">setup</span>(<span class="hljs-params"></span>) &#123;</span><br><span class="language-javascript">      <span class="hljs-comment">// <span class="hljs-doctag">TODO:</span>补充代码，实现目标效果</span></span><br><span class="language-javascript">      <span class="hljs-keyword">let</span> store=<span class="hljs-title function_">useGoodsStore</span>();</span><br><span class="language-javascript">      <span class="hljs-keyword">let</span> carList=<span class="hljs-title function_">reactive</span>([])</span><br><span class="language-javascript">      <span class="hljs-keyword">let</span> <span class="hljs-title function_">Edit</span>=(<span class="hljs-params">id,type</span>)=&gt;&#123;</span><br><span class="language-javascript">        carList.<span class="hljs-title function_">map</span>(<span class="hljs-function"><span class="hljs-params">e</span>=&gt;</span>&#123;</span><br><span class="language-javascript">          <span class="hljs-keyword">if</span>(e.<span class="hljs-property">id</span>==id)&#123;</span><br><span class="language-javascript">            e.<span class="hljs-property">num</span>=type==<span class="hljs-number">1</span>?e.<span class="hljs-property">num</span>+<span class="hljs-number">1</span>:e.<span class="hljs-property">num</span>-<span class="hljs-number">1</span></span><br><span class="language-javascript">            e.<span class="hljs-property">num</span>=e.<span class="hljs-property">num</span>&lt;<span class="hljs-number">1</span>?<span class="hljs-number">1</span>:e.<span class="hljs-property">num</span></span><br><span class="language-javascript">          &#125;</span><br><span class="language-javascript">        &#125;)</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">      <span class="hljs-keyword">let</span> <span class="hljs-title function_">comMit</span>=<span class="hljs-keyword">async</span>(<span class="hljs-params"></span>)=&gt;&#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">let</span> commit=carList.<span class="hljs-title function_">filter</span>(<span class="hljs-function"><span class="hljs-params">s</span>=&gt;</span>s.<span class="hljs-property">checked</span>)</span><br><span class="language-javascript">        <span class="hljs-keyword">if</span>(commit==<span class="hljs-literal">null</span> || commit.<span class="hljs-property">length</span>==<span class="hljs-number">0</span>)&#123;</span><br><span class="language-javascript">          <span class="hljs-title class_">ElMessage</span>(&#123;</span><br><span class="language-javascript">                <span class="hljs-attr">message</span>: <span class="hljs-string">`请至少选择一件商品`</span>,</span><br><span class="language-javascript">                <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;warning&#x27;</span>,</span><br><span class="language-javascript">              &#125;)</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> index = <span class="hljs-number">0</span>; index &lt; commit.<span class="hljs-property">length</span>; index++) &#123;</span><br><span class="language-javascript">          <span class="hljs-keyword">const</span> e = commit[index];</span><br><span class="language-javascript">          <span class="hljs-keyword">let</span> a= <span class="hljs-keyword">await</span> store.<span class="hljs-title function_">fetchInventory</span>(e.<span class="hljs-property">name</span>)</span><br><span class="language-javascript">          <span class="hljs-keyword">if</span>(a&lt;e.<span class="hljs-property">num</span>)&#123;</span><br><span class="language-javascript">              <span class="hljs-title class_">ElMessage</span>(&#123;</span><br><span class="language-javascript">                <span class="hljs-attr">message</span>: <span class="hljs-string">`结算失败，<span class="hljs-subst">$&#123;e.name&#125;</span>库存不足`</span>,</span><br><span class="language-javascript">                <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;error&#x27;</span>,</span><br><span class="language-javascript">              &#125;)</span><br><span class="language-javascript">            <span class="hljs-keyword">break</span>;</span><br><span class="language-javascript">          &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(index==commit.<span class="hljs-property">length</span>-<span class="hljs-number">1</span>)&#123;</span><br><span class="language-javascript">            <span class="hljs-title class_">ElMessage</span>(&#123;</span><br><span class="language-javascript">            <span class="hljs-attr">message</span>: <span class="hljs-string">`结算成功`</span>,</span><br><span class="language-javascript">            <span class="hljs-attr">type</span>: <span class="hljs-string">&#x27;success&#x27;</span>,</span><br><span class="language-javascript">            &#125;)</span><br><span class="language-javascript">          &#125;</span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">      <span class="hljs-keyword">let</span> <span class="hljs-title class_">Total</span>= <span class="hljs-title function_">computed</span>(<span class="hljs-function">()=&gt;</span>&#123;</span><br><span class="language-javascript">        <span class="hljs-keyword">return</span>  &#123;</span><br><span class="language-javascript">          <span class="hljs-attr">select</span>:carList.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">pre,e</span>)=&gt;</span>&#123;<span class="hljs-keyword">return</span> pre+(e.<span class="hljs-property">checked</span>*e.<span class="hljs-property">num</span>)&#125;,<span class="hljs-number">0</span>),</span><br><span class="language-javascript">          <span class="hljs-attr">price</span>:carList.<span class="hljs-title function_">reduce</span>(<span class="hljs-function">(<span class="hljs-params">pre,e</span>)=&gt;</span>&#123;<span class="hljs-keyword">return</span> pre+(e.<span class="hljs-property">checked</span>?e.<span class="hljs-property">price</span>*e.<span class="hljs-property">num</span>:<span class="hljs-number">0</span>)&#125;,<span class="hljs-number">0</span>).<span class="hljs-title function_">toFixed</span>(<span class="hljs-number">2</span>),</span><br><span class="language-javascript"></span><br><span class="language-javascript">        &#125;</span><br><span class="language-javascript">      &#125;)</span><br><span class="language-javascript">      <span class="hljs-title function_">onMounted</span>(<span class="hljs-title function_">async</span>()=&gt;&#123;</span><br><span class="language-javascript">        axios.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;./js/goods.json&#x27;</span>)</span><br><span class="language-javascript">        .<span class="hljs-title function_">then</span>(<span class="hljs-function"><span class="hljs-params">r</span>=&gt;</span>&#123;</span><br><span class="language-javascript">          <span class="hljs-keyword">let</span> data=r.<span class="hljs-property">data</span></span><br><span class="language-javascript">          data.<span class="hljs-title function_">forEach</span>(<span class="hljs-function"><span class="hljs-params">element</span> =&gt;</span> &#123;</span><br><span class="language-javascript">           <span class="hljs-keyword">let</span> stock= store.<span class="hljs-property">store</span>.<span class="hljs-title function_">find</span>(<span class="hljs-function"><span class="hljs-params">s</span>=&gt;</span>s.<span class="hljs-property">id</span>==element.<span class="hljs-property">id</span>).<span class="hljs-property">stock</span></span><br><span class="language-javascript">           element.<span class="hljs-property">num</span>=<span class="hljs-number">1</span></span><br><span class="language-javascript">           element.<span class="hljs-property">checked</span>=<span class="hljs-literal">false</span></span><br><span class="language-javascript">            <span class="hljs-keyword">if</span>(stock!=<span class="hljs-number">0</span>)&#123;</span><br><span class="language-javascript">              carList.<span class="hljs-title function_">push</span>(element)</span><br><span class="language-javascript">            &#125;</span><br><span class="language-javascript">          &#125;);</span><br><span class="language-javascript">        &#125;)</span><br><span class="language-javascript">      &#125;)</span><br><span class="language-javascript">      <span class="hljs-keyword">return</span> &#123;</span><br><span class="language-javascript">        store,</span><br><span class="language-javascript">        carList,</span><br><span class="language-javascript">        <span class="hljs-title class_">Total</span>,</span><br><span class="language-javascript">        <span class="hljs-title class_">Edit</span>,</span><br><span class="language-javascript">        comMit</span><br><span class="language-javascript">      &#125;</span><br><span class="language-javascript">      <span class="hljs-comment">// TODOEnd</span></span><br><span class="language-javascript">    &#125;,</span><br><span class="language-javascript">  &#125;);</span><br></code></pre></td></tr></table></figure>




















                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/%E5%89%8D%E7%AB%AF/" class="print-no-link">#前端</a>
      
        <a href="/tags/%E8%93%9D%E6%A1%A5%E6%9D%AF/" class="print-no-link">#蓝桥杯</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>前端笔记</div>
      <div>https://asxjdb.github.io/2023/06/24/前端笔记/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>作者</div>
          <div>Asxjdb</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>发布于</div>
          <div>2023年6月24日</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>许可协议</div>
          <div>
            
              
              
                <a class="print-no-link" target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - 署名">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2023/06/24/Java%E7%AC%94%E8%AE%B0/" title="Java笔记">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Java笔记</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/06/22/AcWing-ch3/" title="AcWing 第3讲 搜索与图论">
                        <span class="hidden-mobile">AcWing 第3讲 搜索与图论</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
  
  
    <article id="comments" lazyload>
      

    </article>
  


          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header">
    <i class="iconfont icon-list"></i>
    <span>目录</span>
  </p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <div> <span id="timeDate">载入天数...</span> <span id="times">载入时分秒...</span> <script src="/js/duration.js"></script> <br/> <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> </div> 
    </div>
  
  
    <div class="statistics">
  
  

  
    
      <span id="busuanzi_container_site_pv" style="display: none">
        总访问量 
        <span id="busuanzi_value_site_pv"></span>
         次
      </span>
    
    
      <span id="busuanzi_container_site_uv" style="display: none">
        总访客数 
        <span id="busuanzi_value_site_uv"></span>
         人
      </span>
    
    
  
</div>

  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  var relativeDate = function() {
    var updatedTime = document.getElementById('updated-time');
    if (updatedTime) {
      var text = updatedTime.textContent;
      var reg = /\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}(?:Z|[+-]\d{2}:\d{2})/;
      var matchs = text.match(reg);
      if (matchs) {
        var relativeTime = moment(matchs[0]).fromNow();
        updatedTime.textContent = text.replace(reg, relativeTime);
      }
      updatedTime.style.display = '';
    }
  };
  Fluid.utils.createScript('https://lib.baomitu.com/moment.js/2.29.4/moment.min.js', function() {
    if (!'zh-cn'.startsWith('en')) {
      Fluid.utils.createScript('https://lib.baomitu.com/moment.js/2.29.4/locale/zh-cn.min.js', function() {
        relativeDate();
      });
    } else {
      relativeDate();
    }
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div>
  </noscript>
</body>
</html>
